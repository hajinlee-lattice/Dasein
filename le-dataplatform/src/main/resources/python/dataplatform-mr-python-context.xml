<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:hdp="http://www.springframework.org/schema/hadoop"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans.xsd
       http://www.springframework.org/schema/hadoop
       http://www.springframework.org/schema/hadoop/spring-hadoop.xsd">

    <import resource="classpath:yarn-mr-config-context.xml"/>

    <!-- Configures the Python job. -->
    <hdp:job id="pythonMRJob" mapper="com.latticeengines.dataplatform.runtime.mapreduce.python.PythonMapperBase"/>

    <bean id="pythonMRCustomization"
        class="com.latticeengines.dataplatform.runtime.mapreduce.python.PythonMRJob">
        <constructor-arg ref="hadoopConfiguration" />
        <constructor-arg ref="mapReduceCustomizationRegistry" />
        <constructor-arg ref="versionManager" />
        <constructor-arg ref="emrCacheService" />
        <constructor-arg value="${dataplatform.hdfs.stack}" />
        <constructor-arg value="${dataplatform.python.conda.env}" />
        <constructor-arg value="${dataplatform.python.conda.env.ambari}" />
        <constructor-arg value="${hadoop.use.emr}" />
    </bean>

</beans>
