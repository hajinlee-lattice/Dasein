<section class="row create-pipeline-main">
  <div class="col-xs-4">
    <h4>{{::vm_analyticPipeline.labels.ANALYTIC_PIPELINES}}</h4>
    <ul class="pipeline-list">
      <li ng-repeat="pipeline in vm_analyticPipeline.analyticPipelines"
        ng-class="{selected: vm_analyticPipeline.selectedPipeline === pipeline}"
        ng-click="vm_analyticPipeline.selectPipeline(pipeline)">
        {{::pipeline.name}}
      </li>
    </ul>
  </div>
  <div ng-if="vm_analyticPipeline.loading" class="col-xs-8">
    <div class="loader"> </div>
    <h2 class="text-center">{{::vm_createPipelineStep.labels.LOAD_SAVING}}</h2>
  </div>
  <div ng-if="!vm_analyticPipeline.loading" class="col-xs-8">
    <h4>{{::vm_analyticPipeline.labels.NEW_ANALYTIC_PIPELINE}}</h4>
    <div ng-if="vm_analyticPipeline.message" class="row">
      <p class="alert" ng-class="vm_analyticPipeline.error ? 'alert-danger' : 'alert-success'">
        {{vm_analyticPipeline.message}}
      </p>
    </div>
    <div class="form-group row">
      <label class="form-inline">{{::vm_analyticPipeline.labels.PIPELINE_NAME}}:
        <input type="text" class="form-control" ng-model="vm_analyticPipeline.pipeline.name" placeholder="{{::vm_analyticPipeline.labels.PIPELINE_NAME}}" />
      </label>
    </div>
    <div class="form-group row" ng-repeat="prop in vm_analyticPipeline.props">
      <form name="analyticPipeline">
        <label class="form-inline">{{::prop.displayName}}:
          <select class="form-control" ng-model="vm_analyticPipeline.pipeline[prop.key]">
            <option ng-repeat="opt in vm_analyticPipeline.propertyOptions[prop.key]" value="{{::opt.name}}">{{::opt.name}}</option>
          </select>
        </label>
      </form>
    </div>
    <div class="row">
      <hr>
    </div>
    <div class="row">
      <div class="pull-right">
        <button class="btn btn-default"
          ng-click="vm_analyticPipeline.savePipeline()">{{::vm_analyticPipeline.labels.SAVE}}</button>
        <button class="btn" ng-click="vm_analyticPipeline.clearPipeline()">{{::vm_analyticPipeline.labels.CLEAR}}</button>
      </div>
    </div>
  </div>
</section>
