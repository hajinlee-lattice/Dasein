<div
  class="import-accountid container file-import-content"
  ng-if="!vm.isMultipleTemplates()"
>
  <div class="header">
    <h2>Contact ID</h2>
    <p>
      Select your unique IDs to de-duplicate your contact records.
    </p>
  </div>
  <form name="form">
    <div class="id-options" ng-init="vm.checkFieldsDelay(form)">
      <div class="id-options-item">
        <div>
          <label for="dedupeField">Unique Contact Identifier</label>
          <select
            class="form-control"
            ng-model="vm.fieldMapping.contact"
            ng-init="vm.checkValidDelay(form)"
            ng-change="vm.changeLatticeField(vm.fieldMapping, form)"
            ng-required="!vm.entityMatchEnabled"
            ng-class="{'required': !vm.entityMatchEnabled}"
          >
            <option ng-if="!vm.entityMatchEnabled" value="" hidden disabled
              >-- Choose Unique Identifier --</option
            >
            <option ng-if="vm.entityMatchEnabled" value=""
              >-- Choose Unique Identifier --</option
            >
            <option
              ng-repeat="AvailableField in vm.AvailableFields"
              value="{{ AvailableField.userField }}"
              ng-disabled="vm.unavailableFields.indexOf(AvailableField.userField) !== -1"
            >
              {{ AvailableField.userField }}
            </option>
          </select>
        </div>
      </div>
    </div>
    <div
      class="contactid-note"
      ng-if="vm.entityMatchEnabled && !vm.fieldMapping.contact"
    >
      <strong>Note:</strong> If a unique ID is not available, Lattice will
      automatically identify duplicates as follows
      <ol>
        <li>Email ID</li>
        <li>First Name, Last Name & Phone (All three has to be available)</li>
      </ol>
    </div>
    <!-- ENABLED_ENTITY_MATCH / PLS-12303 -->
    <!-- 
        <div class="id-options">
            <div class="id-options-item">
                <div>
                    <label for="dedupeField">Unique Account Identifier</label>
                    <select 
                        class="form-control"
                        ng-model="vm.fieldMapping.account"
                        ng-change="vm.changeLatticeField(vm.fieldMapping, form)"
                        ng-required="true"
                        ng-class="{'required': true}">
                        <option value="" hidden disabled>-- Choose Unique Identifier --</option>
                        <option ng-repeat="AvailableField in vm.AvailableFields" value="{{AvailableField.userField}}" ng-disabled="vm.unavailableFields.indexOf(AvailableField.userField) !== -1">
                            {{AvailableField.userField}}
                        </option>
                   </select>
                </div>
            </div>
        </div>
 -->
  </form>
</div>

<div
  class="import-multipletemplates container file-import-content"
  ng-if="vm.isMultipleTemplates()"
>
  <div class="header">
    <h2>Unique ID</h2>
    <p>
      Select your unique IDs to de-duplicate your contact records.
    </p>
  </div>
  <form name="form">
    <div class="id-options" ng-init="vm.checkFieldsDelay(form)">
      <div class="id-options-item">
        <div>
          <label for="dedupeField">
            This field will be available as 'your system name'.Contact ID in My
            Attributesâ€‹
          </label>
          <select class="form-control">
            <option>
              System 1
            </option>
          </select>
        </div>
      </div>
      <label>
        Match with ID
        <input type="checkbox" />
      </label>
      <p>Note:</p>
    </div>
  </form>

  <div class="match-ids file-import-content">
    <div class="header">
      <h2>Match IDs</h2>
      <p>
        Select Other IDS from in your file uploaded. This ids will be used to match you accounts with accounts from other systems
      </p>
      <br>
      <p>Note: These are not used to de-duplicate your accounts</p>
      <br>
    </div>

    <form name="form">
      <ul class="field-mapping">
        <li class="header">
          <ul class="match-id-header">
            <li class="system-name">Fields in the uploaded File</li>
            <li class="system-type">Use ID from System</li>
          </ul>
        </li>
        <li
          class="field"
          ng-repeat="field in vm.fields track by $index"
          ng-init="vm.fieldMapping[$index] = vm.fieldMapping[$index] || {}"
        >
          <ul>
            <li class="system-name">
              <input
                class="form-control"
                type="text"
                ng-model="vm.fieldMapping[$index].mappedField"
                ng-blur="vm.changeLatticeField(vm.fieldMapping, form)"
                ng-init="vm.checkValidDelay(form)"
                ng-required="true"
              />
            </li>
            <li class="system-type">
              <select
                class="form-control"
                ng-model="vm.fieldMapping[$index].cdlExternalSystemType"
                ng-required="true"
                ng-class="{'required': true}"
                ng-change="vm.changeLatticeField(vm.fieldMapping, form)"
              >
                <option value="" hidden disabled>--</option>
                <option ng-repeat="type in field.types" value="{{ type }}">
                  {{ type }}
                </option>
              </select>
            </li>
            <li class="remove-button">
              <span
                title="remove mapping"
                ><i class="fa fa-times"></i
              ></span>
            </li>
          </ul>
        </li>
      </ul>
    </form>
    <button
      class="button gray-button"
      type="button"
      ng-click="vm.addIdentifier($event)"
    >
      Add
    </button>
  </div>
</div>
