<section class="container setup-import">
<form name="uploadForm" ng-controller="csvImportController" novalidate>
  <div class="row">
    <div class="columns six offset-three">
        <!-- Error messaging
        <div data-ng-show="showError">
            <div class="alert alert-danger">
                <span><i class="fa fa-exclamation-circle fa-inverse"></i>Error messaging goes here</span>
                <a class="close" href="javascript:void(0)" data-ng-click="closeErrorClick($event)"><i class="fa fa-times fa-inverse"></i></a>
            </div>
        </div>
        -->
        <div class="form-group" ng-class="{ 'has-error' : uploadForm.modelName.$invalid && !uploadForm.modelName.$pristine }">
          <label>Model Name <span class="more-info" tooltips tooltip-template="<h4>Naming Convention</h4><p>We recommend organizing your models based on segment or target market.</p><a href='#'>More information</a>" tooltip-side="right" tooltip-size="large" tooltip-close-button="true">&#105;</span></label>
          <input 
            type="text" 
            class="form-control" 
            name="modelName" 
            ng-model="modelName" 
            ng-minlength="1"
            ng-maxlength="35"
            placeholder="Example: US Enterprise model"
            required />
          <p class="help-block">* Model Name must be specified.</p>
        </div>

        <div class="form-group file-upload" ng-class="{ 'has-error' : uploadForm.csvFileName.$invalid && !uploadForm.csvFileName.$pristine }">

          <label for="loadfile">Upload CSV File <span class="more-info" tooltips tooltip-template="<h4>CSV File</h4><p>Creating a CSV file with one row per lead with the fields which you want to train the prediction model with. For best results, there should be at least 50,000 leads, 500 of which should indicate success, and the conversion rate should be between 1% and 10%.</p><a href='#'>More information</a><h4 class='divider'>Required Fields</h4><p>Required fields are Email, Customer ID, and Success.</p><p>Additional fields may be added to help the system learn. Fields should be chosen carefully to ensure they add value and do not degrade the model.</p><a href='#'>More information</a>" tooltip-side="right" tooltip-size="large" tooltip-close-button="true">&#105;</span></label>
          <input 
            id="uploadFile" 
            class="form-control" 
            disabled="disabled"
            placeholder="Choose File" />
          <div class="fileUpload button blue-button">
              <span>Browse...</span>
              <input 
                id="uploadBtn"
                name="csvFileName"
                ng-model="csvFileName"
                required
                type="file" 
                class="upload"
                csv-uploader="csvFile" />
          </div>
          <p class="help-block">* Please choose a file to upload.</p>
        </div>

        <!-- Script needed to get filepath and place it into the input field -->
        <script>
          document.getElementById("uploadBtn").onchange = function () {
              document.getElementById("uploadFile").value = this.value.substring(12);
          };
        </script>

        <div class="form-group">
          <div class="toggle-check">
            <label for="account-lead-check">Account Based</label>
            <input type="checkbox" name="account-lead-check" ng-model="accountLeadCheck" id="account-lead-check" class="toggle-switch" />
            <label for="account-lead-check">Lead Based</label>
          </div>          
        </div>

    </div><!-- End .six.columns -->
  </div><!-- End .container.row -->

  <div class="row form-actions">
    <div class="three columns offset-three">
        <button 
            type="button" 
            ui-sref="models"
            class="button gray-button block-button">
          Cancel</button>
    </div>
    <div class="three columns">
        <button 
            type="button" 
            class="button orange-button block-button"
            ng-disabled="uploadForm.$invalid"
            ng-click="uploadFile()">
          Start the Data Import
        </button>
    </div>
  </div>

</form>
</section>