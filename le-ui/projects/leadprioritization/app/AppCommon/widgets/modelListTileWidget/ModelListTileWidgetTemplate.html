<div 
        class="model-tile {{isActive ? '' : 'inactive'}}" 
        ng-click="tileClick($event)" 
        ng-mouseleave="showCustomMenu ? customMenuClick($event) : null"
        ui-sref="{{data.ModelFileType != 'PmmlModel'?'home.model.attributes':'home.model.jobs'}}({ modelId: '{{ data.Id | escape }}' })">
    <div class="model-image {{ data.ModelType }} {{ data.ModelFileType }}"></div>
    <div class="model-title" data-ng-if="!nameStatus.editing">
        <h2 data-type="text" data-placement="right" class="editable editable-click" title="{{::data.DisplayName}}">{{::data.DisplayName | limitTo: 36 }}{{::data.DisplayName.length > 36 ? '&hellip;' : ''}}</h2>
        <h2 class="edit">
            <button 
                    type="button"
                    ng-click="customMenuClick($event)" 
                    ng-class="{ 'open': showCustomMenu }">
                <span class="fa fa-ellipsis-v" ng-class="{ 'fa-rotate-180': showCustomMenu }"></span>
            </button>
            <ul class="model-menu" ng-if="showCustomMenu">
                <li 
                        data-ng-if="!isActive" 
                        data-ng-click="updateAsActiveClick($event); Activating = true;">
                    <a href="javascript:void(0)">Activate</a>
                    <i class="fa {{Activating ? 'fa-spinner fa-pulse fa-fw' : 'fa-play-circle-o'}}"></i>
                </li>

                <li 
                        data-ng-if="mayChangeModelNames"
                        data-ng-click="modelNameEditClick($event)">
                    <a href="javascript:void(0)" data-title="Enter Model Name">Rename</a>
                    <i class="fa fa-edit"></i>
                </li>

                <li 
                        ui-sref="home.model.refine({ modelId: '{{ data.Id | escape }}' })" 
                        data-ng-if="data.ModelType && showReviewAndClone && data.ModelFileType != 'PmmlModel'"
                        data-ng-click="refineAndCloneClick($event)">
                    <a href="javascript:void(0)" title="Refine &amp; Clone this Model">Refine &amp; Clone</a><!--Refine &amp; Clone-->
                    <i class="fa fa-copy"></i>
                </li>

                <li
                        ui-sref="home.model.review.columns({ modelId: '{{ data.Id | escape }}' })" 
                        data-ng-if="data.ModelType && data.ModelFileType != 'PmmlModel'"
                        data-ng-click="reviewClick($event)">
                    <a href="javascript:void(0)">Review Model</a>
                    <i class="fa fa-eye"></i>
                </li>

                <li 
                        data-ng-if="isActive" 
                        data-ng-click="updateAsInactiveClick($event);">
                    <a href="javascript:void(0)">Deactivate</a>
                    <i class="fa {{Deactivating ? 'fa-spinner fa-pulse fa-fw' : 'fa-stop-circle-o'}}"></i>
                </li>

                <li 
                        data-ng-if="mayDeleteModels && !isActive" 
                        data-ng-click="deleteModelClick($event)">
                    <a href="javascript:void(0)">Delete</a>
                    <i class="fa fa-trash"></i>
                </li>
            </ul>
        </h2>
    </div>        
    <div class="model-title" data-ng-if="nameStatus.editing" data-ng-controller="ChangeModelNameController">
        <div novalidate class="form-inline editable-container editableform" name="form">
            <div class="control-group">
                <input type="text" class="form-control" data-ng-model="DisplayName" placeholder="{{::DisplayName}}"/>
                <div class="editable-buttons">
                    <button class="button blue-button editable-cancel" data-ng-click="cancel($event)">Cancel</button>
                    <button class="button orange-button editable-submit" data-ng-click="submit($event)">Save</button>
                </div>
                <label class="global-error model-error" data-ng-if="showNameEditError">
                    <span><i class="fa fa-exclamation-circle fa-inverse"></i> {{::nameEditErrorMessage}}</span>
                </label>
            </div>
        </div>
    </div>
    <div class="meta-data">
        <dl class="stats">
            <dt>{{::ResourceUtility.getString('MODEL_TILE_CREATED_DATE_LABEL')}}</dt>
            <dd class="small">{{::data.CreatedDate}}</dd>
        </dl>
        <div class="status">
            <span data-ng-if="!isActive" class="error-text">{{::ResourceUtility.getString('MODEL_DETAILS_INACTIVE_LABEL')}}</span>
            <span data-ng-if="isActive" class="success-text">{{::ResourceUtility.getString('MODEL_DETAILS_ACTIVE_LABEL')}}</span>
        </div>
    </div>

</div><!-- End .model -->
