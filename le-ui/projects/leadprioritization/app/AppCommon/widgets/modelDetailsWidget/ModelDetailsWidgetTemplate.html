<div 
    ng-controller="ModelDetailsWidgetController"
    class="summary"
    ng-class="[modelingStrategy, modelType]">

    <div class="container row">
        <div class="ten columns offset-one">

            <div class="summary-info" ng-if="IsRatingEngine || IsRuleBased">
                <h2>
                    <span ng-if="modelingStrategy === 'CROSS_SELL_REPEAT_PURCHASE'">Repeat Cross-Sell</span>
                    <span ng-if="modelingStrategy === 'CROSS_SELL_FIRST_PURCHASE'">New Cross-Sell</span>
                    <span ng-if="type === 'RULE_BASED'">Rule Based</span>
                    <span ng-if="type === 'CUSTOM_EVENT'">Custom Event</span>
                </h2>
                <h1>{{ displayName }}</h1>
                <p>Created by {{ createdBy }} on {{ created | date }}</p>
            </div>

            <!-- Active Version of CDL Model -->
            <div class="data" ng-if="(IsRatingEngine && !isActiveModel) || IsRuleBased">
                <div class="stats stats-group">
                    <h3>Segment</h3>
                    <h4 class="text-ellipsis">{{ segmentName }}</h4>
                </div>
                <div class="stats stats-group">
                    <h3>Accounts</h3>
                    <h4>{{ totalAccounts | number }}</h4>
                </div>
                <div class="stats stats-group" ng-if="!IsRuleBased">
                    <h3>Iterations Created</h3>
                    <h4>{{ totalIterations }}</h4>
                </div>
                <div class="stats stats-group">
                    <h3>Scoring</h3>
                    <h4>{{ activeStatus }} ( Iteration {{ activeIteration }} )</h4>
                    <p>Last data refresh {{ lastRefreshedDate | date }}</p>
                </div>
            </div>

            <!-- Viewing an Iteration -->
            <!-- <div class="data" ng-if="(IsRatingEngine && !isActiveModel) && !IsRuleBased">
                <div class="stats stats-group">
                    <h3>Segment</h3>
                    <h4 class="text-ellipsis">{{ segmentName }}</h4>
                </div>
                <div class="stats stats-group">
                    <h3>Accounts</h3>
                    <h4>{{ totalAccounts | number }}</h4>
                </div>
                <div class="stats stats-group" ng-if="!IsRuleBased">
                    <h3>Total Conversions</h3>
                    <h4>314 (3.11%)</h4>
                </div>
                <div class="stats stats-group">
                    <div class="stats stats-group">
                        <h3>Attribute Source</h3>
                        <dl>
                            <dt>192 Lattice</dt>
                        </dl>
                        <dl>
                            <dt>4 Your Company</dt>
                        </dl>
                    </div>
                </div>
            </div> -->


            <!-- LPI Model Details -->
            <div class="data" ng-if="!IsRatingEngine && !IsRuleBased">
                <div class="stats stats-group">
                    <h3>Overview</h3>
                    <dl>
                        <dt>{{::ResourceUtility.getString('MODEL_TILE_STATUS_LABEL')}}</dt>
                        <dd id="detail-status">{{::status}}</dd>
                    </dl>
                    <dl>
                        <dt>{{::ResourceUtility.getString('MODEL_TILE_CREATED_DATE_LABEL')}}</dt>
                        <dd id="detail-created">{{::createdDate}}</dd>
                    </dl>
                </div>
                <div class="stats stats-group" ng-if="!IsPmml">
                    <h3>{{::modelTypeLabel}}</h3>
                    <dl>
                        <dt>{{::ResourceUtility.getString('MODEL_DETAILS_TOTAL_LEADS_LABEL')}}</dt>
                        <dd id="detail-total-leads">{{::totalLeads}}</dd>
                    </dl>
                    <dl>
                        <dt>{{::ResourceUtility.getString('MODEL_DETAILS_TEST_SET_LABEL')}}</dt>
                        <dd id="detail-test-leads">{{::testSet}}</dd>
                    </dl>
                    <dl>
                        <dt>{{::ResourceUtility.getString('MODEL_DETAILS_TRAINING_SET_LABEL')}}</dt>
                        <dd id="detail-train-leads">{{::trainingSet}}</dd>
                    </dl>
                </div>

                <div class="stats stats-group" ng-if="!IsPmml">
                    <h3>{{::ResourceUtility.getString('MODEL_DETAILS_CONVERSIONS_TITLE')}}</h3>
                    <dl>
                        <dt>{{::ResourceUtility.getString('MODEL_DETAILS_SUCCESS_EVENTS_LABEL')}}</dt>
                        <dd id="detail-conversions">{{::totalSuccessEvents}}</dd>
                    </dl>
                    <dl>
                        <dt>{{::ResourceUtility.getString('MODEL_DETAILS_CONVERSION_RATE_LABEL')}}</dt>
                        <dd id="detail-conversion-rate">{{::conversionRate}}%</dd>
                    </dl>
                </div>
                <div class="stats stats-group" ng-if="!IsPmml">
                    <h3>{{::ResourceUtility.getString('MODEL_DETAILS_ATTRIBUTES_TITLE')}}</h3>
                    <dl>
                        <dt>{{::ResourceUtility.getString('MODEL_TILE_EXTERNAL_LABEL')}}</dt>
                        <dd id="detail-external-attributes">{{::externalAttributes}}</dd>
                    </dl>
                    <dl>
                        <dt>{{::ResourceUtility.getString('MODEL_TILE_INTERNAL_LABEL')}}</dt>
                        <dd id="detail-internal-attributes">{{::internalAttributes}}</dd>
                    </dl>
                </div>
            </div>

        </div>
    </div>

</div><!-- End .summary -->
