<header>
    <div class="secondary-nav noselect-children" ng-class="{'model-details-page': isModelDetailsPage}">
        <!-- <img ng-show="!isModelDetailsPage" class="no-nav-logo" src="/assets/images/logo-lattice-color.png" alt="Lattice Logo" /> -->
        <!-- <span class="ico ico-model ico-light-gray"></span> -->
        <ul class="secondary-nav-grid">
            <li ng-if="isModelDetailsPage && modelDisplayName" class="model-name-container" title="{{modelDisplayName}}">

                <a ui-sref="home.models" ng-if="isModelDetailsPage && !IsRatingEngine" class="model-name">{{ modelDisplayName }}</a>

                <a ui-sref="home.ratingsengine" ng-if="isModelDetailsPage && IsRatingEngine" class="model-name">{{ modelDisplayName }}</a>

            </li>
            <li ng-if="headerBack" class="header-back-name-container" title="{{headerBack.displayName}}">
                <a ui-sref="{{headerBack.sref}}" class="header-back-name">{{ headerBack.displayName }}</a>
            </li>
            <li class="page-icon-container">
                <span ng-if="pageDisplayIcon" class="page-icon ico-container">
                    <span class="ico {{ pageDisplayIcon }}"></span>
                </span>
            </li>
            <li class="page-name-container">
                <span ng-if="pageDisplayName" class="page-name">{{ pageDisplayName }}</span>
            </li>
            
            <!--li ng-if="showJobsPage" role="presentation" ng-class="{active: $state.includes('home.jobs')}">
                <a ui-sref="home.jobs.status" analytics-on="click" analytics-event="{{ResourceUtility.getString('NAVIGATION_SIDEBAR_LP_JOBS')}}" data-stooltip="{{ResourceUtility.getString('NAVIGATION_SIDEBAR_LP_JOBS')}} [{{RunningJobs.length}}/{{jobs.length}}]">
                    <span class="label">
                        {{ResourceUtility.getString('NAVIGATION_SIDEBAR_LP_JOBS')}}
                    </span>
                </a>
            </li-->
            <li class="jobs-nav-container">
                <a class="jobs-nav-gear" ui-sref="home.jobs.status" title="Jobs [{{RunningJobs.length + RunningImportJobs.length + RunningSubJubsDataCount}} Running]">
                    <span ng-class="{'fa fa-spin': (RunningJobs = (jobs | filter: statusFilter)).length > 0 || 
                                                    (RunningImportJobs = (importJobs | filter: statusImportFilter)).length > 0 ||
                                                    (RunningSubJubsDataCount =  getRunningSubJobsDataCount()) ||
                                                    (RunningExportJobs = (exportJobs | filter: statusFilter)).length > 0}" class="ico-container">
                        <span class="ico ico-cog ico-black">
                            
                        </span>
                    </span>
                    <span class="jobs-nav-number badge green-badge" ng-if="RunningJobs.length || RunningImportJobs.length || RunningSubJubsDataCount > 0 || RunningExportJobs.length > 0">
                        {{ RunningJobs.length + RunningImportJobs.length+ SubJobsDataProcessing.length + RunningSubJubsDataCount+ RunningExportJobs.length}}
                    </span>
                </a>
            </li>
            <li class="profile-nav-container">
                <div class="pull-right">

                    <div class="profile-nav dropdown">
                        <a ng-click="headerClicked($event)" ng-class="{'active' : showProfileNav}" class="profile-user-icon" href="javascript:void(0)">
                            <span class="ico-container">
                                <span class="fa fa-user"></span>
                            </span>
                            <div>
                                <div class="pd-header-username" title="{{userDisplayName}}">{{userDisplayName}}</div>
                                <div class="tenant-name" title="{{tenantName}}">{{tenantName}}</div>
                            </div>
                            <span class="fa fa-chevron-down"></span>
                        </a>
                        <ul ng-show="showProfileNav" ng-click="headerClicked($event)">
                            <li ng-if="showUserManagement">
                                <a ui-sref="home.users" analytics-on="click" analytics-event="{{ResourceUtility.getString('NAVIGATION_SIDEBAR_LP_USERS')}}">
                                    {{ResourceUtility.getString('NAVIGATION_SIDEBAR_LP_USERS')}}
                                </a>
                            </li>
                            <li ng-if="tenants.length > 1">
                                <a href="/login/#/tenants" analytics-on="click" analytics-event="{{ResourceUtility.getString('HEADER_SWITCH_TENANT')}}">
                                    {{ResourceUtility.getString('HEADER_SWITCH_TENANT')}}
                                </a>
                            </li>
                            <li>
                                <a href="/login/#/update" data-ng-if="mayChangePassword" data-ng-hide="mandatePasswordChange" analytics-on="click" analytics-event="{{ResourceUtility.getString('HEADER_UPDATE_PASSWORD')}}">
                                    {{ResourceUtility.getString('HEADER_UPDATE_PASSWORD')}}
                                </a>
                            </li>
                            <!--
                            <li data-ng-if="showUserManagement" data-ng-hide="mandatePasswordChange"><a href="javascript:void(0)" data-ng-click="userManagementClicked($event)">{{ResourceUtility.getString('HEADER_MANAGE_USERS')}}</a></li>
                            <li data-ng-if="showSystemSetup" data-ng-hide="mandatePasswordChange"><a href="javascript:void(0)" data-ng-click="systemSetupClicked($event)">{{ResourceUtility.getString('HEADER_SYSTEM_SETUP')}}</a></li>
                            <li data-ng-if="showModelCreationHistoryDropdown" data-ng-hide="mandatePasswordChange"><a href="javascript:void(0)" data-ng-click="showModelCreationHistory($event)">{{ResourceUtility.getString('MODEL_LIST_CREATION_HISTORY')}}</a></li>
                            <li data-ng-if="showActivateModel" data-ng-hide="mandatePasswordChange"><a href="javascript:void(0)" data-ng-click="activateModelClicked($event)">{{ResourceUtility.getString('HEADER_ACTIVATE_MODEL')}}</a></li>
                            <li data-ng-if="showSetup" data-ng-hide="mandatePasswordChange"><a href="javascript:void(0)" data-ng-click="setupClicked($event)">{{ResourceUtility.getString('HEADER_MANAGE_FIELDS')}}</a></li>
                            <li data-ng-if="showDeploymentWizard" data-ng-hide="mandatePasswordChange"><a href="javascript:void(0)" data-ng-click="deploymentWizardClicked($event)">{{ResourceUtility.getString('HEADER_DEPLOYMENT_WIZARD')}}</a></li>
                            <li data-ng-if="showLeadEnrichment" data-ng-hide="mandatePasswordChange"><a href="javascript:void(0)" data-ng-click="leadEnrichmentClicked($event)">{{ResourceUtility.getString('HEADER_LEAD_ENRICHMENT')}}</a></li>
                            -->
                            <li><a ui-sref="home.signout" analytics-on="click" analytics-event="{{ResourceUtility.getString('HEADER_LOGOUT')}}">{{ResourceUtility.getString('HEADER_LOGOUT')}}</a></li>
                        </ul>
                    </div>
                </div>
            </li>
        </ul>
    </div>
</header>
