!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(f,t){var e=[],c=e.slice,g=e.concat,s=e.push,r=e.indexOf,n={},i=n.toString,m=n.hasOwnProperty,v={},y=f.document,a="2.1.1",S=function(t,e){return new S.fn.init(t,e)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,l=/^-ms-/,u=/-([\da-z])/gi,h=function(t,e){return e.toUpperCase()};function d(t){var e=t.length,n=S.type(t);return"function"!==n&&!S.isWindow(t)&&(!(1!==t.nodeType||!e)||("array"===n||0===e||"number"==typeof e&&0<e&&e-1 in t))}S.fn=S.prototype={jquery:a,constructor:S,selector:"",length:0,toArray:function(){return c.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:c.call(this)},pushStack:function(t){var e=S.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return S.each(this,t,e)},map:function(n){return this.pushStack(S.map(this,function(t,e){return n.call(t,e,t)}))},slice:function(){return this.pushStack(c.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(0<=n&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:s,sort:e.sort,splice:e.splice},S.extend=S.fn.extend=function(){var t,e,n,i,r,a,o=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[s]||{},s++),"object"==typeof o||S.isFunction(o)||(o={}),s===l&&(o=this,s--);s<l;s++)if(null!=(t=arguments[s]))for(e in t)n=o[e],o!==(i=t[e])&&(u&&i&&(S.isPlainObject(i)||(r=S.isArray(i)))?(a=r?(r=!1,n&&S.isArray(n)?n:[]):n&&S.isPlainObject(n)?n:{},o[e]=S.extend(u,a,i)):void 0!==i&&(o[e]=i));return o},S.extend({expando:"jQuery"+(a+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===S.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!S.isArray(t)&&0<=t-parseFloat(t)},isPlainObject:function(t){return"object"===S.type(t)&&!t.nodeType&&!S.isWindow(t)&&!(t.constructor&&!m.call(t.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?n[i.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;(t=S.trim(t))&&(1===t.indexOf("use strict")?((e=y.createElement("script")).text=t,y.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(l,"ms-").replace(u,h)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var i=0,r=t.length,a=d(t);if(n){if(a)for(;i<r&&!1!==e.apply(t[i],n);i++);else for(i in t)if(!1===e.apply(t[i],n))break}else if(a)for(;i<r&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(o,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(d(Object(t))?S.merge(n,"string"==typeof t?[t]:t):s.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:r.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,a=t.length,o=!n;r<a;r++)!e(t[r],r)!==o&&i.push(t[r]);return i},map:function(t,e,n){var i,r=0,a=t.length,o=[];if(d(t))for(;r<a;r++)null!=(i=e(t[r],r,n))&&o.push(i);else for(r in t)null!=(i=e(t[r],r,n))&&o.push(i);return g.apply([],o)},guid:1,proxy:function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),S.isFunction(t))return i=c.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(c.call(arguments)))}).guid=t.guid=t.guid||S.guid++,r},now:Date.now,support:v}),S.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){n["[object "+e+"]"]=e.toLowerCase()});var p=function(n){var t,f,_,a,i,g,h,m,w,u,c,v,C,r,y,b,o,s,S,x="sizzle"+-new Date,$=n.document,T=0,d=0,l=rt(),p=rt(),A=rt(),D=function(t,e){return t===e&&(c=!0),0},k="undefined",E={}.hasOwnProperty,e=[],M=e.pop,P=e.push,N=e.push,I=e.slice,L=e.indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]===t)return e;return-1},O="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",R="[\\x20\\t\\r\\n\\f]",H="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",W=H.replace("w","w#"),U="\\["+R+"*("+H+")(?:"+R+"*([*^$|!~]?=)"+R+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+W+"))|)"+R+"*\\]",F=":("+H+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+U+")*)|.*)\\)|)",j=new RegExp("^"+R+"+|((?:^|[^\\\\])(?:\\\\.)*)"+R+"+$","g"),z=new RegExp("^"+R+"*,"+R+"*"),V=new RegExp("^"+R+"*([>+~]|"+R+")"+R+"*"),B=new RegExp("="+R+"*([^\\]'\"]*?)"+R+"*\\]","g"),Y=new RegExp(F),q=new RegExp("^"+W+"$"),G={ID:new RegExp("^#("+H+")"),CLASS:new RegExp("^\\.("+H+")"),TAG:new RegExp("^("+H.replace("w","w*")+")"),ATTR:new RegExp("^"+U),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+R+"*(even|odd|(([+-]|)(\\d*)n|)"+R+"*(?:([+-]|)"+R+"*(\\d+)|))"+R+"*\\)|)","i"),bool:new RegExp("^(?:"+O+")$","i"),needsContext:new RegExp("^"+R+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+R+"*((?:-\\d)?\\d*)"+R+"*\\)|)(?=[^-]|$)","i")},K=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,X=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,tt=/'|\\/g,et=new RegExp("\\\\([\\da-f]{1,6}"+R+"?|("+R+")|.)","ig"),nt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{N.apply(e=I.call($.childNodes),$.childNodes),e[$.childNodes.length].nodeType}catch(t){N={apply:e.length?function(t,e){P.apply(t,I.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function it(t,e,n,i){var r,a,o,s,l,u,c,h,d,p;if((e?e.ownerDocument||e:$)!==C&&v(e),n=n||[],!t||"string"!=typeof t)return n;if(1!==(s=(e=e||C).nodeType)&&9!==s)return[];if(y&&!i){if(r=Z.exec(t))if(o=r[1]){if(9===s){if(!(a=e.getElementById(o))||!a.parentNode)return n;if(a.id===o)return n.push(a),n}else if(e.ownerDocument&&(a=e.ownerDocument.getElementById(o))&&S(e,a)&&a.id===o)return n.push(a),n}else{if(r[2])return N.apply(n,e.getElementsByTagName(t)),n;if((o=r[3])&&f.getElementsByClassName&&e.getElementsByClassName)return N.apply(n,e.getElementsByClassName(o)),n}if(f.qsa&&(!b||!b.test(t))){if(h=c=x,d=e,p=9===s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(u=g(t),(c=e.getAttribute("id"))?h=c.replace(tt,"\\$&"):e.setAttribute("id",h),h="[id='"+h+"'] ",l=u.length;l--;)u[l]=h+ft(u[l]);d=J.test(t)&&dt(e.parentNode)||e,p=u.join(",")}if(p)try{return N.apply(n,d.querySelectorAll(p)),n}catch(t){}finally{c||e.removeAttribute("id")}}}return m(t.replace(j,"$1"),e,n,i)}function rt(){var i=[];return function t(e,n){return i.push(e+" ")>_.cacheLength&&delete t[i.shift()],t[e+" "]=n}}function at(t){return t[x]=!0,t}function ot(t){var e=C.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function st(t,e){for(var n=t.split("|"),i=t.length;i--;)_.attrHandle[n[i]]=e}function lt(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||1<<31)-(~t.sourceIndex||1<<31);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ut(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function ct(n){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===n}}function ht(o){return at(function(a){return a=+a,at(function(t,e){for(var n,i=o([],t.length,a),r=i.length;r--;)t[n=i[r]]&&(t[n]=!(e[n]=t[n]))})})}function dt(t){return t&&typeof t.getElementsByTagName!==k&&t}for(t in f=it.support={},i=it.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},v=it.setDocument=function(t){var e,l=t?t.ownerDocument||t:$,n=l.defaultView;return l!==C&&9===l.nodeType&&l.documentElement?(r=(C=l).documentElement,y=!i(l),n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",function(){v()},!1):n.attachEvent&&n.attachEvent("onunload",function(){v()})),f.attributes=ot(function(t){return t.className="i",!t.getAttribute("className")}),f.getElementsByTagName=ot(function(t){return t.appendChild(l.createComment("")),!t.getElementsByTagName("*").length}),f.getElementsByClassName=X.test(l.getElementsByClassName)&&ot(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),f.getById=ot(function(t){return r.appendChild(t).id=x,!l.getElementsByName||!l.getElementsByName(x).length}),f.getById?(_.find.ID=function(t,e){if(typeof e.getElementById!==k&&y){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},_.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute("id")===e}}):(delete _.find.ID,_.filter.ID=function(t){var n=t.replace(et,nt);return function(t){var e=typeof t.getAttributeNode!==k&&t.getAttributeNode("id");return e&&e.value===n}}),_.find.TAG=f.getElementsByTagName?function(t,e){if(typeof e.getElementsByTagName!==k)return e.getElementsByTagName(t)}:function(t,e){var n,i=[],r=0,a=e.getElementsByTagName(t);if("*"!==t)return a;for(;n=a[r++];)1===n.nodeType&&i.push(n);return i},_.find.CLASS=f.getElementsByClassName&&function(t,e){if(typeof e.getElementsByClassName!==k&&y)return e.getElementsByClassName(t)},o=[],b=[],(f.qsa=X.test(l.querySelectorAll))&&(ot(function(t){t.innerHTML="<select msallowclip=''><option selected=''></option></select>",t.querySelectorAll("[msallowclip^='']").length&&b.push("[*^$]="+R+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||b.push("\\["+R+"*(?:value|"+O+")"),t.querySelectorAll(":checked").length||b.push(":checked")}),ot(function(t){var e=l.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&b.push("name"+R+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||b.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),b.push(",.*:")})),(f.matchesSelector=X.test(s=r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.oMatchesSelector||r.msMatchesSelector))&&ot(function(t){f.disconnectedMatch=s.call(t,"div"),s.call(t,"[s!='']:x"),o.push("!=",F)}),b=b.length&&new RegExp(b.join("|")),o=o.length&&new RegExp(o.join("|")),e=X.test(r.compareDocumentPosition),S=e||X.test(r.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},D=e?function(t,e){if(t===e)return c=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!f.sortDetached&&e.compareDocumentPosition(t)===n?t===l||t.ownerDocument===$&&S($,t)?-1:e===l||e.ownerDocument===$&&S($,e)?1:u?L.call(u,t)-L.call(u,e):0:4&n?-1:1)}:function(t,e){if(t===e)return c=!0,0;var n,i=0,r=t.parentNode,a=e.parentNode,o=[t],s=[e];if(!r||!a)return t===l?-1:e===l?1:r?-1:a?1:u?L.call(u,t)-L.call(u,e):0;if(r===a)return lt(t,e);for(n=t;n=n.parentNode;)o.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;o[i]===s[i];)i++;return i?lt(o[i],s[i]):o[i]===$?-1:s[i]===$?1:0},l):C},it.matches=function(t,e){return it(t,null,null,e)},it.matchesSelector=function(t,e){if((t.ownerDocument||t)!==C&&v(t),e=e.replace(B,"='$1']"),f.matchesSelector&&y&&(!o||!o.test(e))&&(!b||!b.test(e)))try{var n=s.call(t,e);if(n||f.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return 0<it(e,C,null,[t]).length},it.contains=function(t,e){return(t.ownerDocument||t)!==C&&v(t),S(t,e)},it.attr=function(t,e){(t.ownerDocument||t)!==C&&v(t);var n=_.attrHandle[e.toLowerCase()],i=n&&E.call(_.attrHandle,e.toLowerCase())?n(t,e,!y):void 0;return void 0!==i?i:f.attributes||!y?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},it.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},it.uniqueSort=function(t){var e,n=[],i=0,r=0;if(c=!f.detectDuplicates,u=!f.sortStable&&t.slice(0),t.sort(D),c){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return u=null,t},a=it.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=a(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=a(e);return n},(_=it.selectors={cacheLength:50,createPseudo:at,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||"").replace(et,nt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||it.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&it.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return G.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&Y.test(n)&&(e=g(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=l[t+" "];return e||(e=new RegExp("(^|"+R+")"+t+"("+R+"|$)"))&&l(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==k&&t.getAttribute("class")||"")})},ATTR:function(n,i,r){return function(t){var e=it.attr(t,n);return null==e?"!="===i:!i||(e+="","="===i?e===r:"!="===i?e!==r:"^="===i?r&&0===e.indexOf(r):"*="===i?r&&-1<e.indexOf(r):"$="===i?r&&e.slice(-r.length)===r:"~="===i?-1<(" "+e+" ").indexOf(r):"|="===i&&(e===r||e.slice(0,r.length+1)===r+"-"))}},CHILD:function(p,t,e,f,g){var m="nth"!==p.slice(0,3),v="last"!==p.slice(-4),y="of-type"===t;return 1===f&&0===g?function(t){return!!t.parentNode}:function(t,e,n){var i,r,a,o,s,l,u=m!==v?"nextSibling":"previousSibling",c=t.parentNode,h=y&&t.nodeName.toLowerCase(),d=!n&&!y;if(c){if(m){for(;u;){for(a=t;a=a[u];)if(y?a.nodeName.toLowerCase()===h:1===a.nodeType)return!1;l=u="only"===p&&!l&&"nextSibling"}return!0}if(l=[v?c.firstChild:c.lastChild],v&&d){for(s=(i=(r=c[x]||(c[x]={}))[p]||[])[0]===T&&i[1],o=i[0]===T&&i[2],a=s&&c.childNodes[s];a=++s&&a&&a[u]||(o=s=0)||l.pop();)if(1===a.nodeType&&++o&&a===t){r[p]=[T,s,o];break}}else if(d&&(i=(t[x]||(t[x]={}))[p])&&i[0]===T)o=i[1];else for(;(a=++s&&a&&a[u]||(o=s=0)||l.pop())&&((y?a.nodeName.toLowerCase()!==h:1!==a.nodeType)||!++o||(d&&((a[x]||(a[x]={}))[p]=[T,o]),a!==t)););return(o-=g)===f||o%f==0&&0<=o/f}}},PSEUDO:function(t,a){var e,o=_.pseudos[t]||_.setFilters[t.toLowerCase()]||it.error("unsupported pseudo: "+t);return o[x]?o(a):1<o.length?(e=[t,t,"",a],_.setFilters.hasOwnProperty(t.toLowerCase())?at(function(t,e){for(var n,i=o(t,a),r=i.length;r--;)t[n=L.call(t,i[r])]=!(e[n]=i[r])}):function(t){return o(t,0,e)}):o}},pseudos:{not:at(function(t){var i=[],r=[],s=h(t.replace(j,"$1"));return s[x]?at(function(t,e,n,i){for(var r,a=s(t,null,i,[]),o=t.length;o--;)(r=a[o])&&(t[o]=!(e[o]=r))}):function(t,e,n){return i[0]=t,s(i,null,n,r),!r.pop()}}),has:at(function(e){return function(t){return 0<it(e,t).length}}),contains:at(function(e){return function(t){return-1<(t.textContent||t.innerText||a(t)).indexOf(e)}}),lang:at(function(n){return q.test(n||"")||it.error("unsupported lang: "+n),n=n.replace(et,nt).toLowerCase(),function(t){var e;do{if(e=y?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===n||0===e.indexOf(n+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=n.location&&n.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===r},focus:function(t){return t===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!_.pseudos.empty(t)},header:function(t){return Q.test(t.nodeName)},input:function(t){return K.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:ht(function(){return[0]}),last:ht(function(t,e){return[e-1]}),eq:ht(function(t,e,n){return[n<0?n+e:n]}),even:ht(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:ht(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:ht(function(t,e,n){for(var i=n<0?n+e:n;0<=--i;)t.push(i);return t}),gt:ht(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=_.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[t]=ut(t);for(t in{submit:!0,reset:!0})_.pseudos[t]=ct(t);function pt(){}function ft(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function gt(o,t,e){var s=t.dir,l=e&&"parentNode"===s,u=d++;return t.first?function(t,e,n){for(;t=t[s];)if(1===t.nodeType||l)return o(t,e,n)}:function(t,e,n){var i,r,a=[T,u];if(n){for(;t=t[s];)if((1===t.nodeType||l)&&o(t,e,n))return!0}else for(;t=t[s];)if(1===t.nodeType||l){if((i=(r=t[x]||(t[x]={}))[s])&&i[0]===T&&i[1]===u)return a[2]=i[2];if((r[s]=a)[2]=o(t,e,n))return!0}}}function mt(r){return 1<r.length?function(t,e,n){for(var i=r.length;i--;)if(!r[i](t,e,n))return!1;return!0}:r[0]}function vt(t,e,n,i,r){for(var a,o=[],s=0,l=t.length,u=null!=e;s<l;s++)(a=t[s])&&(n&&!n(a,i,r)||(o.push(a),u&&e.push(s)));return o}function yt(p,f,g,m,v,t){return m&&!m[x]&&(m=yt(m)),v&&!v[x]&&(v=yt(v,t)),at(function(t,e,n,i){var r,a,o,s=[],l=[],u=e.length,c=t||function(t,e,n){for(var i=0,r=e.length;i<r;i++)it(t,e[i],n);return n}(f||"*",n.nodeType?[n]:n,[]),h=!p||!t&&f?c:vt(c,s,p,n,i),d=g?v||(t?p:u||m)?[]:e:h;if(g&&g(h,d,n,i),m)for(r=vt(d,l),m(r,[],n,i),a=r.length;a--;)(o=r[a])&&(d[l[a]]=!(h[l[a]]=o));if(t){if(v||p){if(v){for(r=[],a=d.length;a--;)(o=d[a])&&r.push(h[a]=o);v(null,d=[],r,i)}for(a=d.length;a--;)(o=d[a])&&-1<(r=v?L.call(t,o):s[a])&&(t[r]=!(e[r]=o))}}else d=vt(d===e?d.splice(u,d.length):d),v?v(null,e,d,i):N.apply(e,d)})}function bt(t){for(var i,e,n,r=t.length,a=_.relative[t[0].type],o=a||_.relative[" "],s=a?1:0,l=gt(function(t){return t===i},o,!0),u=gt(function(t){return-1<L.call(i,t)},o,!0),c=[function(t,e,n){return!a&&(n||e!==w)||((i=e).nodeType?l(t,e,n):u(t,e,n))}];s<r;s++)if(e=_.relative[t[s].type])c=[gt(mt(c),e)];else{if((e=_.filter[t[s].type].apply(null,t[s].matches))[x]){for(n=++s;n<r&&!_.relative[t[n].type];n++);return yt(1<s&&mt(c),1<s&&ft(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(j,"$1"),e,s<n&&bt(t.slice(s,n)),n<r&&bt(t=t.slice(n)),n<r&&ft(t))}c.push(e)}return mt(c)}return pt.prototype=_.filters=_.pseudos,_.setFilters=new pt,g=it.tokenize=function(t,e){var n,i,r,a,o,s,l,u=p[t+" "];if(u)return e?0:u.slice(0);for(o=t,s=[],l=_.preFilter;o;){for(a in n&&!(i=z.exec(o))||(i&&(o=o.slice(i[0].length)||o),s.push(r=[])),n=!1,(i=V.exec(o))&&(n=i.shift(),r.push({value:n,type:i[0].replace(j," ")}),o=o.slice(n.length)),_.filter)!(i=G[a].exec(o))||l[a]&&!(i=l[a](i))||(n=i.shift(),r.push({value:n,type:a,matches:i}),o=o.slice(n.length));if(!n)break}return e?o.length:o?it.error(t):p(t,s).slice(0)},h=it.compile=function(t,e){var n,m,v,y,b,i,r=[],a=[],o=A[t+" "];if(!o){for(e||(e=g(t)),n=e.length;n--;)(o=bt(e[n]))[x]?r.push(o):a.push(o);(o=A(t,(m=a,y=0<(v=r).length,b=0<m.length,i=function(t,e,n,i,r){var a,o,s,l=0,u="0",c=t&&[],h=[],d=w,p=t||b&&_.find.TAG("*",r),f=T+=null==d?1:Math.random()||.1,g=p.length;for(r&&(w=e!==C&&e);u!==g&&null!=(a=p[u]);u++){if(b&&a){for(o=0;s=m[o++];)if(s(a,e,n)){i.push(a);break}r&&(T=f)}y&&((a=!s&&a)&&l--,t&&c.push(a))}if(l+=u,y&&u!==l){for(o=0;s=v[o++];)s(c,h,e,n);if(t){if(0<l)for(;u--;)c[u]||h[u]||(h[u]=M.call(i));h=vt(h)}N.apply(i,h),r&&!t&&0<h.length&&1<l+v.length&&it.uniqueSort(i)}return r&&(T=f,w=d),c},y?at(i):i))).selector=t}return o},m=it.select=function(t,e,n,i){var r,a,o,s,l,u="function"==typeof t&&t,c=!i&&g(t=u.selector||t);if(n=n||[],1===c.length){if(2<(a=c[0]=c[0].slice(0)).length&&"ID"===(o=a[0]).type&&f.getById&&9===e.nodeType&&y&&_.relative[a[1].type]){if(!(e=(_.find.ID(o.matches[0].replace(et,nt),e)||[])[0]))return n;u&&(e=e.parentNode),t=t.slice(a.shift().value.length)}for(r=G.needsContext.test(t)?0:a.length;r--&&(o=a[r],!_.relative[s=o.type]);)if((l=_.find[s])&&(i=l(o.matches[0].replace(et,nt),J.test(a[0].type)&&dt(e.parentNode)||e))){if(a.splice(r,1),!(t=i.length&&ft(a)))return N.apply(n,i),n;break}}return(u||h(t,c))(i,e,!y,n,J.test(t)&&dt(e.parentNode)||e),n},f.sortStable=x.split("").sort(D).join("")===x,f.detectDuplicates=!!c,v(),f.sortDetached=ot(function(t){return 1&t.compareDocumentPosition(C.createElement("div"))}),ot(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||st("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),f.attributes&&ot(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||st("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ot(function(t){return null==t.getAttribute("disabled")})||st(O,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),it}(f);S.find=p,S.expr=p.selectors,S.expr[":"]=S.expr.pseudos,S.unique=p.uniqueSort,S.text=p.getText,S.isXMLDoc=p.isXML,S.contains=p.contains;var b=S.expr.match.needsContext,_=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function C(t,n,i){if(S.isFunction(n))return S.grep(t,function(t,e){return!!n.call(t,e,t)!==i});if(n.nodeType)return S.grep(t,function(t){return t===n!==i});if("string"==typeof n){if(w.test(n))return S.filter(n,t,i);n=S.filter(n,t)}return S.grep(t,function(t){return 0<=r.call(n,t)!==i})}S.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?S.find.matchesSelector(i,t)?[i]:[]:S.find.matches(t,S.grep(e,function(t){return 1===t.nodeType}))},S.fn.extend({find:function(t){var e,n=this.length,i=[],r=this;if("string"!=typeof t)return this.pushStack(S(t).filter(function(){for(e=0;e<n;e++)if(S.contains(r[e],this))return!0}));for(e=0;e<n;e++)S.find(t,r[e],i);return(i=this.pushStack(1<n?S.unique(i):i)).selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(C(this,t||[],!1))},not:function(t){return this.pushStack(C(this,t||[],!0))},is:function(t){return!!C(this,"string"==typeof t&&b.test(t)?S(t):t||[],!1).length}});var x,$=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(S.fn.init=function(t,e){var n,i;if(!t)return this;if("string"!=typeof t)return t.nodeType?(this.context=this[0]=t,this.length=1,this):S.isFunction(t)?void 0!==x.ready?x.ready(t):t(S):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),S.makeArray(t,this));if(!(n="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:$.exec(t))||!n[1]&&e)return!e||e.jquery?(e||x).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof S?e[0]:e,S.merge(this,S.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:y,!0)),_.test(n[1])&&S.isPlainObject(e))for(n in e)S.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return(i=y.getElementById(n[2]))&&i.parentNode&&(this.length=1,this[0]=i),this.context=y,this.selector=t,this}).prototype=S.fn,x=S(y);var T=/^(?:parents|prev(?:Until|All))/,A={children:!0,contents:!0,next:!0,prev:!0};function D(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}S.extend({dir:function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&S(t).is(n))break;i.push(t)}return i},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),S.fn.extend({has:function(t){var e=S(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(S.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,a=[],o=b.test(t)||"string"!=typeof t?S(t,e||this.context):0;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(o?-1<o.index(n):1===n.nodeType&&S.find.matchesSelector(n,t))){a.push(n);break}return this.pushStack(1<a.length?S.unique(a):a)},index:function(t){return t?"string"==typeof t?r.call(S(t),this[0]):r.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(S.unique(S.merge(this.get(),S(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),S.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return S.dir(t,"parentNode")},parentsUntil:function(t,e,n){return S.dir(t,"parentNode",n)},next:function(t){return D(t,"nextSibling")},prev:function(t){return D(t,"previousSibling")},nextAll:function(t){return S.dir(t,"nextSibling")},prevAll:function(t){return S.dir(t,"previousSibling")},nextUntil:function(t,e,n){return S.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return S.dir(t,"previousSibling",n)},siblings:function(t){return S.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return S.sibling(t.firstChild)},contents:function(t){return t.contentDocument||S.merge([],t.childNodes)}},function(i,r){S.fn[i]=function(t,e){var n=S.map(this,r,t);return"Until"!==i.slice(-5)&&(e=t),e&&"string"==typeof e&&(n=S.filter(e,n)),1<this.length&&(A[i]||S.unique(n),T.test(i)&&n.reverse()),this.pushStack(n)}});var k,E=/\S+/g,M={};function P(){y.removeEventListener("DOMContentLoaded",P,!1),f.removeEventListener("load",P,!1),S.ready()}S.Callbacks=function(r){var t,n;r="string"==typeof r?M[r]||(n=M[t=r]={},S.each(t.match(E)||[],function(t,e){n[e]=!0}),n):S.extend({},r);var e,i,a,o,s,l,u=[],c=!r.once&&[],h=function(t){for(e=r.memory&&t,i=!0,l=o||0,o=0,s=u.length,a=!0;u&&l<s;l++)if(!1===u[l].apply(t[0],t[1])&&r.stopOnFalse){e=!1;break}a=!1,u&&(c?c.length&&h(c.shift()):e?u=[]:d.disable())},d={add:function(){if(u){var t=u.length;!function i(t){S.each(t,function(t,e){var n=S.type(e);"function"===n?r.unique&&d.has(e)||u.push(e):e&&e.length&&"string"!==n&&i(e)})}(arguments),a?s=u.length:e&&(o=t,h(e))}return this},remove:function(){return u&&S.each(arguments,function(t,e){for(var n;-1<(n=S.inArray(e,u,n));)u.splice(n,1),a&&(n<=s&&s--,n<=l&&l--)}),this},has:function(t){return t?-1<S.inArray(t,u):!(!u||!u.length)},empty:function(){return u=[],s=0,this},disable:function(){return u=c=e=void 0,this},disabled:function(){return!u},lock:function(){return c=void 0,e||d.disable(),this},locked:function(){return!c},fireWith:function(t,e){return!u||i&&!c||(e=[t,(e=e||[]).slice?e.slice():e],a?c.push(e):h(e)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!i}};return d},S.extend({Deferred:function(t){var a=[["resolve","done",S.Callbacks("once memory"),"resolved"],["reject","fail",S.Callbacks("once memory"),"rejected"],["notify","progress",S.Callbacks("memory")]],r="pending",o={state:function(){return r},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var r=arguments;return S.Deferred(function(i){S.each(a,function(t,e){var n=S.isFunction(r[t])&&r[t];s[e[1]](function(){var t=n&&n.apply(this,arguments);t&&S.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[e[0]+"With"](this===o?i.promise():this,n?[t]:arguments)})}),r=null}).promise()},promise:function(t){return null!=t?S.extend(t,o):o}},s={};return o.pipe=o.then,S.each(a,function(t,e){var n=e[2],i=e[3];o[e[1]]=n.add,i&&n.add(function(){r=i},a[1^t][2].disable,a[2][2].lock),s[e[0]]=function(){return s[e[0]+"With"](this===s?o:this,arguments),this},s[e[0]+"With"]=n.fireWith}),o.promise(s),t&&t.call(s,s),s},when:function(t){var r,e,n,i=0,a=c.call(arguments),o=a.length,s=1!==o||t&&S.isFunction(t.promise)?o:0,l=1===s?t:S.Deferred(),u=function(e,n,i){return function(t){n[e]=this,i[e]=1<arguments.length?c.call(arguments):t,i===r?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(1<o)for(r=new Array(o),e=new Array(o),n=new Array(o);i<o;i++)a[i]&&S.isFunction(a[i].promise)?a[i].promise().done(u(i,n,a)).fail(l.reject).progress(u(i,e,r)):--s;return s||l.resolveWith(n,a),l.promise()}}),S.fn.ready=function(t){return S.ready.promise().done(t),this},S.extend({isReady:!1,readyWait:1,holdReady:function(t){t?S.readyWait++:S.ready(!0)},ready:function(t){(!0===t?--S.readyWait:S.isReady)||(S.isReady=!0)!==t&&0<--S.readyWait||(k.resolveWith(y,[S]),S.fn.triggerHandler&&(S(y).triggerHandler("ready"),S(y).off("ready")))}}),S.ready.promise=function(t){return k||(k=S.Deferred(),"complete"===y.readyState?setTimeout(S.ready):(y.addEventListener("DOMContentLoaded",P,!1),f.addEventListener("load",P,!1))),k.promise(t)},S.ready.promise();var N=S.access=function(t,e,n,i,r,a,o){var s=0,l=t.length,u=null==n;if("object"===S.type(n))for(s in r=!0,n)S.access(t,e,s,n[s],!0,a,o);else if(void 0!==i&&(r=!0,S.isFunction(i)||(o=!0),u&&(e=o?(e.call(t,i),null):(u=e,function(t,e,n){return u.call(S(t),n)})),e))for(;s<l;s++)e(t[s],n,o?i:i.call(t[s],s,e(t[s],n)));return r?t:u?e.call(t):l?e(t[0],n):a};function I(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=S.expando+Math.random()}S.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},I.uid=1,I.accepts=S.acceptData,I.prototype={key:function(e){if(!I.accepts(e))return 0;var n={},i=e[this.expando];if(!i){i=I.uid++;try{n[this.expando]={value:i},Object.defineProperties(e,n)}catch(t){n[this.expando]=i,S.extend(e,n)}}return this.cache[i]||(this.cache[i]={}),i},set:function(t,e,n){var i,r=this.key(t),a=this.cache[r];if("string"==typeof e)a[e]=n;else if(S.isEmptyObject(a))S.extend(this.cache[r],e);else for(i in e)a[i]=e[i];return a},get:function(t,e){var n=this.cache[this.key(t)];return void 0===e?n:n[e]},access:function(t,e,n){var i;return void 0===e||e&&"string"==typeof e&&void 0===n?void 0!==(i=this.get(t,e))?i:this.get(t,S.camelCase(e)):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i,r,a=this.key(t),o=this.cache[a];if(void 0===e)this.cache[a]={};else{n=(i=S.isArray(e)?e.concat(e.map(S.camelCase)):(r=S.camelCase(e),e in o?[e,r]:(i=r)in o?[i]:i.match(E)||[])).length;for(;n--;)delete o[i[n]]}},hasData:function(t){return!S.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var L=new I,O=new I,R=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,H=/([A-Z])/g;function W(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(H,"-$1").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:R.test(n)?S.parseJSON(n):n)}catch(t){}O.set(t,e,n)}else n=void 0;return n}S.extend({hasData:function(t){return O.hasData(t)||L.hasData(t)},data:function(t,e,n){return O.access(t,e,n)},removeData:function(t,e){O.remove(t,e)},_data:function(t,e,n){return L.access(t,e,n)},_removeData:function(t,e){L.remove(t,e)}}),S.fn.extend({data:function(i,t){var e,n,r,a=this[0],o=a&&a.attributes;if(void 0!==i)return"object"==typeof i?this.each(function(){O.set(this,i)}):N(this,function(e){var t,n=S.camelCase(i);if(a&&void 0===e)return void 0!==(t=O.get(a,i))?t:void 0!==(t=O.get(a,n))?t:void 0!==(t=W(a,n,void 0))?t:void 0;this.each(function(){var t=O.get(this,n);O.set(this,n,e),-1!==i.indexOf("-")&&void 0!==t&&O.set(this,i,e)})},null,t,1<arguments.length,null,!0);if(this.length&&(r=O.get(a),1===a.nodeType&&!L.get(a,"hasDataAttrs"))){for(e=o.length;e--;)o[e]&&0===(n=o[e].name).indexOf("data-")&&(n=S.camelCase(n.slice(5)),W(a,n,r[n]));L.set(a,"hasDataAttrs",!0)}return r},removeData:function(t){return this.each(function(){O.remove(this,t)})}}),S.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=L.get(t,e),n&&(!i||S.isArray(n)?i=L.access(t,e,S.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=S.queue(t,e),i=n.length,r=n.shift(),a=S._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete a.stop,r.call(t,function(){S.dequeue(t,e)},a)),!i&&a&&a.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return L.get(t,n)||L.access(t,n,{empty:S.Callbacks("once memory").add(function(){L.remove(t,[e+"queue",n])})})}}),S.fn.extend({queue:function(e,n){var t=2;return"string"!=typeof e&&(n=e,e="fx",t--),arguments.length<t?S.queue(this[0],e):void 0===n?this:this.each(function(){var t=S.queue(this,e,n);S._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&S.dequeue(this,e)})},dequeue:function(t){return this.each(function(){S.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=S.Deferred(),a=this,o=this.length,s=function(){--i||r.resolveWith(a,[a])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)(n=L.get(a[o],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}});var U,F,j=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,z=["Top","Right","Bottom","Left"],V=function(t,e){return t=e||t,"none"===S.css(t,"display")||!S.contains(t.ownerDocument,t)},B=/^(?:checkbox|radio)$/i;U=y.createDocumentFragment().appendChild(y.createElement("div")),(F=y.createElement("input")).setAttribute("type","radio"),F.setAttribute("checked","checked"),F.setAttribute("name","t"),U.appendChild(F),v.checkClone=U.cloneNode(!0).cloneNode(!0).lastChild.checked,U.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!U.cloneNode(!0).lastChild.defaultValue;var Y="undefined";v.focusinBubbles="onfocusin"in f;var q=/^key/,G=/^(?:mouse|pointer|contextmenu)|click/,K=/^(?:focusinfocus|focusoutblur)$/,Q=/^([^.]*)(?:\.(.+)|)$/;function X(){return!0}function Z(){return!1}function J(){try{return y.activeElement}catch(t){}}S.event={global:{},add:function(e,t,n,i,r){var a,o,s,l,u,c,h,d,p,f,g,m=L.get(e);if(m)for(n.handler&&(n=(a=n).handler,r=a.selector),n.guid||(n.guid=S.guid++),(l=m.events)||(l=m.events={}),(o=m.handle)||(o=m.handle=function(t){return typeof S!==Y&&S.event.triggered!==t.type?S.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(E)||[""]).length;u--;)p=g=(s=Q.exec(t[u])||[])[1],f=(s[2]||"").split(".").sort(),p&&(h=S.event.special[p]||{},p=(r?h.delegateType:h.bindType)||p,h=S.event.special[p]||{},c=S.extend({type:p,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&S.expr.match.needsContext.test(r),namespace:f.join(".")},a),(d=l[p])||((d=l[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,i,f,o)||e.addEventListener&&e.addEventListener(p,o,!1)),h.add&&(h.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,c):d.push(c),S.event.global[p]=!0)},remove:function(t,e,n,i,r){var a,o,s,l,u,c,h,d,p,f,g,m=L.hasData(t)&&L.get(t);if(m&&(l=m.events)){for(u=(e=(e||"").match(E)||[""]).length;u--;)if(p=g=(s=Q.exec(e[u])||[])[1],f=(s[2]||"").split(".").sort(),p){for(h=S.event.special[p]||{},d=l[p=(i?h.delegateType:h.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=d.length;a--;)c=d[a],!r&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(d.splice(a,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(t,c));o&&!d.length&&(h.teardown&&!1!==h.teardown.call(t,f,m.handle)||S.removeEvent(t,p,m.handle),delete l[p])}else for(p in l)S.event.remove(t,p+e[u],n,i,!0);S.isEmptyObject(l)&&(delete m.handle,L.remove(t,"events"))}},trigger:function(t,e,n,i){var r,a,o,s,l,u,c,h=[n||y],d=m.call(t,"type")?t.type:t,p=m.call(t,"namespace")?t.namespace.split("."):[];if(a=o=n=n||y,3!==n.nodeType&&8!==n.nodeType&&!K.test(d+S.event.triggered)&&(0<=d.indexOf(".")&&(d=(p=d.split(".")).shift(),p.sort()),l=d.indexOf(":")<0&&"on"+d,(t=t[S.expando]?t:new S.Event(d,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=p.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:S.makeArray(e,[t]),c=S.event.special[d]||{},i||!c.trigger||!1!==c.trigger.apply(n,e))){if(!i&&!c.noBubble&&!S.isWindow(n)){for(s=c.delegateType||d,K.test(s+d)||(a=a.parentNode);a;a=a.parentNode)h.push(a),o=a;o===(n.ownerDocument||y)&&h.push(o.defaultView||o.parentWindow||f)}for(r=0;(a=h[r++])&&!t.isPropagationStopped();)t.type=1<r?s:c.bindType||d,(u=(L.get(a,"events")||{})[t.type]&&L.get(a,"handle"))&&u.apply(a,e),(u=l&&a[l])&&u.apply&&S.acceptData(a)&&(t.result=u.apply(a,e),!1===t.result&&t.preventDefault());return t.type=d,i||t.isDefaultPrevented()||c._default&&!1!==c._default.apply(h.pop(),e)||!S.acceptData(n)||l&&S.isFunction(n[d])&&!S.isWindow(n)&&((o=n[l])&&(n[l]=null),n[S.event.triggered=d](),S.event.triggered=void 0,o&&(n[l]=o)),t.result}},dispatch:function(t){t=S.event.fix(t);var e,n,i,r,a,o,s=c.call(arguments),l=(L.get(this,"events")||{})[t.type]||[],u=S.event.special[t.type]||{};if((s[0]=t).delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,t)){for(o=S.event.handlers.call(this,t,l),e=0;(r=o[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,n=0;(a=r.handlers[n++])&&!t.isImmediatePropagationStopped();)t.namespace_re&&!t.namespace_re.test(a.namespace)||(t.handleObj=a,t.data=a.data,void 0!==(i=((S.event.special[a.origType]||{}).handle||a.handler).apply(r.elem,s))&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,a,o=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!==this;l=l.parentNode||this)if(!0!==l.disabled||"click"!==t.type){for(i=[],n=0;n<s;n++)void 0===i[r=(a=e[n]).selector+" "]&&(i[r]=a.needsContext?0<=S(r,this).index(l):S.find(r,this,null,[l]).length),i[r]&&i.push(a);i.length&&o.push({elem:l,handlers:i})}return s<e.length&&o.push({elem:this,handlers:e.slice(s)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,a=e.button;return null==t.pageX&&null!=e.clientX&&(i=(n=t.target.ownerDocument||y).documentElement,r=n.body,t.pageX=e.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),t.pageY=e.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),t.which||void 0===a||(t.which=1&a?1:2&a?3:4&a?2:0),t}},fix:function(t){if(t[S.expando])return t;var e,n,i,r=t.type,a=t,o=this.fixHooks[r];for(o||(this.fixHooks[r]=o=G.test(r)?this.mouseHooks:q.test(r)?this.keyHooks:{}),i=o.props?this.props.concat(o.props):this.props,t=new S.Event(a),e=i.length;e--;)t[n=i[e]]=a[n];return t.target||(t.target=y),3===t.target.nodeType&&(t.target=t.target.parentNode),o.filter?o.filter(t,a):t},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==J()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===J()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&S.nodeName(this,"input"))return this.click(),!1},_default:function(t){return S.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var r=S.extend(new S.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?S.event.trigger(r,null,e):S.event.dispatch.call(e,r),r.isDefaultPrevented()&&n.preventDefault()}},S.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)},S.Event=function(t,e){if(!(this instanceof S.Event))return new S.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?X:Z):this.type=t,e&&S.extend(this,e),this.timeStamp=t&&t.timeStamp||S.now(),this[S.expando]=!0},S.Event.prototype={isDefaultPrevented:Z,isPropagationStopped:Z,isImmediatePropagationStopped:Z,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=X,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=X,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=X,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,r){S.event.special[t]={delegateType:r,bindType:r,handle:function(t){var e,n=t.relatedTarget,i=t.handleObj;return n&&(n===this||S.contains(this,n))||(t.type=i.origType,e=i.handler.apply(this,arguments),t.type=r),e}}}),v.focusinBubbles||S.each({focus:"focusin",blur:"focusout"},function(n,i){var r=function(t){S.event.simulate(i,t.target,S.event.fix(t),!0)};S.event.special[i]={setup:function(){var t=this.ownerDocument||this,e=L.access(t,i);e||t.addEventListener(n,r,!0),L.access(t,i,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this,e=L.access(t,i)-1;e?L.access(t,i,e):(t.removeEventListener(n,r,!0),L.remove(t,i))}}}),S.fn.extend({on:function(t,e,n,i,r){var a,o;if("object"==typeof t){for(o in"string"!=typeof e&&(n=n||e,e=void 0),t)this.on(o,e,n,t[o],r);return this}if(null==n&&null==i?(i=e,n=e=void 0):null==i&&("string"==typeof e?(i=n,n=void 0):(i=n,n=e,e=void 0)),!1===i)i=Z;else if(!i)return this;return 1===r&&(a=i,(i=function(t){return S().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=S.guid++)),this.each(function(){S.event.add(this,t,i,n,e)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,S(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=Z),this.each(function(){S.event.remove(this,t,n,e)});for(r in t)this.off(r,e,t[r]);return this},trigger:function(t,e){return this.each(function(){S.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return S.event.trigger(t,e,n,!0)}});var tt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,et=/<([\w:]+)/,nt=/<|&#?\w+;/,it=/<(?:script|style|link)/i,rt=/checked\s*(?:[^=]|=\s*.checked.)/i,at=/^$|\/(?:java|ecma)script/i,ot=/^true\/(.*)/,st=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,lt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ut(t,e){return S.nodeName(t,"table")&&S.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function ct(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function ht(t){var e=ot.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function dt(t,e){for(var n=0,i=t.length;n<i;n++)L.set(t[n],"globalEval",!e||L.get(e[n],"globalEval"))}function pt(t,e){var n,i,r,a,o,s,l,u;if(1===e.nodeType){if(L.hasData(t)&&(a=L.access(t),o=L.set(e,a),u=a.events))for(r in delete o.handle,o.events={},u)for(n=0,i=u[r].length;n<i;n++)S.event.add(e,r,u[r][n]);O.hasData(t)&&(s=O.access(t),l=S.extend({},s),O.set(e,l))}}function ft(t,e){var n=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&S.nodeName(t,e)?S.merge([t],n):n}lt.optgroup=lt.option,lt.tbody=lt.tfoot=lt.colgroup=lt.caption=lt.thead,lt.th=lt.td,S.extend({clone:function(t,e,n){var i,r,a,o,s,l,u,c=t.cloneNode(!0),h=S.contains(t.ownerDocument,t);if(!(v.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||S.isXMLDoc(t)))for(o=ft(c),i=0,r=(a=ft(t)).length;i<r;i++)s=a[i],l=o[i],void 0,"input"===(u=l.nodeName.toLowerCase())&&B.test(s.type)?l.checked=s.checked:"input"!==u&&"textarea"!==u||(l.defaultValue=s.defaultValue);if(e)if(n)for(a=a||ft(t),o=o||ft(c),i=0,r=a.length;i<r;i++)pt(a[i],o[i]);else pt(t,c);return 0<(o=ft(c,"script")).length&&dt(o,!h&&ft(t,"script")),c},buildFragment:function(t,e,n,i){for(var r,a,o,s,l,u,c=e.createDocumentFragment(),h=[],d=0,p=t.length;d<p;d++)if((r=t[d])||0===r)if("object"===S.type(r))S.merge(h,r.nodeType?[r]:r);else if(nt.test(r)){for(a=a||c.appendChild(e.createElement("div")),o=(et.exec(r)||["",""])[1].toLowerCase(),s=lt[o]||lt._default,a.innerHTML=s[1]+r.replace(tt,"<$1></$2>")+s[2],u=s[0];u--;)a=a.lastChild;S.merge(h,a.childNodes),(a=c.firstChild).textContent=""}else h.push(e.createTextNode(r));for(c.textContent="",d=0;r=h[d++];)if((!i||-1===S.inArray(r,i))&&(l=S.contains(r.ownerDocument,r),a=ft(c.appendChild(r),"script"),l&&dt(a),n))for(u=0;r=a[u++];)at.test(r.type||"")&&n.push(r);return c},cleanData:function(t){for(var e,n,i,r,a=S.event.special,o=0;void 0!==(n=t[o]);o++){if(S.acceptData(n)&&(r=n[L.expando])&&(e=L.cache[r])){if(e.events)for(i in e.events)a[i]?S.event.remove(n,i):S.removeEvent(n,i,e.handle);L.cache[r]&&delete L.cache[r]}delete O.cache[n[O.expando]]}}}),S.fn.extend({text:function(t){return N(this,function(t){return void 0===t?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ut(this,t).appendChild(t)})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=ut(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=t?S.filter(t,this):this,r=0;null!=(n=i[r]);r++)e||1!==n.nodeType||S.cleanData(ft(n)),n.parentNode&&(e&&S.contains(n.ownerDocument,n)&&dt(ft(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(S.cleanData(ft(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return S.clone(this,t,e)})},html:function(t){return N(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!it.test(t)&&!lt[(et.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(tt,"<$1></$2>");try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(S.cleanData(ft(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,S.cleanData(ft(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(n,i){n=g.apply([],n);var t,e,r,a,o,s,l=0,u=this.length,c=this,h=u-1,d=n[0],p=S.isFunction(d);if(p||1<u&&"string"==typeof d&&!v.checkClone&&rt.test(d))return this.each(function(t){var e=c.eq(t);p&&(n[0]=d.call(this,t,e.html())),e.domManip(n,i)});if(u&&(e=(t=S.buildFragment(n,this[0].ownerDocument,!1,this)).firstChild,1===t.childNodes.length&&(t=e),e)){for(a=(r=S.map(ft(t,"script"),ct)).length;l<u;l++)o=t,l!==h&&(o=S.clone(o,!0,!0),a&&S.merge(r,ft(o,"script"))),i.call(this[l],o,l);if(a)for(s=r[r.length-1].ownerDocument,S.map(r,ht),l=0;l<a;l++)o=r[l],at.test(o.type||"")&&!L.access(o,"globalEval")&&S.contains(s,o)&&(o.src?S._evalUrl&&S._evalUrl(o.src):S.globalEval(o.textContent.replace(st,"")))}return this}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,o){S.fn[t]=function(t){for(var e,n=[],i=S(t),r=i.length-1,a=0;a<=r;a++)e=a===r?this:this.clone(!0),S(i[a])[o](e),s.apply(n,e.get());return this.pushStack(n)}});var gt,mt={};function vt(t,e){var n,i=S(e.createElement(t)).appendTo(e.body),r=f.getDefaultComputedStyle&&(n=f.getDefaultComputedStyle(i[0]))?n.display:S.css(i[0],"display");return i.detach(),r}function yt(t){var e=y,n=mt[t];return n||("none"!==(n=vt(t,e))&&n||((e=(gt=(gt||S("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentDocument).write(),e.close(),n=vt(t,e),gt.detach()),mt[t]=n),n}var bt=/^margin/,_t=new RegExp("^("+j+")(?!px)[a-z%]+$","i"),wt=function(t){return t.ownerDocument.defaultView.getComputedStyle(t,null)};function Ct(t,e,n){var i,r,a,o,s=t.style;return(n=n||wt(t))&&(o=n.getPropertyValue(e)||n[e]),n&&(""!==o||S.contains(t.ownerDocument,t)||(o=S.style(t,e)),_t.test(o)&&bt.test(e)&&(i=s.width,r=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=i,s.minWidth=r,s.maxWidth=a)),void 0!==o?o+"":o}function St(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){var e,n,i=y.documentElement,r=y.createElement("div"),a=y.createElement("div");function t(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a.innerHTML="",i.appendChild(r);var t=f.getComputedStyle(a,null);e="1%"!==t.top,n="4px"===t.width,i.removeChild(r)}a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===a.style.backgroundClip,r.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",r.appendChild(a),f.getComputedStyle&&S.extend(v,{pixelPosition:function(){return t(),e},boxSizingReliable:function(){return null==n&&t(),n},reliableMarginRight:function(){var t,e=a.appendChild(y.createElement("div"));return e.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",a.style.width="1px",i.appendChild(r),t=!parseFloat(f.getComputedStyle(e,null).marginRight),i.removeChild(r),t}}))}(),S.swap=function(t,e,n,i){var r,a,o={};for(a in e)o[a]=t.style[a],t.style[a]=e[a];for(a in r=n.apply(t,i||[]),e)t.style[a]=o[a];return r};var xt=/^(none|table(?!-c[ea]).+)/,$t=new RegExp("^("+j+")(.*)$","i"),Tt=new RegExp("^([+-])=("+j+")","i"),At={position:"absolute",visibility:"hidden",display:"block"},Dt={letterSpacing:"0",fontWeight:"400"},kt=["Webkit","O","Moz","ms"];function Et(t,e){if(e in t)return e;for(var n=e[0].toUpperCase()+e.slice(1),i=e,r=kt.length;r--;)if((e=kt[r]+n)in t)return e;return i}function Mt(t,e,n){var i=$t.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function Pt(t,e,n,i,r){for(var a=n===(i?"border":"content")?4:"width"===e?1:0,o=0;a<4;a+=2)"margin"===n&&(o+=S.css(t,n+z[a],!0,r)),i?("content"===n&&(o-=S.css(t,"padding"+z[a],!0,r)),"margin"!==n&&(o-=S.css(t,"border"+z[a]+"Width",!0,r))):(o+=S.css(t,"padding"+z[a],!0,r),"padding"!==n&&(o+=S.css(t,"border"+z[a]+"Width",!0,r)));return o}function Nt(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,a=wt(t),o="border-box"===S.css(t,"boxSizing",!1,a);if(r<=0||null==r){if(((r=Ct(t,e,a))<0||null==r)&&(r=t.style[e]),_t.test(r))return r;i=o&&(v.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+Pt(t,e,n||(o?"border":"content"),i,a)+"px"}function It(t,e){for(var n,i,r,a=[],o=0,s=t.length;o<s;o++)(i=t[o]).style&&(a[o]=L.get(i,"olddisplay"),n=i.style.display,e?(a[o]||"none"!==n||(i.style.display=""),""===i.style.display&&V(i)&&(a[o]=L.access(i,"olddisplay",yt(i.nodeName)))):(r=V(i),"none"===n&&r||L.set(i,"olddisplay",r?n:S.css(i,"display"))));for(o=0;o<s;o++)(i=t[o]).style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?a[o]||"":"none"));return t}function Lt(t,e,n,i,r){return new Lt.prototype.init(t,e,n,i,r)}S.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Ct(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,a,o,s=S.camelCase(e),l=t.style;if(e=S.cssProps[s]||(S.cssProps[s]=Et(l,s)),o=S.cssHooks[e]||S.cssHooks[s],void 0===n)return o&&"get"in o&&void 0!==(r=o.get(t,!1,i))?r:l[e];"string"===(a=typeof n)&&(r=Tt.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(S.css(t,e)),a="number"),null!=n&&n==n&&("number"!==a||S.cssNumber[s]||(n+="px"),v.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),o&&"set"in o&&void 0===(n=o.set(t,n,i))||(l[e]=n))}},css:function(t,e,n,i){var r,a,o,s=S.camelCase(e);return e=S.cssProps[s]||(S.cssProps[s]=Et(t.style,s)),(o=S.cssHooks[e]||S.cssHooks[s])&&"get"in o&&(r=o.get(t,!0,n)),void 0===r&&(r=Ct(t,e,i)),"normal"===r&&e in Dt&&(r=Dt[e]),""===n||n?(a=parseFloat(r),!0===n||S.isNumeric(a)?a||0:r):r}}),S.each(["height","width"],function(t,r){S.cssHooks[r]={get:function(t,e,n){if(e)return xt.test(S.css(t,"display"))&&0===t.offsetWidth?S.swap(t,At,function(){return Nt(t,r,n)}):Nt(t,r,n)},set:function(t,e,n){var i=n&&wt(t);return Mt(0,e,n?Pt(t,r,n,"border-box"===S.css(t,"boxSizing",!1,i),i):0)}}}),S.cssHooks.marginRight=St(v.reliableMarginRight,function(t,e){if(e)return S.swap(t,{display:"inline-block"},Ct,[t,"marginRight"])}),S.each({margin:"",padding:"",border:"Width"},function(r,a){S.cssHooks[r+a]={expand:function(t){for(var e=0,n={},i="string"==typeof t?t.split(" "):[t];e<4;e++)n[r+z[e]+a]=i[e]||i[e-2]||i[0];return n}},bt.test(r)||(S.cssHooks[r+a].set=Mt)}),S.fn.extend({css:function(t,e){return N(this,function(t,e,n){var i,r,a={},o=0;if(S.isArray(e)){for(i=wt(t),r=e.length;o<r;o++)a[e[o]]=S.css(t,e[o],!1,i);return a}return void 0!==n?S.style(t,e,n):S.css(t,e)},t,e,1<arguments.length)},show:function(){return It(this,!0)},hide:function(){return It(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){V(this)?S(this).show():S(this).hide()})}}),((S.Tween=Lt).prototype={constructor:Lt,init:function(t,e,n,i,r,a){this.elem=t,this.prop=n,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=a||(S.cssNumber[n]?"":"px")},cur:function(){var t=Lt.propHooks[this.prop];return t&&t.get?t.get(this):Lt.propHooks._default.get(this)},run:function(t){var e,n=Lt.propHooks[this.prop];return this.options.duration?this.pos=e=S.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Lt.propHooks._default.set(this),this}}).init.prototype=Lt.prototype,(Lt.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=S.css(t.elem,t.prop,""))&&"auto"!==e?e:0:t.elem[t.prop]},set:function(t){S.fx.step[t.prop]?S.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[S.cssProps[t.prop]]||S.cssHooks[t.prop])?S.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}}).scrollTop=Lt.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},S.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},S.fx=Lt.prototype.init,S.fx.step={};var Ot,Rt,Ht,Wt,Ut,Ft=/^(?:toggle|show|hide)$/,jt=new RegExp("^(?:([+-])=|)("+j+")([a-z%]*)$","i"),zt=/queueHooks$/,Vt=[function(e,t,n){var i,r,a,o,s,l,u,c=this,h={},d=e.style,p=e.nodeType&&V(e),f=L.get(e,"fxshow");n.queue||(null==(s=S._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,S.queue(e,"fx").length||s.empty.fire()})}));1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],u=S.css(e,"display"),"inline"===("none"===u?L.get(e,"olddisplay")||yt(e.nodeName):u)&&"none"===S.css(e,"float")&&(d.display="inline-block"));n.overflow&&(d.overflow="hidden",c.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(i in t)if(r=t[i],Ft.exec(r)){if(delete t[i],a=a||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!f||void 0===f[i])continue;p=!0}h[i]=f&&f[i]||S.style(e,i)}else u=void 0;if(S.isEmptyObject(h))"inline"===("none"===u?yt(e.nodeName):u)&&(d.display=u);else for(i in f?"hidden"in f&&(p=f.hidden):f=L.access(e,"fxshow",{}),a&&(f.hidden=!p),p?S(e).show():c.done(function(){S(e).hide()}),c.done(function(){var t;for(t in L.remove(e,"fxshow"),h)S.style(e,t,h[t])}),h)o=Gt(p?f[i]:0,i,c),i in f||(f[i]=o.start,p&&(o.end=o.start,o.start="width"===i||"height"===i?1:0))}],Bt={"*":[function(t,e){var n=this.createTween(t,e),i=n.cur(),r=jt.exec(e),a=r&&r[3]||(S.cssNumber[t]?"":"px"),o=(S.cssNumber[t]||"px"!==a&&+i)&&jt.exec(S.css(n.elem,t)),s=1,l=20;if(o&&o[3]!==a)for(a=a||o[3],r=r||[],o=+i||1;o/=s=s||".5",S.style(n.elem,t,o+a),s!==(s=n.cur()/i)&&1!==s&&--l;);return r&&(o=n.start=+o||+i||0,n.unit=a,n.end=r[1]?o+(r[1]+1)*r[2]:+r[2]),n}]};function Yt(){return setTimeout(function(){Ot=void 0}),Ot=S.now()}function qt(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=z[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function Gt(t,e,n){for(var i,r=(Bt[e]||[]).concat(Bt["*"]),a=0,o=r.length;a<o;a++)if(i=r[a].call(n,e,t))return i}function Kt(a,t,e){var n,o,i=0,r=Vt.length,s=S.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=Ot||Yt(),e=Math.max(0,u.startTime+u.duration-t),n=1-(e/u.duration||0),i=0,r=u.tweens.length;i<r;i++)u.tweens[i].run(n);return s.notifyWith(a,[u,n,e]),n<1&&r?e:(s.resolveWith(a,[u]),!1)},u=s.promise({elem:a,props:S.extend({},t),opts:S.extend(!0,{specialEasing:{}},e),originalProperties:t,originalOptions:e,startTime:Ot||Yt(),duration:e.duration,tweens:[],createTween:function(t,e){var n=S.Tween(a,u.opts,t,e,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(n),n},stop:function(t){var e=0,n=t?u.tweens.length:0;if(o)return this;for(o=!0;e<n;e++)u.tweens[e].run(1);return t?s.resolveWith(a,[u,t]):s.rejectWith(a,[u,t]),this}}),c=u.props;for(!function(t,e){var n,i,r,a,o;for(n in t)if(r=e[i=S.camelCase(n)],a=t[n],S.isArray(a)&&(r=a[1],a=t[n]=a[0]),n!==i&&(t[i]=a,delete t[n]),(o=S.cssHooks[i])&&"expand"in o)for(n in a=o.expand(a),delete t[i],a)n in t||(t[n]=a[n],e[n]=r);else e[i]=r}(c,u.opts.specialEasing);i<r;i++)if(n=Vt[i].call(u,a,c,u.opts))return n;return S.map(c,Gt,u),S.isFunction(u.opts.start)&&u.opts.start.call(a,u),S.fx.timer(S.extend(l,{elem:a,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}S.Animation=S.extend(Kt,{tweener:function(t,e){for(var n,i=0,r=(t=S.isFunction(t)?(e=t,["*"]):t.split(" ")).length;i<r;i++)n=t[i],Bt[n]=Bt[n]||[],Bt[n].unshift(e)},prefilter:function(t,e){e?Vt.unshift(t):Vt.push(t)}}),S.speed=function(t,e,n){var i=t&&"object"==typeof t?S.extend({},t):{complete:n||!n&&e||S.isFunction(t)&&t,duration:t,easing:n&&e||e&&!S.isFunction(e)&&e};return i.duration=S.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in S.fx.speeds?S.fx.speeds[i.duration]:S.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){S.isFunction(i.old)&&i.old.call(this),i.queue&&S.dequeue(this,i.queue)},i},S.fn.extend({fadeTo:function(t,e,n,i){return this.filter(V).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(e,t,n,i){var r=S.isEmptyObject(e),a=S.speed(t,n,i),o=function(){var t=Kt(this,S.extend({},e),a);(r||L.get(this,"finish"))&&t.stop(!0)};return o.finish=o,r||!1===a.queue?this.each(o):this.queue(a.queue,o)},stop:function(r,t,a){var o=function(t){var e=t.stop;delete t.stop,e(a)};return"string"!=typeof r&&(a=t,t=r,r=void 0),t&&!1!==r&&this.queue(r||"fx",[]),this.each(function(){var t=!0,e=null!=r&&r+"queueHooks",n=S.timers,i=L.get(this);if(e)i[e]&&i[e].stop&&o(i[e]);else for(e in i)i[e]&&i[e].stop&&zt.test(e)&&o(i[e]);for(e=n.length;e--;)n[e].elem!==this||null!=r&&n[e].queue!==r||(n[e].anim.stop(a),t=!1,n.splice(e,1));!t&&a||S.dequeue(this,r)})},finish:function(o){return!1!==o&&(o=o||"fx"),this.each(function(){var t,e=L.get(this),n=e[o+"queue"],i=e[o+"queueHooks"],r=S.timers,a=n?n.length:0;for(e.finish=!0,S.queue(this,o,[]),i&&i.stop&&i.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===o&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<a;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete e.finish})}}),S.each(["toggle","show","hide"],function(t,i){var r=S.fn[i];S.fn[i]=function(t,e,n){return null==t||"boolean"==typeof t?r.apply(this,arguments):this.animate(qt(i,!0),t,e,n)}}),S.each({slideDown:qt("show"),slideUp:qt("hide"),slideToggle:qt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,i){S.fn[t]=function(t,e,n){return this.animate(i,t,e,n)}}),S.timers=[],S.fx.tick=function(){var t,e=0,n=S.timers;for(Ot=S.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||S.fx.stop(),Ot=void 0},S.fx.timer=function(t){S.timers.push(t),t()?S.fx.start():S.timers.pop()},S.fx.interval=13,S.fx.start=function(){Rt||(Rt=setInterval(S.fx.tick,S.fx.interval))},S.fx.stop=function(){clearInterval(Rt),Rt=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(i,t){return i=S.fx&&S.fx.speeds[i]||i,t=t||"fx",this.queue(t,function(t,e){var n=setTimeout(t,i);e.stop=function(){clearTimeout(n)}})},Ht=y.createElement("input"),Wt=y.createElement("select"),Ut=Wt.appendChild(y.createElement("option")),Ht.type="checkbox",v.checkOn=""!==Ht.value,v.optSelected=Ut.selected,Wt.disabled=!0,v.optDisabled=!Ut.disabled,(Ht=y.createElement("input")).value="t",Ht.type="radio",v.radioValue="t"===Ht.value;var Qt,Xt=S.expr.attrHandle;S.fn.extend({attr:function(t,e){return N(this,S.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){S.removeAttr(this,t)})}}),S.extend({attr:function(t,e,n){var i,r,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return typeof t.getAttribute===Y?S.prop(t,e,n):(1===a&&S.isXMLDoc(t)||(e=e.toLowerCase(),i=S.attrHooks[e]||(S.expr.match.bool.test(e)?Qt:void 0)),void 0===n?i&&"get"in i&&null!==(r=i.get(t,e))?r:null==(r=S.find.attr(t,e))?void 0:r:null!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):void S.removeAttr(t,e))},removeAttr:function(t,e){var n,i,r=0,a=e&&e.match(E);if(a&&1===t.nodeType)for(;n=a[r++];)i=S.propFix[n]||n,S.expr.match.bool.test(n)&&(t[i]=!1),t.removeAttribute(n)},attrHooks:{type:{set:function(t,e){if(!v.radioValue&&"radio"===e&&S.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),Qt={set:function(t,e,n){return!1===e?S.removeAttr(t,n):t.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),function(t,e){var a=Xt[e]||S.find.attr;Xt[e]=function(t,e,n){var i,r;return n||(r=Xt[e],Xt[e]=i,i=null!=a(t,e,n)?e.toLowerCase():null,Xt[e]=r),i}});var Zt=/^(?:input|select|textarea|button)$/i;S.fn.extend({prop:function(t,e){return N(this,S.prop,t,e,1<arguments.length)},removeProp:function(t){return this.each(function(){delete this[S.propFix[t]||t]})}}),S.extend({propFix:{for:"htmlFor",class:"className"},prop:function(t,e,n){var i,r,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return(1!==a||!S.isXMLDoc(t))&&(e=S.propFix[e]||e,r=S.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||Zt.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),v.optSelected||(S.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this});var Jt=/[\t\r\n\f]/g;S.fn.extend({addClass:function(e){var t,n,i,r,a,o,s="string"==typeof e&&e,l=0,u=this.length;if(S.isFunction(e))return this.each(function(t){S(this).addClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(E)||[];l<u;l++)if(i=1===(n=this[l]).nodeType&&(n.className?(" "+n.className+" ").replace(Jt," "):" ")){for(a=0;r=t[a++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");o=S.trim(i),n.className!==o&&(n.className=o)}return this},removeClass:function(e){var t,n,i,r,a,o,s=0===arguments.length||"string"==typeof e&&e,l=0,u=this.length;if(S.isFunction(e))return this.each(function(t){S(this).removeClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(E)||[];l<u;l++)if(i=1===(n=this[l]).nodeType&&(n.className?(" "+n.className+" ").replace(Jt," "):"")){for(a=0;r=t[a++];)for(;0<=i.indexOf(" "+r+" ");)i=i.replace(" "+r+" "," ");o=e?S.trim(i):"",n.className!==o&&(n.className=o)}return this},toggleClass:function(r,e){var a=typeof r;return"boolean"==typeof e&&"string"===a?e?this.addClass(r):this.removeClass(r):S.isFunction(r)?this.each(function(t){S(this).toggleClass(r.call(this,t,this.className,e),e)}):this.each(function(){if("string"===a)for(var t,e=0,n=S(this),i=r.match(E)||[];t=i[e++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else a!==Y&&"boolean"!==a||(this.className&&L.set(this,"__className__",this.className),this.className=this.className||!1===r?"":L.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;n<i;n++)if(1===this[n].nodeType&&0<=(" "+this[n].className+" ").replace(Jt," ").indexOf(e))return!0;return!1}});var te=/\r/g;S.fn.extend({val:function(n){var i,t,r,e=this[0];return arguments.length?(r=S.isFunction(n),this.each(function(t){var e;1===this.nodeType&&(null==(e=r?n.call(this,t,S(this).val()):n)?e="":"number"==typeof e?e+="":S.isArray(e)&&(e=S.map(e,function(t){return null==t?"":t+""})),(i=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&void 0!==i.set(this,e,"value")||(this.value=e))})):e?(i=S.valHooks[e.type]||S.valHooks[e.nodeName.toLowerCase()])&&"get"in i&&void 0!==(t=i.get(e,"value"))?t:"string"==typeof(t=e.value)?t.replace(te,""):null==t?"":t:void 0}}),S.extend({valHooks:{option:{get:function(t){var e=S.find.attr(t,"value");return null!=e?e:S.trim(S.text(t))}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,a="select-one"===t.type||r<0,o=a?null:[],s=a?r+1:i.length,l=r<0?s:a?r:0;l<s;l++)if(((n=i[l]).selected||l===r)&&(v.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!S.nodeName(n.parentNode,"optgroup"))){if(e=S(n).val(),a)return e;o.push(e)}return o},set:function(t,e){for(var n,i,r=t.options,a=S.makeArray(e),o=r.length;o--;)((i=r[o]).selected=0<=S.inArray(i.value,a))&&(n=!0);return n||(t.selectedIndex=-1),a}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(t,e){if(S.isArray(e))return t.checked=0<=S.inArray(S(t).val(),e)}},v.checkOn||(S.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),S.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,n){S.fn[n]=function(t,e){return 0<arguments.length?this.on(n,null,t,e):this.trigger(n)}}),S.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var ee=S.now(),ne=/\?/;S.parseJSON=function(t){return JSON.parse(t+"")},S.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||S.error("Invalid XML: "+t),e};var ie,re,ae=/#.*$/,oe=/([?&])_=[^&]*/,se=/^(.*?):[ \t]*([^\r\n]*)$/gm,le=/^(?:GET|HEAD)$/,ue=/^\/\//,ce=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,he={},de={},pe="*/".concat("*");try{re=location.href}catch(t){(re=y.createElement("a")).href="",re=re.href}function fe(a){return function(t,e){"string"!=typeof t&&(e=t,t="*");var n,i=0,r=t.toLowerCase().match(E)||[];if(S.isFunction(e))for(;n=r[i++];)"+"===n[0]?(n=n.slice(1)||"*",(a[n]=a[n]||[]).unshift(e)):(a[n]=a[n]||[]).push(e)}}function ge(e,r,a,o){var s={},l=e===de;function u(t){var i;return s[t]=!0,S.each(e[t]||[],function(t,e){var n=e(r,a,o);return"string"!=typeof n||l||s[n]?l?!(i=n):void 0:(r.dataTypes.unshift(n),u(n),!1)}),i}return u(r.dataTypes[0])||!s["*"]&&u("*")}function me(t,e){var n,i,r=S.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&S.extend(!0,t,i),t}ie=ce.exec(re.toLowerCase())||[],S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:re,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ie[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":pe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":S.parseJSON,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?me(me(t,S.ajaxSettings),e):me(S.ajaxSettings,t)},ajaxPrefilter:fe(he),ajaxTransport:fe(de),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var c,h,d,n,p,i,f,r,g=S.ajaxSetup({},e),m=g.context||g,v=g.context&&(m.nodeType||m.jquery)?S(m):S.event,y=S.Deferred(),b=S.Callbacks("once memory"),_=g.statusCode||{},a={},o={},w=0,s="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(2===w){if(!n)for(n={};e=se.exec(d);)n[e[1].toLowerCase()]=e[2];e=n[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===w?d:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return w||(t=o[n]=o[n]||t,a[t]=e),this},overrideMimeType:function(t){return w||(g.mimeType=t),this},statusCode:function(t){var e;if(t)if(w<2)for(e in t)_[e]=[_[e],t[e]];else C.always(t[C.status]);return this},abort:function(t){var e=t||s;return c&&c.abort(e),l(0,e),this}};if(y.promise(C).complete=b.add,C.success=C.done,C.error=C.fail,g.url=((t||g.url||re)+"").replace(ae,"").replace(ue,ie[1]+"//"),g.type=e.method||e.type||g.method||g.type,g.dataTypes=S.trim(g.dataType||"*").toLowerCase().match(E)||[""],null==g.crossDomain&&(i=ce.exec(g.url.toLowerCase()),g.crossDomain=!(!i||i[1]===ie[1]&&i[2]===ie[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(ie[3]||("http:"===ie[1]?"80":"443")))),g.data&&g.processData&&"string"!=typeof g.data&&(g.data=S.param(g.data,g.traditional)),ge(he,g,e,C),2===w)return C;for(r in(f=g.global)&&0==S.active++&&S.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!le.test(g.type),h=g.url,g.hasContent||(g.data&&(h=g.url+=(ne.test(h)?"&":"?")+g.data,delete g.data),!1===g.cache&&(g.url=oe.test(h)?h.replace(oe,"$1_="+ee++):h+(ne.test(h)?"&":"?")+"_="+ee++)),g.ifModified&&(S.lastModified[h]&&C.setRequestHeader("If-Modified-Since",S.lastModified[h]),S.etag[h]&&C.setRequestHeader("If-None-Match",S.etag[h])),(g.data&&g.hasContent&&!1!==g.contentType||e.contentType)&&C.setRequestHeader("Content-Type",g.contentType),C.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+pe+"; q=0.01":""):g.accepts["*"]),g.headers)C.setRequestHeader(r,g.headers[r]);if(g.beforeSend&&(!1===g.beforeSend.call(m,C,g)||2===w))return C.abort();for(r in s="abort",{success:1,error:1,complete:1})C[r](g[r]);if(c=ge(de,g,e,C)){C.readyState=1,f&&v.trigger("ajaxSend",[C,g]),g.async&&0<g.timeout&&(p=setTimeout(function(){C.abort("timeout")},g.timeout));try{w=1,c.send(a,l)}catch(t){if(!(w<2))throw t;l(-1,t)}}else l(-1,"No Transport");function l(t,e,n,i){var r,a,o,s,l,u=e;2!==w&&(w=2,p&&clearTimeout(p),c=void 0,d=i||"",C.readyState=0<t?4:0,r=200<=t&&t<300||304===t,n&&(s=function(t,e,n){for(var i,r,a,o,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)a=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){a=r;break}o||(o=r)}a=a||o}if(a)return a!==l[0]&&l.unshift(a),n[a]}(g,C,n)),s=function(t,e,n,i){var r,a,o,s,l,u={},c=t.dataTypes.slice();if(c[1])for(o in t.converters)u[o.toLowerCase()]=t.converters[o];for(a=c.shift();a;)if(t.responseFields[a]&&(n[t.responseFields[a]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=a,a=c.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(!(o=u[l+" "+a]||u["* "+a]))for(r in u)if((s=r.split(" "))[1]===a&&(o=u[l+" "+s[0]]||u["* "+s[0]])){!0===o?o=u[r]:!0!==u[r]&&(a=s[0],c.unshift(s[1]));break}if(!0!==o)if(o&&t.throws)e=o(e);else try{e=o(e)}catch(t){return{state:"parsererror",error:o?t:"No conversion from "+l+" to "+a}}}return{state:"success",data:e}}(g,s,C,r),r?(g.ifModified&&((l=C.getResponseHeader("Last-Modified"))&&(S.lastModified[h]=l),(l=C.getResponseHeader("etag"))&&(S.etag[h]=l)),204===t||"HEAD"===g.type?u="nocontent":304===t?u="notmodified":(u=s.state,a=s.data,r=!(o=s.error))):(o=u,!t&&u||(u="error",t<0&&(t=0))),C.status=t,C.statusText=(e||u)+"",r?y.resolveWith(m,[a,u,C]):y.rejectWith(m,[C,u,o]),C.statusCode(_),_=void 0,f&&v.trigger(r?"ajaxSuccess":"ajaxError",[C,g,r?a:o]),b.fireWith(m,[C,u]),f&&(v.trigger("ajaxComplete",[C,g]),--S.active||S.event.trigger("ajaxStop")))}return C},getJSON:function(t,e,n){return S.get(t,e,n,"json")},getScript:function(t,e){return S.get(t,void 0,e,"script")}}),S.each(["get","post"],function(t,r){S[r]=function(t,e,n,i){return S.isFunction(e)&&(i=i||n,n=e,e=void 0),S.ajax({url:t,type:r,dataType:i,data:e,success:n})}}),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){S.fn[e]=function(t){return this.on(e,t)}}),S._evalUrl=function(t){return S.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},S.fn.extend({wrapAll:function(e){var t;return S.isFunction(e)?this.each(function(t){S(this).wrapAll(e.call(this,t))}):(this[0]&&(t=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(n){return S.isFunction(n)?this.each(function(t){S(this).wrapInner(n.call(this,t))}):this.each(function(){var t=S(this),e=t.contents();e.length?e.wrapAll(n):t.append(n)})},wrap:function(e){var n=S.isFunction(e);return this.each(function(t){S(this).wrapAll(n?e.call(this,t):e)})},unwrap:function(){return this.parent().each(function(){S.nodeName(this,"body")||S(this).replaceWith(this.childNodes)}).end()}}),S.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},S.expr.filters.visible=function(t){return!S.expr.filters.hidden(t)};var ve=/%20/g,ye=/\[\]$/,be=/\r?\n/g,_e=/^(?:submit|button|image|reset|file)$/i,we=/^(?:input|select|textarea|keygen)/i;function Ce(n,t,i,r){var e;if(S.isArray(t))S.each(t,function(t,e){i||ye.test(n)?r(n,e):Ce(n+"["+("object"==typeof e?t:"")+"]",e,i,r)});else if(i||"object"!==S.type(t))r(n,t);else for(e in t)Ce(n+"["+e+"]",t[e],i,r)}S.param=function(t,e){var n,i=[],r=function(t,e){e=S.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=S.ajaxSettings&&S.ajaxSettings.traditional),S.isArray(t)||t.jquery&&!S.isPlainObject(t))S.each(t,function(){r(this.name,this.value)});else for(n in t)Ce(n,t[n],e,r);return i.join("&").replace(ve,"+")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=S.prop(this,"elements");return t?S.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!S(this).is(":disabled")&&we.test(this.nodeName)&&!_e.test(t)&&(this.checked||!B.test(t))}).map(function(t,e){var n=S(this).val();return null==n?null:S.isArray(n)?S.map(n,function(t){return{name:e.name,value:t.replace(be,"\r\n")}}):{name:e.name,value:n.replace(be,"\r\n")}}).get()}}),S.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var Se=0,xe={},$e={0:200,1223:204},Te=S.ajaxSettings.xhr();f.ActiveXObject&&S(f).on("unload",function(){for(var t in xe)xe[t]()}),v.cors=!!Te&&"withCredentials"in Te,v.ajax=Te=!!Te,S.ajaxTransport(function(a){var o;if(v.cors||Te&&!a.crossDomain)return{send:function(t,e){var n,i=a.xhr(),r=++Se;if(i.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(n in a.xhrFields)i[n]=a.xhrFields[n];for(n in a.mimeType&&i.overrideMimeType&&i.overrideMimeType(a.mimeType),a.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)i.setRequestHeader(n,t[n]);o=function(t){return function(){o&&(delete xe[r],o=i.onload=i.onerror=null,"abort"===t?i.abort():"error"===t?e(i.status,i.statusText):e($e[i.status]||i.status,i.statusText,"string"==typeof i.responseText?{text:i.responseText}:void 0,i.getAllResponseHeaders()))}},i.onload=o(),i.onerror=o("error"),o=xe[r]=o("abort");try{i.send(a.hasContent&&a.data||null)}catch(t){if(o)throw t}},abort:function(){o&&o()}}}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return S.globalEval(t),t}}}),S.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),S.ajaxTransport("script",function(n){var i,r;if(n.crossDomain)return{send:function(t,e){i=S("<script>").prop({async:!0,charset:n.scriptCharset,src:n.url}).on("load error",r=function(t){i.remove(),r=null,t&&e("error"===t.type?404:200,t.type)}),y.head.appendChild(i[0])},abort:function(){r&&r()}}});var Ae=[],De=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ae.pop()||S.expando+"_"+ee++;return this[t]=!0,t}}),S.ajaxPrefilter("json jsonp",function(t,e,n){var i,r,a,o=!1!==t.jsonp&&(De.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&De.test(t.data)&&"data");if(o||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=S.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,o?t[o]=t[o].replace(De,"$1"+i):!1!==t.jsonp&&(t.url+=(ne.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||S.error(i+" was not called"),a[0]},t.dataTypes[0]="json",r=f[i],f[i]=function(){a=arguments},n.always(function(){f[i]=r,t[i]&&(t.jsonpCallback=e.jsonpCallback,Ae.push(i)),a&&S.isFunction(r)&&r(a[0]),a=r=void 0}),"script"}),S.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||y;var i=_.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=S.buildFragment([t],e,r),r&&r.length&&S(r).remove(),S.merge([],i.childNodes))};var ke=S.fn.load;S.fn.load=function(t,e,n){if("string"!=typeof t&&ke)return ke.apply(this,arguments);var i,r,a,o=this,s=t.indexOf(" ");return 0<=s&&(i=S.trim(t.slice(s)),t=t.slice(0,s)),S.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),0<o.length&&S.ajax({url:t,type:r,dataType:"html",data:e}).done(function(t){a=arguments,o.html(i?S("<div>").append(S.parseHTML(t)).find(i):t)}).complete(n&&function(t,e){o.each(n,a||[t.responseText,e,t])}),this},S.expr.filters.animated=function(e){return S.grep(S.timers,function(t){return e===t.elem}).length};var Ee=f.document.documentElement;function Me(t){return S.isWindow(t)?t:9===t.nodeType&&t.defaultView}S.offset={setOffset:function(t,e,n){var i,r,a,o,s,l,u=S.css(t,"position"),c=S(t),h={};"static"===u&&(t.style.position="relative"),s=c.offset(),a=S.css(t,"top"),l=S.css(t,"left"),r=("absolute"===u||"fixed"===u)&&-1<(a+l).indexOf("auto")?(o=(i=c.position()).top,i.left):(o=parseFloat(a)||0,parseFloat(l)||0),S.isFunction(e)&&(e=e.call(t,n,s)),null!=e.top&&(h.top=e.top-s.top+o),null!=e.left&&(h.left=e.left-s.left+r),"using"in e?e.using.call(t,h):c.css(h)}},S.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){S.offset.setOffset(this,e,t)});var t,n,i=this[0],r={top:0,left:0},a=i&&i.ownerDocument;return a?(t=a.documentElement,S.contains(t,i)?(typeof i.getBoundingClientRect!==Y&&(r=i.getBoundingClientRect()),n=Me(a),{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}):r):void 0},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===S.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),S.nodeName(t[0],"html")||(i=t.offset()),i.top+=S.css(t[0],"borderTopWidth",!0),i.left+=S.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-S.css(n,"marginTop",!0),left:e.left-i.left-S.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Ee;t&&!S.nodeName(t,"html")&&"static"===S.css(t,"position");)t=t.offsetParent;return t||Ee})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,r){var a="pageYOffset"===r;S.fn[e]=function(t){return N(this,function(t,e,n){var i=Me(t);if(void 0===n)return i?i[r]:t[e];i?i.scrollTo(a?f.pageXOffset:n,a?n:f.pageYOffset):t[e]=n},e,t,arguments.length,null)}}),S.each(["top","left"],function(t,n){S.cssHooks[n]=St(v.pixelPosition,function(t,e){if(e)return e=Ct(t,n),_t.test(e)?S(t).position()[n]+"px":e})}),S.each({Height:"height",Width:"width"},function(a,o){S.each({padding:"inner"+a,content:o,"":"outer"+a},function(i,t){S.fn[t]=function(t,e){var n=arguments.length&&(i||"boolean"!=typeof t),r=i||(!0===t||!0===e?"margin":"border");return N(this,function(t,e,n){var i;return S.isWindow(t)?t.document.documentElement["client"+a]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+a],i["scroll"+a],t.body["offset"+a],i["offset"+a],i["client"+a])):void 0===n?S.css(t,e,r):S.style(t,e,n,r)},o,n?t:void 0,n,null)}})}),S.fn.size=function(){return this.length},S.fn.andSelf=S.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return S});var Pe=f.jQuery,Ne=f.$;return S.noConflict=function(t){return f.$===S&&(f.$=Ne),t&&f.jQuery===S&&(f.jQuery=Pe),S},typeof t===Y&&(f.jQuery=f.$=S),S}),function(g,et,nt){"use strict";function m(s,l){return l=l||Error,function(){var t,e,n,i=arguments[0],r="["+(s?s+":":"")+i+"] ",a=arguments[1],o=arguments;for(t=(t=r+a.replace(/\{\d+\}/g,function(t){var e,n=+t.slice(1,-1);return n+2<o.length?"function"==typeof(e=o[n+2])?e.toString().replace(/ ?\{[\s\S]*$/,""):void 0===e?"undefined":"string"!=typeof e?F(e):e:t}))+"\nhttp://errors.angularjs.org/1.3.0-rc.0/"+(s?s+"/":"")+i,e=2;e<arguments.length;e++)t=t+(2==e?"?":"&")+"p"+(e-2)+"="+encodeURIComponent("function"==typeof(n=arguments[e])?n.toString().replace(/ \{[\s\S]*$/,""):void 0===n?"undefined":"string"!=typeof n?JSON.stringify(n):n);return new l(t)}}var a=/^\/(.+)\/([a-z]*)$/,f="validity",L=function(t){return lt(t)?t.toLowerCase():t},T=Object.prototype.hasOwnProperty,u=function(t){return lt(t)?t.toUpperCase():t};"i"!=="I".toLowerCase()&&(L=function(t){return lt(t)?t.replace(/[A-Z]/g,function(t){return String.fromCharCode(32|t.charCodeAt(0))}):t},u=function(t){return lt(t)?t.replace(/[a-z]/g,function(t){return String.fromCharCode(-33&t.charCodeAt(0))}):t});var it,rt,v,y,i=[].slice,t=[].push,s=Object.prototype.toString,c=m("ng"),b=g.angular||(g.angular={}),e=0;function I(t){if(null==t||p(t))return!1;var e=t.length;return!(1!==t.nodeType||!e)||(lt(t)||ut(t)||0===e||"number"==typeof e&&0<e&&e-1 in t)}function at(t,e,n){var i,r;if(t)if(ct(t))for(i in t)"prototype"==i||"length"==i||"name"==i||t.hasOwnProperty&&!t.hasOwnProperty(i)||e.call(n,t[i],i);else if(ut(t)||I(t)){var a="object"!=typeof t;for(i=0,r=t.length;i<r;i++)(a||i in t)&&e.call(n,t[i],i)}else if(t.forEach&&t.forEach!==at)t.forEach(e,n);else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i);return t}function W(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e.sort()}function _(n){return function(t,e){n(e,t)}}function o(){return++e}function h(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function O(n){var t=n.$$hashKey;return at(arguments,function(t){t!==n&&at(t,function(t,e){n[e]=t})}),h(n,t),n}function w(t){return parseInt(t,10)}function C(t,e){return O(new(O(function(){},{prototype:t})),e)}function ot(){}function S(t){return t}function x(t){return function(){return t}}function A(t){return void 0===t}function U(t){return void 0!==t}function st(t){return null!==t&&"object"==typeof t}function lt(t){return"string"==typeof t}function $(t){return"number"==typeof t}function D(t){return"[object Date]"===s.call(t)}it=w((/msie (\d+)/.exec(L(navigator.userAgent))||[])[1]),isNaN(it)&&(it=w((/trident\/.*; rv:(\d+)/.exec(L(navigator.userAgent))||[])[1])),ot.$inject=[],S.$inject=[];var ut=Array.isArray;function ct(t){return"function"==typeof t}function d(t){return"[object RegExp]"===s.call(t)}function p(t){return t&&t.window===t}function ht(t){return t&&t.$evalAsync&&t.$watch}function k(t){return t&&ct(t.then)}var dt=function(t){return lt(t)?t.trim():t};function n(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function pt(t){return L(t.nodeName||t[0].nodeName)}function E(t,e){return-1!=M(t,e)}function M(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;n++)if(e===t[n])return n;return-1}function ft(t,e){var n=M(t,e);return 0<=n&&t.splice(n,1),e}function P(t,n,e,i){if(p(t)||ht(t))throw c("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(n){if(t===n)throw c("cpi","Can't copy! Source and destination are identical.");if(e=e||[],i=i||[],st(t)){var r=M(e,t);if(-1!==r)return i[r];e.push(t),i.push(n)}var a;if(ut(t))for(var o=n.length=0;o<t.length;o++)a=P(t[o],null,e,i),st(t[o])&&(e.push(t[o]),i.push(a)),n.push(a);else{var s=n.$$hashKey;for(var l in ut(n)?n.length=0:at(n,function(t,e){delete n[e]}),t)t.hasOwnProperty(l)&&(a=P(t[l],null,e,i),st(t[l])&&(e.push(t[l]),i.push(a)),n[l]=a);h(n,s)}}else if(n=t)if(ut(t))n=P(t,[],e,i);else if(D(t))n=new Date(t.getTime());else if(d(t))(n=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0])).lastIndex=t.lastIndex;else if(st(t)){var u=Object.create(Object.getPrototypeOf(t));n=P(t,u,e,i)}return n}function N(t,e){if(ut(t)){e=e||[];for(var n=0,i=t.length;n<i;n++)e[n]=t[n]}else if(st(t))for(var r in e=e||{},t)"$"===r.charAt(0)&&"$"===r.charAt(1)||(e[r]=t[r]);return e||t}function gt(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!=t&&e!=e)return!0;var n,i,r,a=typeof t;if(a==typeof e&&"object"==a){if(!ut(t)){if(D(t))return!!D(e)&&gt(t.getTime(),e.getTime());if(d(t)&&d(e))return t.toString()==e.toString();if(ht(t)||ht(e)||p(t)||p(e)||ut(e))return!1;for(i in r={},t)if("$"!==i.charAt(0)&&!ct(t[i])){if(!gt(t[i],e[i]))return!1;r[i]=!0}for(i in e)if(!r.hasOwnProperty(i)&&"$"!==i.charAt(0)&&e[i]!==nt&&!ct(e[i]))return!1;return!0}if(!ut(e))return!1;if((n=t.length)==e.length){for(i=0;i<n;i++)if(!gt(t[i],e[i]))return!1;return!0}}return!1}var R=function(){if(U(R.isActive_))return R.isActive_;var e=!(!et.querySelector("[ng-csp]")&&!et.querySelector("[data-ng-csp]"));if(!e)try{new Function("")}catch(t){e=!0}return R.isActive_=e};function H(t,e,n){return t.concat(i.call(e,n))}function mt(t,e){return i.call(t,e||0)}function l(t,e){var n=2<arguments.length?mt(arguments,2):[];return!ct(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,n.concat(i.call(arguments,0))):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function r(t,e){var n=e;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?n=nt:p(e)?n="$WINDOW":e&&et===e?n="$DOCUMENT":ht(e)&&(n="$SCOPE"),n}function F(t,e){return void 0===t?nt:JSON.stringify(t,r,e?"  ":null)}function j(t){return lt(t)?JSON.parse(t):t}function vt(t){t=rt(t).clone();try{t.empty()}catch(t){}var e=rt("<div>").append(t).html();try{return 3===t[0].nodeType?L(e):e.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(t,e){return"<"+L(e)})}catch(t){return L(e)}}function z(t){try{return decodeURIComponent(t)}catch(t){}}function V(t){var n,i,r={};return at((t||"").split("&"),function(t){if(t&&(n=t.replace(/\+/g,"%20").split("="),U(i=z(n[0])))){var e=!U(n[1])||z(n[1]);T.call(r,i)?ut(r[i])?r[i].push(e):r[i]=[r[i],e]:r[i]=e}}),r}function B(t){var n=[];return at(t,function(t,e){ut(t)?at(t,function(t){n.push(q(e,!0)+(!0===t?"":"="+q(t,!0)))}):n.push(q(e,!0)+(!0===t?"":"="+q(t,!0)))}),n.length?n.join("&"):""}function Y(t){return q(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function q(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}var G=["ng-","data-ng-","ng:","x-ng-"];function K(i,t){var r,a,e={};at(G,function(t){var e=t+"app";!r&&i.hasAttribute&&i.hasAttribute(e)&&(a=(r=i).getAttribute(e))}),at(G,function(t){var e,n=t+"app";!r&&(e=i.querySelector("["+n.replace(":","\\:")+"]"))&&(a=(r=e).getAttribute(n))}),r&&(e.strictDi=null!==function(t,e){var n,i,r=G.length;for(t=rt(t),i=0;i<r;++i)if(n=G[i]+e,lt(n=t.attr(n)))return n;return null}(r,"strict-di"),t(r,a?[a]:[],e))}function Q(n,i,r){st(r)||(r={});r=O({strictDi:!1},r);var e=function(){if((n=rt(n)).injector()){var t=n[0]===et?"document":vt(n);throw c("btstrpd","App Already Bootstrapped with this Element '{0}'",t.replace(/</,"&lt;").replace(/>/,"&gt;"))}(i=i||[]).unshift(["$provide",function(t){t.value("$rootElement",n)}]),r.debugInfoEnabled&&i.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),i.unshift("ng");var e=ye(i,r.strictDi);return e.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,i){t.$apply(function(){e.data("$injector",i),n(e)(t)})}]),e},t=/^NG_ENABLE_DEBUG_INFO!/,a=/^NG_DEFER_BOOTSTRAP!/;if(g&&t.test(g.name)&&(r.debugInfoEnabled=!0,g.name=g.name.replace(t,"")),g&&!a.test(g.name))return e();g.name=g.name.replace(a,""),b.resumeBootstrap=function(t){at(t,function(t){i.push(t)}),e()}}function X(){g.name="NG_ENABLE_DEBUG_INFO!"+g.name,g.location.reload()}function Z(t){return b.element(t).injector().get("$$testability")}var J=/[A-Z]/g;function yt(t,n){return n=n||"_",t.replace(J,function(t,e){return(e?n:"")+t.toLowerCase()})}var bt,tt=!1;function _t(t,e,n){if(!t)throw c("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function wt(t,e,n){return n&&ut(t)&&(t=t[t.length-1]),_t(ct(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function Ct(t,e){if("hasOwnProperty"===t)throw c("badname","hasOwnProperty is not a valid {0} name",e)}function St(t,e,n){if(!e)return t;for(var i,r=e.split("."),a=t,o=r.length,s=0;s<o;s++)i=r[s],t&&(t=(a=t)[i]);return!n&&ct(t)?l(a,t):t}function xt(t){var e=t[0],n=t[t.length-1],i=[e];do{if(!(e=e.nextSibling))break;i.push(e)}while(e!==n);return rt(i)}function $t(){return Object.create(null)}var Tt={full:"1.3.0-rc.0",major:1,minor:3,dot:0,codeName:"sonic-boltification"};Vt.expando="ng339";var At=Vt.cache={},Dt=1,kt=function(t,e,n){t.addEventListener(e,n,!1)},Et=function(t,e,n){t.removeEventListener(e,n,!1)};Vt._data=function(t){return this.cache[t[this.expando]]||{}};var Mt=/([\:\-\_]+(.))/g,Pt=/^moz([A-Z])/,Nt={mouseleave:"mouseout",mouseenter:"mouseover"},It=m("jqLite");function Lt(t){return t.replace(Mt,function(t,e,n,i){return i?n.toUpperCase():n}).replace(Pt,"Moz$1")}var Ot=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Rt=/<|&#?\w+;/,Ht=/<([\w:]+)/,Wt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ut={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Ft(t){return!Rt.test(t)}function jt(t){var e=t.nodeType;return 1===e||!e||9===e}function zt(t,e){var n;return e=e||et,(n=Ot.exec(t))?[e.createElement(n[1])]:(n=function(t,e){var n,i,r,a,o=e.createDocumentFragment(),s=[];if(Ft(t))s.push(e.createTextNode(t));else{for(n=n||o.appendChild(e.createElement("div")),i=(Ht.exec(t)||["",""])[1].toLowerCase(),r=Ut[i]||Ut._default,n.innerHTML=r[1]+t.replace(Wt,"<$1></$2>")+r[2],a=r[0];a--;)n=n.lastChild;s=H(s,n.childNodes),(n=o.firstChild).textContent=""}return o.textContent="",o.innerHTML="",at(s,function(t){o.appendChild(t)}),o}(t,e))?n.childNodes:[]}function Vt(t){if(t instanceof Vt)return t;var e;if(lt(t)&&(t=dt(t),e=!0),!(this instanceof Vt)){if(e&&"<"!=t.charAt(0))throw It("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Vt(t)}te(this,e?zt(t):t)}function Bt(t){return t.cloneNode(!0)}function Yt(t,e){if(e||Gt(t),t.querySelectorAll)for(var n=t.querySelectorAll("*"),i=0,r=n.length;i<r;i++)Gt(n[i])}function qt(e,t,n,i){if(U(i))throw It("offargs","jqLite#off() does not support the `selector` argument");var r=Kt(e),a=r&&r.events;if(r&&r.handle)if(t)at(t.split(" "),function(t){A(n)?(Et(e,t,a[t]),delete a[t]):ft(a[t]||[],n)});else for(t in a)"$destroy"!==t&&Et(e,t,a[t]),delete a[t]}function Gt(t,e){var n=t.ng339,i=n&&At[n];if(i){if(e)return void delete i.data[e];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),qt(t)),delete At[n],t.ng339=nt}}function Kt(t,e){var n=t.ng339,i=n&&At[n];return e&&!i&&(t.ng339=n=++Dt,i=At[n]={events:{},data:{},handle:nt}),i}function Qt(t,e,n){if(jt(t)){var i=U(n),r=!i&&e&&!st(e),a=!e,o=Kt(t,!r),s=o&&o.data;if(i)s[e]=n;else{if(a)return s;if(r)return s&&s[e];O(s,e)}}}function Xt(t,e){return!!t.getAttribute&&-1<(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")}function Zt(e,t){t&&e.setAttribute&&at(t.split(" "),function(t){e.setAttribute("class",dt((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+dt(t)+" "," ")))})}function Jt(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");at(e.split(" "),function(t){t=dt(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")}),t.setAttribute("class",dt(n))}}function te(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var i=0;i<n;i++)t[t.length++]=e[i]}else t[t.length++]=e}}function ee(t,e){return ne(t,"$"+(e||"ngController")+"Controller")}function ne(t,e,n){9==t.nodeType&&(t=t.documentElement);for(var i=ut(e)?e:[e];t;){for(var r=0,a=i.length;r<a;r++)if((n=rt.data(t,i[r]))!==nt)return n;t=t.parentNode||11===t.nodeType&&t.host}}function ie(t){for(Yt(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function re(t,e){e||Yt(t);var n=t.parentNode;n&&n.removeChild(t)}Ut.optgroup=Ut.option,Ut.tbody=Ut.tfoot=Ut.colgroup=Ut.caption=Ut.thead,Ut.th=Ut.td;var ae=Vt.prototype={ready:function(t){var e=!1;function n(){e||(e=!0,t())}"complete"===et.readyState?setTimeout(n):(this.on("DOMContentLoaded",n),Vt(g).on("load",n),this.on("DOMContentLoaded",n))},toString:function(){var e=[];return at(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(t){return rt(0<=t?this[t]:this[this.length+t])},length:0,push:t,sort:[].sort,splice:[].splice},oe={};at("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){oe[L(t)]=t});var se={};at("input,select,option,textarea,button,form,details".split(","),function(t){se[t]=!0});var le={ngMinlength:"minlength",ngMaxlength:"maxlength",ngPattern:"pattern"};function ue(t,e){var n=oe[e.toLowerCase()];return n&&se[pt(t)]&&n}function ce(t,e){var n=t&&t.$$hashKey;if(n)return"function"==typeof n&&(n=t.$$hashKey()),n;var i=typeof t;return n="function"==i||"object"==i&&null!==t?t.$$hashKey=i+":"+(e||o)():i+":"+t}function he(t,e){if(e){var n=0;this.nextUid=function(){return++n}}at(t,this.put,this)}at({data:Qt,removeData:Gt},function(t,e){Vt[e]=t}),at({data:Qt,inheritedData:ne,scope:function(t){return rt.data(t,"$scope")||ne(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return rt.data(t,"$isolateScope")||rt.data(t,"$isolateScopeNoTemplate")},controller:ee,injector:function(t){return ne(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:Xt,css:function(t,e,n){if(e=Lt(e),!U(n))return t.style[e];t.style[e]=n},attr:function(t,e,n){var i=L(e);if(oe[i]){if(!U(n))return t[e]||(t.attributes.getNamedItem(e)||ot).specified?i:nt;n?(t[e]=!0,t.setAttribute(e,i)):(t[e]=!1,t.removeAttribute(i))}else if(U(n))t.setAttribute(e,n);else if(t.getAttribute){var r=t.getAttribute(e,2);return null===r?nt:r}},prop:function(t,e,n){if(!U(n))return t[e];t[e]=n},text:function(){return t.$dv="",t;function t(t,e){if(A(e)){var n=t.nodeType;return 1===n||3===n?t.textContent:""}t.textContent=e}}(),val:function(t,e){if(A(e)){if(t.multiple&&"select"===pt(t)){var n=[];return at(t.options,function(t){t.selected&&n.push(t.value||t.text)}),0===n.length?null:n}return t.value}t.value=e},html:function(t,e){if(A(e))return t.innerHTML;Yt(t,!0),t.innerHTML=e},empty:ie},function(u,t){Vt.prototype[t]=function(t,e){var n,i,r=this.length;if(u!==ie&&(2==u.length&&u!==Xt&&u!==ee?t:e)===nt){if(st(t)){for(n=0;n<r;n++)if(u===Qt)u(this[n],t);else for(i in t)u(this[n],i,t[i]);return this}for(var a=u.$dv,o=a===nt?Math.min(r,1):r,s=0;s<o;s++){var l=u(this[s],t,e);a=a?a+l:l}return a}for(n=0;n<r;n++)u(this[n],t,e);return this}}),at({removeData:Gt,on:function t(e,n,i,r){if(U(r))throw It("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(jt(e)){var a,o,s,l=Kt(e,!0),u=l.events,c=l.handle;c||(c=l.handle=(o=u,(s=function(t,e){t.isDefaultPrevented=function(){return t.defaultPrevented};var n=o[e||t.type],i=n?n.length:0;if(i){1<i&&(n=N(n));for(var r=0;r<i;r++)n[r].call(a,t)}}).elem=a=e,s));for(var h=0<=n.indexOf(" ")?n.split(" "):[n],d=h.length;d--;){var p=u[n=h[d]];p||(u[n]=[],"mouseenter"===n||"mouseleave"===n?t(e,Nt[n],function(t){var e=t.relatedTarget;e&&(e===this||this.contains(e))||c(t,n)}):"$destroy"!==n&&kt(e,n,c),p=u[n]),p.push(i)}}},off:qt,one:function(e,n,i){(e=rt(e)).on(n,function t(){e.off(n,i),e.off(n,t)}),e.on(n,i)},replaceWith:function(e,t){var n,i=e.parentNode;Yt(e),at(new Vt(t),function(t){n?i.insertBefore(t,n.nextSibling):i.replaceChild(t,e),n=t})},children:function(t){var e=[];return at(t.childNodes,function(t){1===t.nodeType&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(1===n||11===n)for(var i=0,r=(e=new Vt(e)).length;i<r;i++){var a=e[i];t.appendChild(a)}},prepend:function(e,t){if(1===e.nodeType){var n=e.firstChild;at(new Vt(t),function(t){e.insertBefore(t,n)})}},wrap:function(t,e){e=rt(e).eq(0).clone()[0];var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)},remove:re,detach:function(t){re(t,!0)},after:function(t,e){for(var n=t,i=t.parentNode,r=0,a=(e=new Vt(e)).length;r<a;r++){var o=e[r];i.insertBefore(o,n.nextSibling),n=o}},addClass:Jt,removeClass:Zt,toggleClass:function(n,t,i){t&&at(t.split(" "),function(t){var e=i;A(e)&&(e=!Xt(n,t)),(e?Jt:Zt)(n,t)})},parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:Bt,triggerHandler:function(e,t,n){var i,r,a,o=t.type||t,s=Kt(e),l=s&&s.events,u=l&&l[o];u&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopPropagation:ot,type:o,target:e},t.type&&(i=O(i,t)),r=N(u),a=n?[i].concat(n):[i],at(r,function(t){t.apply(e,a)}))}},function(o,t){Vt.prototype[t]=function(t,e,n){for(var i,r=0,a=this.length;r<a;r++)A(i)?U(i=o(this[r],t,e,n))&&(i=rt(i)):te(i,o(this[r],t,e,n));return U(i)?i:this},Vt.prototype.bind=Vt.prototype.on,Vt.prototype.unbind=Vt.prototype.off}),he.prototype={put:function(t,e){this[ce(t,this.nextUid)]=e},get:function(t){return this[ce(t,this.nextUid)]},remove:function(t){var e=this[t=ce(t,this.nextUid)];return delete this[t],e}};var de=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,pe=/,/,fe=/^\s*(_?)(\S+?)\1\s*$/,ge=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,me=m("$injector");function ve(t,e,n){var i,r,a;if("function"==typeof t){if(!(i=t.$inject)){if(i=[],t.length){if(e)throw lt(n)&&n||(n=t.name||((a=t.toString().replace(ge,"").match(de))?"function("+(a[1]||"").replace(/[\s\r\n]+/," ")+")":"fn")),me("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);at(t.toString().replace(ge,"").match(de)[1].split(pe),function(t){t.replace(fe,function(t,e,n){i.push(n)})})}t.$inject=i}}else ut(t)?(wt(t[r=t.length-1],"fn"),i=t.slice(0,r)):wt(t,"fn",!0);return i}function ye(t,c){c=!0===c;var i={},r="Provider",a=[],o=new he([],!0),s={$provide:{provider:e(h),factory:e(d),service:e(function(t,e){return d(t,["$injector",function(t){return t.instantiate(e)}])}),value:e(function(t,e){return d(t,x(e))}),constant:e(function(t,e){Ct(t,"constant"),s[t]=e,n[t]=e}),decorator:function(t,e){var n=l.get(t+r),i=n.$get;n.$get=function(){var t=u.invoke(i,n);return u.invoke(e,null,{$delegate:t})}}}},l=s.$injector=p(s,function(){throw me("unpr","Unknown provider: {0}",a.join(" <- "))}),n={},u=n.$injector=p(n,function(t){var e=l.get(t+r);return u.invoke(e.$get,e,nt,t)});return at(function n(t){var i,r=[];at(t,function(e){if(!o.get(e)){o.put(e,!0);try{lt(e)?(i=y(e),r=r.concat(n(i.requires)).concat(i._runBlocks),t(i._invokeQueue),t(i._configBlocks)):ct(e)?r.push(l.invoke(e)):ut(e)?r.push(l.invoke(e)):wt(e,"module")}catch(t){throw ut(e)&&(e=e[e.length-1]),t.message&&t.stack&&-1==t.stack.indexOf(t.message)&&(t=t.message+"\n"+t.stack),me("modulerr","Failed to instantiate module {0} due to:\n{1}",e,t.stack||t.message||t)}}function t(t){var e,n;for(e=0,n=t.length;e<n;e++){var i=t[e],r=l.get(i[0]);r[i[1]].apply(r,i[2])}}});return r}(t),function(t){u.invoke(t||ot)}),u;function e(n){return function(t,e){if(!st(t))return n(t,e);at(t,_(n))}}function h(t,e){if(Ct(t,"service"),(ct(e)||ut(e))&&(e=l.instantiate(e)),!e.$get)throw me("pget","Provider '{0}' must define $get factory method.",t);return s[t+r]=e}function d(t,e){return h(t,{$get:e})}function p(n,t){function u(e){if(n.hasOwnProperty(e)){if(n[e]===i)throw me("cdep","Circular dependency found: {0}",e+" <- "+a.join(" <- "));return n[e]}try{return a.unshift(e),n[e]=i,n[e]=t(e)}catch(t){throw n[e]===i&&delete n[e],t}finally{a.shift()}}function o(t,e,n,i){"string"==typeof n&&(i=n,n=null);var r,a,o,s=[],l=ve(t,c,i);for(a=0,r=l.length;a<r;a++){if("string"!=typeof(o=l[a]))throw me("itkn","Incorrect injection token! Expected service name as string, got {0}",o);s.push(n&&n.hasOwnProperty(o)?n[o]:u(o))}return ut(t)&&(t=t[r]),t.apply(e,s)}return{invoke:o,instantiate:function(t,e,n){var i,r,a=function(){};return a.prototype=(ut(t)?t[t.length-1]:t).prototype,st(r=o(t,i=new a,e,n))||ct(r)?r:i},get:u,annotate:ve,has:function(t){return s.hasOwnProperty(t+r)||n.hasOwnProperty(t)}}}}function be(){var n=!0;this.disableAutoScrolling=function(){n=!1},this.$get=["$window","$location","$rootScope",function(r,a,t){var o=r.document;function e(){var t,e,n,i=a.hash();i?(t=o.getElementById(i))?t.scrollIntoView():(e=o.getElementsByName(i),n=null,at(e,function(t){n||"a"!==pt(t)||(n=t)}),(t=n)?t.scrollIntoView():"top"===i&&r.scrollTo(0,0)):r.scrollTo(0,0)}return n&&t.$watch(function(){return a.hash()},function(){t.$evalAsync(e)}),e}]}ye.$$annotate=ve;var _e=m("$animate"),we=["$provide",function(i){this.$$selectors={},this.register=function(t,e){var n=t+"-animation";if(t&&"."!=t.charAt(0))throw _e("notcsel","Expecting class selector starting with '.' got '{0}'.",t);this.$$selectors[t.substr(1)]=n,i.factory(n,e)},this.classNameFilter=function(t){return 1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null),this.$$classNameFilter},this.$get=["$$q","$$asyncCallback",function(t,e){var n;function i(){return n||(n=t.defer(),e(function(){n.resolve(),n=null})),n.promise}return{enter:function(t,e,n){return n?n.after(t):e.prepend(t),i()},leave:function(t){return t.remove(),i()},move:function(t,e,n){return this.enter(t,e,n)},addClass:function(t,e){return e=lt(e)?e:ut(e)?e.join(" "):"",at(t,function(t){Jt(t,e)}),i()},removeClass:function(t,e){return e=lt(e)?e:ut(e)?e.join(" "):"",at(t,function(t){Zt(t,e)}),i()},setClass:function(t,e,n){return this.addClass(t,e),this.removeClass(t,n),i()},enabled:ot,cancel:ot}}]}];function Ce(){this.$get=["$$rAF","$timeout",function(e,n){return e.supported?function(t){return e(t)}:function(t){return n(t,0,!1)}}]}function Se(n,t,s,i){var r=this,l=t[0],a=n.location,o=n.history,u=n.setTimeout,e=n.clearTimeout,c={};r.isMock=!1;var h=0,d=[];function p(t){try{t.apply(null,mt(arguments,1))}finally{if(0===--h)for(;d.length;)try{d.pop()()}catch(t){s.error(t)}}}r.$$completeOutstandingRequest=p,r.$$incOutstandingRequestCount=function(){h++},r.notifyWhenNoOutstandingRequests=function(t){at(g,function(t){t()}),0===h?t():d.push(t)};var f,g=[];r.addPollFn=function(t){var e,n;return A(f)&&(e=100,n=u,function t(){at(g,function(t){t()}),f=n(t,e)}()),g.push(t),t};var m=a.href,v=t.find("base"),y=null;r.url=function(t,e){if(a!==n.location&&(a=n.location),o!==n.history&&(o=n.history),t){if(m==t)return;return m=t,i.history?e?o.replaceState(null,"",t):(o.pushState(null,"",t),v.attr("href",v.attr("href"))):(y=t,e?a.replace(t):a.href=t),r}return y||a.href.replace(/%27/g,"'")};var b=[],_=!1;function w(){y=null,m!=r.url()&&(m=r.url(),at(b,function(t){t(r.url())}))}r.onUrlChange=function(t){return _||(i.history&&rt(n).on("popstate",w),i.hashchange?rt(n).on("hashchange",w):r.addPollFn(w),_=!0),b.push(t),t},r.$$checkUrlChange=w,r.baseHref=function(){var t=v.attr("href");return t?t.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var C={},S="",x=r.baseHref();r.cookies=function(t,e){var n,i,r,a,o;if(!t){if(l.cookie!==S)for(i=(S=l.cookie).split("; "),C={},a=0;a<i.length;a++)0<(o=(r=i[a]).indexOf("="))&&(t=decodeURIComponent(r.substring(0,o)),C[t]===nt&&(C[t]=decodeURIComponent(r.substring(o+1))));return C}e===nt?l.cookie=encodeURIComponent(t)+"=;path="+x+";expires=Thu, 01 Jan 1970 00:00:00 GMT":lt(e)&&4096<(n=(l.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+";path="+x).length+1)&&s.warn("Cookie '"+t+"' possibly not set or overflowed because it was too large ("+n+" > 4096 bytes)!")},r.defer=function(t,e){var n;return h++,n=u(function(){delete c[n],p(t)},e||0),c[n]=!0,n},r.defer.cancel=function(t){return!!c[t]&&(delete c[t],e(t),p(ot),!0)}}function xe(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,i){return new Se(t,i,e,n)}]}function $e(){this.$get=function(){var h={};function t(t,e){if(t in h)throw m("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var n=0,i=O({},e,{id:t}),r={},a=e&&e.capacity||Number.MAX_VALUE,o={},s=null,l=null;return h[t]={put:function(t,e){a<Number.MAX_VALUE&&u(o[t]||(o[t]={key:t}));if(!A(e))return t in r||n++,r[t]=e,a<n&&this.remove(l.key),e},get:function(t){if(a<Number.MAX_VALUE){var e=o[t];if(!e)return;u(e)}return r[t]},remove:function(t){if(a<Number.MAX_VALUE){var e=o[t];if(!e)return;e==s&&(s=e.p),e==l&&(l=e.n),c(e.n,e.p),delete o[t]}delete r[t],n--},removeAll:function(){r={},n=0,o={},s=l=null},destroy:function(){o=i=r=null,delete h[t]},info:function(){return O({},i,{size:n})}};function u(t){t!=s&&(l?l==t&&(l=t.n):l=t,c(t.n,t.p),c(t,s),(s=t).n=null)}function c(t,e){t!=e&&(t&&(t.p=e),e&&(e.n=t))}}return t.info=function(){var n={};return at(h,function(t,e){n[e]=t.info()}),n},t.get=function(t){return h[t]},t}}function Te(){this.$get=["$cacheFactory",function(t){return t("templates")}]}var Ae=m("$compile");function De(n,e){var f={},g="Directive",N=/^\s*directive\:\s*([\d\w_\-]+)\s+(.*)$/,I=/(([\d\w_\-]+)(?:\:([^;]+))?;?)/,u=function(t){var e,n={},i=t.split(",");for(e=0;e<i.length;e++)n[i[e]]=!0;return n}("ngSrc,ngSrcset,src,srcset"),c=/^(on[a-z]+|formaction)$/;this.directive=function t(o,e){return Ct(o,"directive"),lt(o)?(_t(e,"directiveFactory"),f.hasOwnProperty(o)||(f[o]=[],n.factory(o+g,["$injector","$exceptionHandler",function(i,r){var a=[];return at(f[o],function(t,e){try{var n=i.invoke(t);ct(n)?n={compile:x(n)}:!n.compile&&n.link&&(n.compile=x(n.link)),n.priority=n.priority||0,n.index=e,n.name=n.name||o,n.require=n.require||n.controller&&n.name,n.restrict=n.restrict||"EA",a.push(n)}catch(t){r(t)}}),a}])),f[o].push(e)):at(o,_(t)),this},this.aHrefSanitizationWhitelist=function(t){return U(t)?(e.aHrefSanitizationWhitelist(t),this):e.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return U(t)?(e.imgSrcSanitizationWhitelist(t),this):e.imgSrcSanitizationWhitelist()};var o=!0;this.debugInfoEnabled=function(t){return U(t)?(o=t,this):o},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(d,R,H,t,W,U,a,e,l,r,p){var F=function(t,e){if(e){var n,i,r,a=Object.keys(e);for(n=0,i=a.length;n<i;n++)this[r=a[n]]=e[r]}else this.$attr={};this.$$element=t};function D(t,e){try{t.addClass(e)}catch(t){}}F.prototype={$normalize:Ee,$addClass:function(t){t&&0<t.length&&r.addClass(this.$$element,t)},$removeClass:function(t){t&&0<t.length&&r.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=Me(t,e);n&&n.length&&r.addClass(this.$$element,n);var i=Me(e,t);i&&i.length&&r.removeClass(this.$$element,i)},$set:function(t,e,n,i){var r,a,o,s=this.$$element[0],l=ue(s,t),u=(a=t,("INPUT"===(o=s.nodeName)||"TEXTAREA"===o)&&le[a]),c=t;l?(this.$$element.prop(t,e),i=l):u&&(this[u]=e,c=u),this[t]=e,i?this.$attr[t]=i:(i=this.$attr[t])||(this.$attr[t]=i=yt(t,"-")),("a"===(r=pt(this.$$element))&&"href"===t||"img"===r&&"src"===t)&&(this[t]=e=p(e,"src"===t)),!1!==n&&(null===e||e===nt?this.$$element.removeAttr(i):this.$$element.attr(i,e));var h=this.$$observers;h&&at(h[c],function(t){try{t(e)}catch(t){H(t)}})},$observe:function(t,e){var n=this,i=n.$$observers||(n.$$observers={}),r=i[t]||(i[t]=[]);return r.push(e),a.$evalAsync(function(){r.$$inter||e(n[t])}),function(){ft(r,e)}}};var n=R.startSymbol(),i=R.endSymbol(),j="{{"==n||"}}"==i?S:function(t){return t.replace(/\{\{/g,n).replace(/}}/g,i)},x=/^ngAttr[A-Z]/;return z.$$addBindingInfo=o?function(t,e){var n=t.data("$binding")||[];ut(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:ot,z.$$addBindingClass=o?function(t){D(t,"ng-binding")}:ot,z.$$addScopeInfo=o?function(t,e,n,i){var r=n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(r,e)}:ot,z.$$addScopeClass=o?function(t,e){D(t,e?"ng-isolate-scope":"ng-scope")}:ot,z;function z(u,t,e,n,i){u instanceof rt||(u=rt(u)),at(u,function(t,e){3==t.nodeType&&t.nodeValue.match(/\S+/)&&(u[e]=rt(t).wrap("<span></span>").parent()[0])});var c=k(u,t,u,e,n,i);z.$$addScopeClass(u);var h,d=null,p=u;return function(t,e,n,i,r){var a,o;_t(t,"scope"),d||(o=(a=r)&&a[0],d=o&&"foreignobject"!==pt(o)&&o.toString().match(/SVG/)?"svg":"html"),"html"!==d&&u[0]!==h&&(p=rt(X(d,rt("<div>").append(u).html()))),h=u[0];var s=e?ae.clone.call(p):p;if(n)for(var l in n)s.data("$"+l+"Controller",n[l].instance);return z.$$addScopeInfo(s,t),e&&e(s,t),c&&c(t,s,s,i),s}}function k(t,f,e,n,i,r){for(var a,o,s,l,u,c,g,m=[],h=0;h<t.length;h++)a=new F,(s=(o=V(t[h],[],a,0===h?n:nt,i)).length?M(o,t[h],a,f,e,null,[],[],r):null)&&s.scope&&z.$$addScopeClass(a.$$element),u=s&&s.terminal||!(l=t[h].childNodes)||!l.length?null:k(l,s?(s.transcludeOnThisElement||!s.templateOnThisElement)&&s.transclude:f),(s||u)&&(m.push(h,s,u),c=!0,g=g||s),r=null;return c?function(t,e,n,i){var r,a,o,s,l,u,c,h,d;if(g){var p=e.length;for(d=new Array(p),l=0;l<m.length;l+=3)c=m[l],d[c]=e[c]}else d=e;for(l=0,u=m.length;l<u;)o=d[m[l++]],r=m[l++],a=m[l++],r?(r.scope?(s=t.$new(),z.$$addScopeInfo(rt(o),s)):s=t,h=r.transcludeOnThisElement?E(t,r.transclude,i,r.elementTranscludeOnThisElement):!r.templateOnThisElement&&i?i:!i&&f?E(t,f):null,r(a,s,o,n,h)):a&&a(t,o.childNodes,nt,i)}:null}function E(o,s,l,u){return function(t,e,n,i){var r=!1;t||(r=(t=o.$new()).$$transcluded=!0);var a=s(t,e,n,l,i);return r&&!u&&a.on("$destroy",function(){t.$destroy()}),a}}function V(t,e,n,i,r){var a,o,s,l,u,c=t.nodeType,h=n.$attr;switch(c){case 1:$(e,Ee(pt(t)),"E",i,r);for(var d,p,f,g,m,v,y=t.attributes,b=0,_=y&&y.length;b<_;b++){var w=!1,C=!1;if(d=y[b],!it||8<=it||d.specified){p=d.name,m=dt(d.value),g=Ee(p),(v=x.test(g))&&(p=yt(g.substr(6),"-"));var S=g.replace(/(Start|End)$/,"");T(S)&&g===S+"Start"&&(C=(w=p).substr(0,p.length-5)+"end",p=p.substr(0,p.length-6)),h[f=Ee(p.toLowerCase())]=p,!v&&n.hasOwnProperty(f)||(n[f]=m,ue(t,f)&&(n[f]=!0)),P(t,e,m,f,v),$(e,f,"A",i,r,w,C)}}if(lt(o=t.className)&&""!==o)for(;a=I.exec(o);)$(e,f=Ee(a[2]),"C",i,r)&&(n[f]=dt(a[3])),o=o.substr(a.index+a[0].length);break;case 3:s=e,l=t.nodeValue,(u=R(l,!0))&&s.push({priority:0,compile:function(t){var e=t.parent(),i=!!e.length;return i&&z.$$addBindingClass(e),function(t,e){var n=e.parent();i||z.$$addBindingClass(n),z.$$addBindingInfo(n,u.expressions),t.$watch(u,function(t){e[0].nodeValue=t})}}});break;case 8:try{(a=N.exec(t.nodeValue))&&$(e,f=Ee(a[1]),"M",i,r)&&(n[f]=dt(a[2]))}catch(t){}}return e.sort(A),e}function B(t,e,n){var i=[],r=0;if(e&&t.hasAttribute&&t.hasAttribute(e)){do{if(!t)throw Ae("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);1==t.nodeType&&(t.hasAttribute(e)&&r++,t.hasAttribute(n)&&r--),i.push(t),t=t.nextSibling}while(0<r)}else i.push(t);return rt(i)}function Y(a,o,s){return function(t,e,n,i,r){return e=B(e[0],o,s),a(t,e,n,i,r)}}function M(t,y,b,e,n,i,_,w,r){r=r||{};for(var a,C,o,s,l,u,c,h=-Number.MAX_VALUE,S=r.controllerDirectives,x=r.newIsolateScopeDirective,$=r.templateDirective,d=r.nonTlbTranscludeDirective,p=!1,f=!1,T=r.hasElementTranscludeDirective,g=b.$$element=rt(y),m=i,v=e,A=0,D=t.length;A<D;A++){var k=(o=t[A]).$$start,E=o.$$end;if(k&&(g=B(y,k,E)),l=nt,h>o.priority)break;if((c=o.scope)&&(o.templateUrl||(st(c)?(Q("new/isolated scope",x||a,o,g),x=o):Q("new/isolated scope",x,o,g)),a=a||o),s=o.name,!o.templateUrl&&o.controller&&(c=o.controller,Q("'"+s+"' controller",(S=S||{})[s],o,g),S[s]=o),(c=o.transclude)&&(p=!0,o.$$tlb||(Q("transclusion",d,o,g),d=o),v="element"==c?(T=!0,h=o.priority,l=g,g=b.$$element=rt(et.createComment(" "+s+": "+b[s]+" ")),y=g[0],Z(n,mt(l),y),z(l,e,h,m&&m.name,{nonTlbTranscludeDirective:d})):(l=rt(Bt(y)).contents(),g.empty(),z(l,e))),o.template)if(f=!0,Q("template",$,o,g),c=ct(($=o).template)?o.template(g,b):o.template,c=j(c),o.replace){if(m=o,l=Ft(c)?[]:rt(X(o.templateNamespace,dt(c))),y=l[0],1!=l.length||1!==y.nodeType)throw Ae("tplrt","Template for directive '{0}' must have exactly one root element. {1}",s,"");Z(n,g,y);var M={$attr:{}},P=V(y,[],M),N=t.splice(A+1,t.length-(A+1));x&&q(P),t=t.concat(P).concat(N),G(b,M),D=t.length}else g.html(c);if(o.templateUrl)f=!0,Q("template",$,o,g),($=o).replace&&(m=o),O=K(t.splice(A,t.length-A),g,b,n,p&&v,_,w,{controllerDirectives:S,newIsolateScopeDirective:x,templateDirective:$,nonTlbTranscludeDirective:d}),D=t.length;else if(o.compile)try{ct(u=o.compile(g,b,v))?I(null,u,k,E):u&&I(u.pre,u.post,k,E)}catch(t){H(t,vt(g))}o.terminal&&(O.terminal=!0,h=Math.max(h,o.priority))}return O.scope=a&&!0===a.scope,O.transcludeOnThisElement=p,O.elementTranscludeOnThisElement=T,O.templateOnThisElement=f,O.transclude=v,r.hasElementTranscludeDirective=T,O;function I(t,e,n,i){t&&(n&&(t=Y(t,n,i)),t.require=o.require,t.directiveName=s,(x===o||o.$$isolateScope)&&(t=J(t,{isolateScope:!0})),_.push(t)),e&&(n&&(e=Y(e,n,i)),e.require=o.require,e.directiveName=s,(x===o||o.$$isolateScope)&&(e=J(e,{isolateScope:!0})),w.push(e))}function L(e,t,n,i){var r,a="data",o=!1;if(lt(t)){for(;"^"==(r=t.charAt(0))||"?"==r;)t=t.substr(1),"^"==r&&(a="inheritedData"),o=o||"?"==r;if(r=null,i&&"data"===a&&(r=i[t])&&(r=r.instance),!(r=r||n[a]("$"+t+"Controller"))&&!o)throw Ae("ctreq","Controller '{0}', required by directive '{1}', can't be found!",t,e);return r}return ut(t)&&(r=[],at(t,function(t){r.push(L(e,t,n,i))})),r}function O(t,h,e,n,r){var i,a,o,s,d,l,u,c,p;if(y===e?c=(p=b).$$element:(c=rt(e),p=new F(c,b)),x&&(d=h.$new(!0)),u=r&&function(t,e,n){var i;ht(t)||(n=e,e=t,t=nt);T&&(i=l);n||(n=T?c.parent():c);return r(t,e,i,n)},S&&(C={},l={},at(S,function(t){var e,n={$scope:t===x||t.$$isolateScope?d:h,$element:c,$attrs:p,$transclude:u};"@"==(s=t.controller)&&(s=p[t.name]),e=U(s,n,!0,t.controllerAs),l[t.name]=e,T||c.data("$"+t.name+"Controller",e.instance),C[t.name]=e})),x){var f=/^\s*([@=&])(\??)\s*(\w*)\s*$/;z.$$addScopeInfo(c,d,!0,!($&&($===x||$===x.$$originalDirective))),z.$$addScopeClass(c,!0);var g=C&&C[x.name],m=d;g&&g.identifier&&!0===x.bindToController&&(m=g.instance),at(x.scope,function(t,e){var n,i,r,a,o=t.match(f)||[],s=o[3]||e,l="?"==o[2],u=o[1];switch(d.$$isolateBindings[e]=u+s,u){case"@":p.$observe(s,function(t){d[e]=t}),p.$$observers[s].$$scope=h,p[s]&&(m[e]=R(p[s])(h));break;case"=":if(l&&!p[s])return;i=W(p[s]),a=i.literal?gt:function(t,e){return t===e||t!=t&&e!=e},r=i.assign||function(){throw n=m[e]=i(h),Ae("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",p[s],x.name)},n=m[e]=i(h);var c=h.$watch(W(p[s],function(t){return a(t,m[e])||(a(t,n)?r(h,t=m[e]):m[e]=t),n=t}),null,i.literal);d.$on("$destroy",c);break;case"&":i=W(p[s]),m[e]=function(t){return i(h,t)};break;default:throw Ae("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",x.name,e,t)}})}for(C&&(at(C,function(t){t()}),C=null),i=0,a=_.length;i<a;i++)tt(o=_[i],o.isolateScope?d:h,c,p,o.require&&L(o.directiveName,o.require,c,l),u);var v=h;for(x&&(x.template||null===x.templateUrl)&&(v=d),t&&t(v,e.childNodes,nt,r),i=w.length-1;0<=i;i--)tt(o=w[i],o.isolateScope?d:h,c,p,o.require&&L(o.directiveName,o.require,c,l),u)}}function q(t){for(var e=0,n=t.length;e<n;e++)t[e]=C(t[e],{$$isolateScope:!0})}function $(t,e,n,i,r,a,o){if(e===r)return null;var s=null;if(f.hasOwnProperty(e))for(var l,u=d.get(e+g),c=0,h=u.length;c<h;c++)try{l=u[c],(i===nt||i>l.priority)&&-1!=l.restrict.indexOf(n)&&(a&&(l=C(l,{$$start:a,$$end:o})),t.push(l),s=l)}catch(t){H(t)}return s}function T(t){if(f.hasOwnProperty(t))for(var e=d.get(t+g),n=0,i=e.length;n<i;n++)if(e[n].multiElement)return!0;return!1}function G(n,i){var r=i.$attr,a=n.$attr,o=n.$$element;at(n,function(t,e){"$"!=e.charAt(0)&&(i[e]&&i[e]!==t&&(t+=("style"===e?";":" ")+i[e]),n.$set(e,t,!0,r[e]))}),at(i,function(t,e){"class"==e?(D(o,t),n.class=(n.class?n.class+" ":"")+t):"style"==e?(o.attr("style",o.attr("style")+";"+t),n.style=(n.style?n.style+";":"")+t):"$"==e.charAt(0)||n.hasOwnProperty(e)||(n[e]=t,a[e]=r[e])})}function K(d,p,f,g,m,v,y,b){var _,w,C=[],S=p[0],x=d.shift(),$=O({},x,{templateUrl:null,transclude:null,replace:null,$$originalDirective:x}),T=ct(x.templateUrl)?x.templateUrl(p,f):x.templateUrl,A=x.templateNamespace;return p.empty(),t(l.getTrustedResourceUrl(T)).then(function(t){var n,e,i,r;if(t=j(t),x.replace){if(i=Ft(t)?[]:rt(X(A,dt(t))),n=i[0],1!=i.length||1!==n.nodeType)throw Ae("tplrt","Template for directive '{0}' must have exactly one root element. {1}",x.name,T);e={$attr:{}},Z(g,p,n);var a=V(n,[],e);st(x.scope)&&q(a),d=a.concat(d),G(f,e)}else n=S,p.html(t);for(d.unshift($),_=M(d,n,f,m,p,x,v,y,b),at(g,function(t,e){t==n&&(g[e]=p[0])}),w=k(p[0].childNodes,m);C.length;){var o=C.shift(),s=C.shift(),l=C.shift(),u=C.shift(),c=p[0];if(s!==S){var h=s.className;b.hasElementTranscludeDirective&&x.replace||(c=Bt(n)),Z(l,rt(s),c),D(rt(c),h)}r=_.transcludeOnThisElement?E(o,_.transclude,u):u,_(w,o,c,g,r)}C=null}),function(t,e,n,i,r){var a=r;C?(C.push(e),C.push(n),C.push(i),C.push(a)):(_.transcludeOnThisElement&&(a=E(e,_.transclude,r)),_(w,e,n,i,a))}}function A(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function Q(t,e,n,i){if(e)throw Ae("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",e.name,n.name,t,vt(i))}function X(t,e){switch(t=L(t||"html")){case"svg":case"math":var n=et.createElement("div");return n.innerHTML="<"+t+">"+e+"</"+t+">",n.childNodes[0].childNodes;default:return e}}function P(r,t,e,a,o){var s=R(e,!0);if(s){if("multiple"===a&&"select"===pt(r))throw Ae("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",vt(r));t.push({priority:100,compile:function(){return{pre:function(t,e,n){var i=n.$$observers||(n.$$observers={});if(c.test(a))throw Ae("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");(s=R(n[a],!0,function(t,e){if("srcdoc"==e)return l.HTML;var n=pt(t);return"xlinkHref"==e||"form"==n&&"action"==e||"img"!=n&&("src"==e||"ngSrc"==e)?l.RESOURCE_URL:void 0}(r,a),u[a]||o))&&(n[a]=s(t),(i[a]||(i[a]=[])).$$inter=!0,(n.$$observers&&n.$$observers[a].$$scope||t).$watch(s,function(t,e){"class"===a&&t!=e?n.$updateClass(t,e):n.$set(a,t)}))}}}})}}function Z(t,e,n){var i,r,a=e[0],o=e.length,s=a.parentNode;if(t)for(i=0,r=t.length;i<r;i++)if(t[i]==a){t[i++]=n;for(var l=i,u=l+o-1,c=t.length;l<c;l++,u++)u<c?t[l]=t[u]:delete t[l];t.length-=o-1,t.context===a&&(t.context=n);break}s&&s.replaceChild(n,a);var h=et.createDocumentFragment();h.appendChild(a),rt(n).data(rt(a).data()),v?(bt=!0,v.cleanData([a])):delete rt.cache[a[rt.expando]];for(var d=1,p=e.length;d<p;d++){var f=e[d];rt(f).remove(),h.appendChild(f),delete e[d]}e[0]=n,e.length=1}function J(t,e){return O(function(){return t.apply(null,arguments)},t,e)}function tt(t,e,n,i,r,a){try{t(e,n,i,r,a)}catch(t){H(t,vt(n))}}}]}De.$inject=["$provide","$$sanitizeUriProvider"];var ke=/^(x[\:\-_]|data[\:\-_])/i;function Ee(t){return Lt(t.replace(ke,""))}function Me(t,e){var n="",i=t.split(/\s+/),r=e.split(/\s+/);t:for(var a=0;a<i.length;a++){for(var o=i[a],s=0;s<r.length;s++)if(o==r[s])continue t;n+=(0<n.length?" ":"")+o}return n}function Pe(){var d={},p=!1,f=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(t,e){Ct(t,"controller"),st(t)?O(d,t):d[t]=e},this.allowGlobals=function(){p=!0},this.$get=["$injector","$window",function(u,c){return function(t,e,n,i){var r,a,o,s;if(n=!0===n,i&&lt(i)&&(s=i),lt(t)&&(a=t.match(f),o=a[1],s=s||a[3],wt(t=d.hasOwnProperty(o)?d[o]:St(e.$scope,o,!0)||(p?St(c,o,!0):nt),o,!0)),n){var l=function(){};return l.prototype=(ut(t)?t[t.length-1]:t).prototype,r=new l,s&&h(e,s,r,o||t.name),O(function(){return u.invoke(t,r,e,o),r},{instance:r,identifier:s})}return r=u.instantiate(t,e,o),s&&h(e,s,r,o||t.name),r};function h(t,e,n,i){if(!t||!st(t.$scope))throw m("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,e);t.$scope[e]=n}}]}function Ne(){this.$get=["$window",function(t){return rt(t.document)}]}function Ie(){this.$get=["$log",function(n){return function(t,e){n.error.apply(n,arguments)}}]}function Le(t){var e,n,i,r={};return t&&at(t.split("\n"),function(t){i=t.indexOf(":"),e=L(dt(t.substr(0,i))),n=dt(t.substr(i+1)),e&&(r[e]=r[e]?r[e]+", "+n:n)}),r}function Oe(e){var n=st(e)?e:nt;return function(t){return n||(n=Le(e)),t?n[L(t)]||null:n}}function Re(e,n,t){return ct(t)?t(e,n):(at(t,function(t){e=t(e,n)}),e)}function He(t){return 200<=t&&t<300}function We(){var e=/^\s*(\[|\{[^\{])/,n=/[\}\]]\s*$/,i=/^\)\]\}',?\n/,t={"Content-Type":"application/json;charset=utf-8"},v=this.defaults={transformResponse:[function(t){return lt(t)&&(t=t.replace(i,""),e.test(t)&&n.test(t)&&(t=j(t))),t}],transformRequest:[function(t){return st(t)&&(n=t,"[object File]"!==s.call(n))&&(e=t,"[object Blob]"!==s.call(e))?F(t):t;var e,n}],headers:{common:{Accept:"application/json, text/plain, */*"},post:N(t),put:N(t),patch:N(t)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},y=!1;this.useApplyAsync=function(t){return U(t)?(y=!!t,this):y};var r=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(h,d,t,p,f,e){var g=t("$http"),l=[];function m(t){var n={method:"get",transformRequest:v.transformRequest,transformResponse:v.transformResponse},i=function(t){var e,n,i,r=v.headers,a=O({},t.headers);r=O({},r.common,r[L(t.method)]);t:for(e in r){for(i in n=L(e),a)if(L(i)===n)continue t;a[e]=r[e]}return o=a,at(o,function(t,e){ct(t)&&(null!=(s=t())?o[e]=s:delete o[e])}),a;var o,s}(t);O(n,t),n.headers=i,n.method=u(n.method);var e=[function(t){i=t.headers;var e=Re(t.data,Oe(i),t.transformRequest);return A(e)&&at(i,function(t,e){"content-type"===L(e)&&delete i[e]}),A(t.withCredentials)&&!A(v.withCredentials)&&(t.withCredentials=v.withCredentials),function(r,t,e){var a,n,o=f.defer(),i=o.promise,s=function(t,e){if(!e)return t;var n=[];return function(t,e,n){for(var i=W(t),r=0;r<i.length;r++)e.call(n,t[i[r]],i[r])}(e,function(t,e){null===t||A(t)||(ut(t)||(t=[t]),at(t,function(t){st(t)&&(D(t)?t=t.toISOString():st(t)&&(t=F(t))),n.push(q(e)+"="+q(t))}))}),0<n.length&&(t+=(-1==t.indexOf("?")?"?":"&")+n.join("&")),t}(r.url,r.params);if(m.pendingRequests.push(r),i.then(c,c),!r.cache&&!v.cache||!1===r.cache||"GET"!==r.method&&"JSONP"!==r.method||(a=st(r.cache)?r.cache:st(v.cache)?v.cache:g),a)if(U(n=a.get(s))){if(k(n))return n.then(c,c),n;ut(n)?u(n[1],n[0],N(n[2]),n[3]):u(n,200,{},"OK")}else a.put(s,i);if(A(n)){var l=jn(r.url)?d.cookies()[r.xsrfCookieName||v.xsrfCookieName]:nt;l&&(e[r.xsrfHeaderName||v.xsrfHeaderName]=l),h(r.method,s,t,function(t,e,n,i){function r(){u(e,t,n,i)}a&&(He(t)?a.put(s,[t,e,Le(n),i]):a.remove(s)),y?p.$applyAsync(r):(r(),p.$$phase||p.$apply())},e,r.timeout,r.withCredentials,r.responseType)}return i;function u(t,e,n,i){(He(e=Math.max(e,0))?o.resolve:o.reject)({data:t,status:e,headers:Oe(n),config:r,statusText:i})}function c(){var t=M(m.pendingRequests,r);-1!==t&&m.pendingRequests.splice(t,1)}}(t,e,i).then(s,s)},nt],r=f.when(n);for(at(l,function(t){(t.request||t.requestError)&&e.unshift(t.request,t.requestError),(t.response||t.responseError)&&e.push(t.response,t.responseError)});e.length;){var a=e.shift(),o=e.shift();r=r.then(a,o)}return r.success=function(e){return r.then(function(t){e(t.data,t.status,t.headers,n)}),r},r.error=function(e){return r.then(null,function(t){e(t.data,t.status,t.headers,n)}),r},r;function s(t){var e=O({},t,{data:Re(t.data,t.headers,n.transformResponse)});return He(t.status)?e:f.reject(e)}}return at(r,function(t){l.unshift(lt(t)?e.get(t):e.invoke(t))}),m.pendingRequests=[],function(t){at(arguments,function(n){m[n]=function(t,e){return m(O(e||{},{method:n,url:t}))}})}("get","delete","head","jsonp"),function(t){at(arguments,function(i){m[i]=function(t,e,n){return m(O(n||{},{method:i,url:t,data:e}))}})}("post","put","patch"),m.defaults=v,m}]}function Ue(t){if(it<=8&&(!t.match(/^(get|post|head|put|delete|options)$/i)||!g.XMLHttpRequest))return new g.ActiveXObject("Microsoft.XMLHTTP");if(g.XMLHttpRequest)return new g.XMLHttpRequest;throw m("$httpBackend")("noxhr","This browser does not support XMLHttpRequest.")}function Fe(){this.$get=["$browser","$window","$document",function(t,e,n){return w=Ue,C=(_=t).defer,S=e.angular.callbacks,x=n[0],function(t,a,e,i,n,r,o,s){var l,u,c,h,d,p;if(_.$$incOutstandingRequestCount(),a=a||_.url(),"jsonp"==L(t)){var f="_"+(S.counter++).toString(36);S[f]=function(t){S[f].data=t,S[f].called=!0};var g=(u=a.replace("JSON_CALLBACK","angular.callbacks."+f),c=f,h=function(t,e){b(i,t,S[f].data,"",e),S[f]=ot},d=x.createElement("script"),p=null,d.type="text/javascript",d.src=u,d.async=!0,kt(d,"load",p=function(t){Et(d,"load",p),Et(d,"error",p),x.body.removeChild(d),d=null;var e=-1,n="unknown";t&&("load"!==t.type||S[c].called||(t={type:"error"}),n=t.type,e="error"===t.type?404:200),h&&h(e,n)}),kt(d,"error",p),x.body.appendChild(d),p)}else{var m=w(t);if(m.open(t,a,!0),at(n,function(t,e){U(t)&&m.setRequestHeader(e,t)}),m.onreadystatechange=function(){if(m&&4==m.readyState){var t=null,e=null,n="";-1!==l&&(t=m.getAllResponseHeaders(),e="response"in m?m.response:m.responseText),-1===l&&it<10||(n=m.statusText),b(i,l||m.status,e,t,n)}},o&&(m.withCredentials=!0),s)try{m.responseType=s}catch(t){if("json"!==s)throw t}m.send(e||null)}if(0<r)var v=C(y,r);else k(r)&&r.then(y);function y(){l=-1,g&&g(),m&&m.abort()}function b(t,e,n,i,r){v&&C.cancel(v),g=m=null,0===e&&(e=n?200:"file"==Fn(a).protocol?404:0),t(e=1223===e?204:e,n,i,r=r||""),_.$$completeOutstandingRequest(ot)}};var _,w,C,S,x}]}var je=m("$interpolate");function ze(){var $="{{",T="}}";this.startSymbol=function(t){return t?($=t,this):$},this.endSymbol=function(t){return t?(T=t,this):T},this.$get=["$parse","$exceptionHandler","$sce",function(y,b,_){var w=$.length,C=T.length,S=new RegExp($.replace(/./g,t),"g"),x=new RegExp(T.replace(/./g,t),"g");function t(t){return"\\\\\\"+t}function e(a,t,e,i){i=!!i;for(var n,r,o,s=0,l=[],u=[],c=a.length,h=[],d=[];s<c;){if(-1==(n=a.indexOf($,s))||-1==(r=a.indexOf(T,n+w))){s!==c&&h.push(m(a.substring(s)));break}s!==n&&h.push(m(a.substring(s,n))),o=a.substring(n+w,r),l.push(o),u.push(y(o,v)),s=r+C,d.push(h.length),h.push("")}if(e&&1<h.length)throw je("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",a);if(!t||l.length){var p=function(t){for(var e=0,n=l.length;e<n;e++){if(i&&A(t[e]))return;h[d[e]]=t[e]}return h.join("")},f=function(t){return e?_.getTrusted(e,t):_.valueOf(t)},g=function(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=F(t)}return t};return O(function(t){var e=0,n=l.length,i=new Array(n);try{for(;e<n;e++)i[e]=u[e](t);return p(i)}catch(t){var r=je("interr","Can't interpolate: {0}\n{1}",a,t.toString());b(r)}},{exp:a,expressions:l,$$watchDelegate:function(i,r,t){var a;return i.$watchGroup(u,function(t,e){var n=p(t);ct(r)&&r.call(this,n,t!==e?a:n,i),a=n},t)}})}function m(t){return t.replace(S,$).replace(x,T)}function v(t){try{return g(f(t))}catch(t){var e=je("interr","Can't interpolate: {0}\n{1}",a,t.toString());b(e)}}}return e.startSymbol=function(){return $},e.endSymbol=function(){return T},e}]}function Ve(){this.$get=["$rootScope","$window","$q","$$q",function(c,h,d,p){var f={};function t(t,e,n,i){var r=h.setInterval,a=h.clearInterval,o=0,s=U(i)&&!i,l=(s?p:d).defer(),u=l.promise;return n=U(n)?n:0,u.then(null,null,t),u.$$intervalId=r(function(){l.notify(o++),0<n&&n<=o&&(l.resolve(o),a(u.$$intervalId),delete f[u.$$intervalId]),s||c.$apply()},e),f[u.$$intervalId]=l,u}return t.cancel=function(t){return!!(t&&t.$$intervalId in f)&&(f[t.$$intervalId].reject("canceled"),h.clearInterval(t.$$intervalId),delete f[t.$$intervalId],!0)},t}]}function Be(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"",posSuf:"",negPre:"(",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a",short:"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(t){return 1===t?"one":"other"}}}}var Ye=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,qe={http:80,https:443,ftp:21},Ge=m("$location");function Ke(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=Y(e[n]);return e.join("/")}function Qe(t,e,n){var i=Fn(t,n);e.$$protocol=i.protocol,e.$$host=i.hostname,e.$$port=w(i.port)||qe[i.protocol]||null}function Xe(t,e,n){var i="/"!==t.charAt(0);i&&(t="/"+t);var r=Fn(t,n);e.$$path=decodeURIComponent(i&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),e.$$search=V(r.search),e.$$hash=decodeURIComponent(r.hash),e.$$path&&"/"!=e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function Ze(t,e){if(0===e.indexOf(t))return e.substr(t.length)}function Je(t){var e=t.indexOf("#");return-1==e?t:t.substr(0,e)}function tn(t){return t.substr(0,Je(t).lastIndexOf("/")+1)}function en(a,o){this.$$html5=!0,o=o||"";var s=tn(a);Qe(a,this,a),this.$$parse=function(t){var e=Ze(s,t);if(!lt(e))throw Ge("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,s);Xe(e,this,a),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=B(this.$$search),e=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=Ke(this.$$path)+(t?"?"+t:"")+e,this.$$absUrl=s+this.$$url.substr(1)},this.$$parseLinkUrl=function(t,e){return e&&"#"===e[0]?(this.hash(e.slice(1)),!0):((n=Ze(a,t))!==nt?r=(n=Ze(o,i=n))!==nt?s+(Ze("/",n)||n):a+i:(n=Ze(s,t))!==nt?r=s+n:s==t+"/"&&(r=s),r&&this.$$parse(r),!!r);var n,i,r}}function nn(i,r){var a=tn(i);Qe(i,this,i),this.$$parse=function(t){var e=Ze(i,t)||Ze(a,t),n="#"==e.charAt(0)?Ze(r,e):this.$$html5?e:"";if(!lt(n))throw Ge("ihshprfx",'Invalid url "{0}", missing hash prefix "{1}".',t,r);Xe(n,this,i),this.$$path=function(t,e,n){var i,r=/^\/[A-Z]:(\/.*)/;0===e.indexOf(n)&&(e=e.replace(n,""));if(r.exec(e))return t;return(i=r.exec(t))?i[1]:t}(this.$$path,n,i),this.$$compose()},this.$$compose=function(){var t=B(this.$$search),e=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=Ke(this.$$path)+(t?"?"+t:"")+e,this.$$absUrl=i+(this.$$url?r+this.$$url:"")},this.$$parseLinkUrl=function(t,e){return Je(i)==Je(t)&&(this.$$parse(t),!0)}}function rn(r,a){this.$$html5=!0,nn.apply(this,arguments);var o=tn(r);this.$$parseLinkUrl=function(t,e){return e&&"#"===e[0]?(this.hash(e.slice(1)),!0):(r==Je(t)?n=t:(i=Ze(o,t))?n=r+a+i:o===t+"/"&&(n=o),n&&this.$$parse(n),!!n);var n,i},this.$$compose=function(){var t=B(this.$$search),e=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=Ke(this.$$path)+(t?"?"+t:"")+e,this.$$absUrl=r+a+this.$$url}}function an(t){return function(){return this[t]}}function on(e,n){return function(t){return A(t)?this[e]:(this[e]=n(t),this.$$compose(),this)}}function sn(){var p="",f=!1;this.hashPrefix=function(t){return U(t)?(p=t,this):p},this.html5Mode=function(t){return U(t)?(f=t,this):f},this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(r,a,t,o){var s,e,n,i,l=a.baseHref(),u=a.url();if(f){if(!l)throw Ge("nobase","$location in HTML5 mode requires a <base> tag to be present!");n=(i=u).substring(0,i.indexOf("/",i.indexOf("//")+2))+(l||"/"),e=t.history?en:rn}else n=Je(u),e=nn;(s=new e(n,"#"+p)).$$parseLinkUrl(u,u);var c=/^\s*(javascript|mailto):/i;o.on("click",function(t){if(!t.ctrlKey&&!t.metaKey&&2!=t.which){for(var e=rt(t.target);"a"!==pt(e[0]);)if(e[0]===o[0]||!(e=e.parent())[0])return;var n=e.prop("href"),i=e.attr("href")||e.attr("xlink:href");st(n)&&"[object SVGAnimatedString]"===n.toString()&&(n=Fn(n.animVal).href),c.test(n)||!n||e.attr("target")||t.isDefaultPrevented()||s.$$parseLinkUrl(n,i)&&(t.preventDefault(),s.absUrl()!=a.url()&&(r.$apply(),g.angular["ff-684208-preventDefault"]=!0))}}),s.absUrl()!=u&&a.url(s.absUrl(),!0),a.onUrlChange(function(e){s.absUrl()!=e&&(r.$evalAsync(function(){var t=s.absUrl();s.$$parse(e),r.$broadcast("$locationChangeStart",e,t).defaultPrevented?(s.$$parse(t),a.url(t)):d(t)}),r.$$phase||r.$digest())});var h=0;return r.$watch(function(){var t=a.url(),e=s.$$replace;return h&&t==s.absUrl()||(h++,r.$evalAsync(function(){r.$broadcast("$locationChangeStart",s.absUrl(),t).defaultPrevented?s.$$parse(t):(a.url(s.absUrl(),e),d(t))})),s.$$replace=!1,h}),s;function d(t){r.$broadcast("$locationChangeSuccess",s.absUrl(),t)}}]}function ln(){var n=!0,i=this;this.debugEnabled=function(t){return U(t)?(n=t,this):n},this.$get=["$window",function(r){return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:(t=e("debug"),function(){n&&t.apply(i,arguments)})};var t;function e(t){var e=r.console||{},i=e[t]||e.log||ot,n=!1;try{n=!!i.apply}catch(t){}return n?function(){var n=[];return at(arguments,function(t){var e;n.push(((e=t)instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e))}),i.apply(e,n)}:function(t,e){i(t,null==e?"":e)}}}]}rn.prototype=nn.prototype=en.prototype={$$html5:!1,$$replace:!1,absUrl:an("$$absUrl"),url:function(t,e){if(A(t))return this.$$url;var n=Ye.exec(t);return n[1]&&this.path(decodeURIComponent(n[1])),(n[2]||n[1])&&this.search(n[3]||""),this.hash(n[5]||"",e),this},protocol:an("$$protocol"),host:an("$$host"),port:an("$$port"),path:on("$$path",function(t){return"/"==t.charAt(0)?t:"/"+t}),search:function(n,t){switch(arguments.length){case 0:return this.$$search;case 1:if(lt(n))this.$$search=V(n);else{if(!st(n))throw Ge("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");at(n,function(t,e){null==t&&delete n[e]}),this.$$search=n}break;default:A(t)||null===t?delete this.$$search[n]:this.$$search[n]=t}return this.$$compose(),this},hash:on("$$hash",S),replace:function(){return this.$$replace=!0,this}};var un=m("$parse");function cn(t,e){if("__defineGetter__"===t||"__defineSetter__"===t||"__lookupGetter__"===t||"__lookupSetter__"===t||"__proto__"===t)throw un("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",e);return t}function hn(t,e){if(t){if(t.constructor===t)throw un("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t.window===t)throw un("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",e);if(t.children&&(t.nodeName||t.prop&&t.attr&&t.find))throw un("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",e);if(t===Object)throw un("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",e)}return t}var dn=Function.prototype.call,pn=Function.prototype.apply,fn=Function.prototype.bind;var gn=O($t(),{null:function(){return null},true:function(){return!0},false:function(){return!1},undefined:ot,"+":function(t,e,n,i){return n=n(t,e),i=i(t,e),U(n)?U(i)?n+i:n:U(i)?i:nt},"-":function(t,e,n,i){return n=n(t,e),i=i(t,e),(U(n)?n:0)-(U(i)?i:0)},"*":function(t,e,n,i){return n(t,e)*i(t,e)},"/":function(t,e,n,i){return n(t,e)/i(t,e)},"%":function(t,e,n,i){return n(t,e)%i(t,e)},"^":function(t,e,n,i){return n(t,e)^i(t,e)},"=":ot,"===":function(t,e,n,i){return n(t,e)===i(t,e)},"!==":function(t,e,n,i){return n(t,e)!==i(t,e)},"==":function(t,e,n,i){return n(t,e)==i(t,e)},"!=":function(t,e,n,i){return n(t,e)!=i(t,e)},"<":function(t,e,n,i){return n(t,e)<i(t,e)},">":function(t,e,n,i){return n(t,e)>i(t,e)},"<=":function(t,e,n,i){return n(t,e)<=i(t,e)},">=":function(t,e,n,i){return n(t,e)>=i(t,e)},"&&":function(t,e,n,i){return n(t,e)&&i(t,e)},"||":function(t,e,n,i){return n(t,e)||i(t,e)},"&":function(t,e,n,i){return n(t,e)&i(t,e)},"|":function(t,e,n,i){return i(t,e)(t,e,n(t,e))},"!":function(t,e,n){return!n(t,e)}}),mn={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},vn=function(t){this.options=t};vn.prototype={constructor:vn,lex:function(t){for(this.text=t,this.index=0,this.ch=nt,this.tokens=[];this.index<this.text.length;)if(this.ch=this.text.charAt(this.index),this.is("\"'"))this.readString(this.ch);else if(this.isNumber(this.ch)||this.is(".")&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(this.ch))this.readIdent();else if(this.is("(){}[].,;:?"))this.tokens.push({index:this.index,text:this.ch}),this.index++;else if(this.isWhitespace(this.ch))this.index++;else{var e=this.ch+this.peek(),n=e+this.peek(2),i=gn[this.ch],r=gn[e],a=gn[n];a?(this.tokens.push({index:this.index,text:n,fn:a}),this.index+=3):r?(this.tokens.push({index:this.index,text:e,fn:r}),this.index+=2):i?(this.tokens.push({index:this.index,text:this.ch,fn:i}),this.index+=1):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(t){return-1!==t.indexOf(this.ch)},peek:function(t){var e=t||1;return this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(t){return"0"<=t&&t<="9"},isWhitespace:function(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\v"===t||""===t},isIdent:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||"_"===t||"$"===t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var i=U(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw un("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,i,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=L(this.text.charAt(this.index));if("."==n||this.isNumber(n))t+=n;else{var i=this.peek();if("e"==n&&this.isExpOperator(i))t+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"==t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!=t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}t*=1,this.tokens.push({index:e,text:t,constant:!0,fn:function(){return t}})},readIdent:function(){for(var t,e,n,i,r=this,a="",o=this.index;this.index<this.text.length&&("."===(i=this.text.charAt(this.index))||this.isIdent(i)||this.isNumber(i));)"."===i&&(t=this.index),a+=i,this.index++;if(t&&"."===a[a.length-1]&&(this.index--,-1===(t=(a=a.slice(0,-1)).lastIndexOf("."))&&(t=nt)),t)for(e=this.index;e<this.text.length;){if("("===(i=this.text.charAt(e))){n=a.substr(t-o+1),a=a.substr(0,t-o),this.index=e;break}if(!this.isWhitespace(i))break;e++}var s={index:o,text:a},l=gn[a];if(l)s.fn=l,s.constant=!0;else{var u=Cn(a,this.options,this.text);s.fn=O(function(t,e){return u(t,e)},{assign:function(t,e){return bn(t,a,e,r.text)}})}this.tokens.push(s),n&&(this.tokens.push({index:t,text:"."}),this.tokens.push({index:t+1,text:n}))},readString:function(t){var e=this.index;this.index++;for(var n="",i=t,r=!1;this.index<this.text.length;){var a=this.text.charAt(this.index);if(i+=a,r){if("u"===a){var o=this.text.substring(this.index+1,this.index+5);o.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+o+"]"),this.index+=4,n+=String.fromCharCode(parseInt(o,16))}else{n+=mn[a]||a}r=!1}else if("\\"===a)r=!0;else{if(a===t)return this.index++,void this.tokens.push({index:e,text:i,string:n,constant:!0,fn:function(){return n}});n+=a}this.index++}this.throwError("Unterminated quote",e)}};var yn=function(t,e,n){this.lexer=t,this.$filter=e,this.options=n};function bn(t,e,n,i){for(var r,a=e.split("."),o=0;1<a.length;o++){var s=t[r=cn(a.shift(),i)];s||(s={},t[r]=s),t=s}return r=cn(a.shift(),i),hn(t,i),hn(t[r],i),t[r]=n}yn.ZERO=O(function(){return 0},{constant:!0}),yn.prototype={constructor:yn,parse:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e.literal=!!e.literal,e.constant=!!e.constant,e},primary:function(){var t,e,n;if(this.expect("("))t=this.filterChain(),this.consume(")");else if(this.expect("["))t=this.arrayDeclaration();else if(this.expect("{"))t=this.object();else{var i=this.expect();(t=i.fn)||this.throwError("not a primary expression",i),i.constant&&(t.constant=!0,t.literal=!0)}for(;e=this.expect("(","[",".");)"("===e.text?(t=this.functionCall(t,n),n=null):"["===e.text?(n=t,t=this.objectIndex(t)):"."===e.text?(n=t,t=this.fieldAccess(t)):this.throwError("IMPOSSIBLE");return t},throwError:function(t,e){throw un("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},peekToken:function(){if(0===this.tokens.length)throw un("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,i){if(0<this.tokens.length){var r=this.tokens[0],a=r.text;if(a===t||a===e||a===n||a===i||!t&&!e&&!n&&!i)return r}return!1},expect:function(t,e,n,i){var r=this.peek(t,e,n,i);return!!r&&(this.tokens.shift(),r)},consume:function(t){this.expect(t)||this.throwError("is unexpected, expecting ["+t+"]",this.peek())},unaryFn:function(n,i){return O(function(t,e){return n(t,e,i)},{constant:i.constant})},ternaryFn:function(n,i,r){return O(function(t,e){return n(t,e)?i(t,e):r(t,e)},{constant:n.constant&&i.constant&&r.constant})},binaryFn:function(n,i,r){return O(function(t,e){return i(t,e,n,r)},{constant:n.constant&&r.constant})},statements:function(){for(var a=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&a.push(this.filterChain()),!this.expect(";"))return 1===a.length?a[0]:function(t,e){for(var n,i=0;i<a.length;i++){var r=a[i];r&&(n=r(t,e))}return n}},filterChain:function(){for(var t,e=this.expression();;){if(!(t=this.expect("|")))return e;e=this.binaryFn(e,t.fn,this.filter())}},filter:function(){var r,a,t=this.expect(),o=this.$filter(t.text);if(this.peek(":"))for(r=[],a=[];this.expect(":");)r.push(this.expression());return x(function(t,e,n){if(a){a[0]=n;for(var i=r.length;i--;)a[i+1]=r[i](t,e);return o.apply(nt,a)}return o(n)})},expression:function(){return this.assignment()},assignment:function(){var n,t,i=this.ternary();return(t=this.expect("="))?(i.assign||this.throwError("implies assignment but ["+this.text.substring(0,t.index)+"] can not be assigned to",t),n=this.ternary(),function(t,e){return i.assign(t,n(t,e),e)}):i},ternary:function(){var t,e,n=this.logicalOR();return(e=this.expect("?"))?(t=this.assignment(),(e=this.expect(":"))?this.ternaryFn(n,t,this.assignment()):void this.throwError("expected :",e)):n},logicalOR:function(){for(var t,e=this.logicalAND();;){if(!(t=this.expect("||")))return e;e=this.binaryFn(e,t.fn,this.logicalAND())}},logicalAND:function(){var t,e=this.equality();return(t=this.expect("&&"))&&(e=this.binaryFn(e,t.fn,this.logicalAND())),e},equality:function(){var t,e=this.relational();return(t=this.expect("==","!=","===","!=="))&&(e=this.binaryFn(e,t.fn,this.equality())),e},relational:function(){var t,e=this.additive();return(t=this.expect("<",">","<=",">="))&&(e=this.binaryFn(e,t.fn,this.relational())),e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e=this.binaryFn(e,t.fn,this.multiplicative());return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e=this.binaryFn(e,t.fn,this.unary());return e},unary:function(){var t;return this.expect("+")?this.primary():(t=this.expect("-"))?this.binaryFn(yn.ZERO,t.fn,this.unary()):(t=this.expect("!"))?this.unaryFn(t.fn,this.unary()):this.primary()},fieldAccess:function(r){var a=this,o=this.expect().text,i=Cn(o,this.options,this.text);return O(function(t,e,n){return i(n||r(t,e))},{assign:function(t,e,n){var i=r(t,n);return i||r.assign(t,i={}),bn(i,o,e,a.text)}})},objectIndex:function(a){var o=this,s=this.expression();return this.consume("]"),O(function(t,e){var n=a(t,e),i=s(t,e);return cn(i,o.text),n?hn(n[i],o.text):nt},{assign:function(t,e,n){var i=cn(s(t,n),o.text),r=hn(a(t,n),o.text);return r||a.assign(t,r={}),r[i]=e}})},functionCall:function(a,o){var s=[];if(")"!==this.peekToken().text)for(;s.push(this.expression()),this.expect(","););this.consume(")");var l=this.text,u=s.length?[]:null;return function(t,e){var n=o?o(t,e):t,i=a(t,e,n)||ot;if(u)for(var r=s.length;r--;)u[r]=s[r](t,e);return hn(n,l),function(t,e){if(t){if(t.constructor===t)throw un("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t===dn||t===pn||t===fn)throw un("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",e)}}(i,l),hn(i.apply?i.apply(n,u):i(u[0],u[1],u[2],u[3],u[4]),l)}},arrayDeclaration:function(){var r=[],t=!0;if("]"!==this.peekToken().text)do{if(this.peek("]"))break;var e=this.expression();r.push(e),e.constant||(t=!1)}while(this.expect(","));return this.consume("]"),O(function(t,e){for(var n=[],i=0;i<r.length;i++)n.push(r[i](t,e));return n},{literal:!0,constant:t})},object:function(){var a=[],t=!0;if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var e=this.expect(),n=e.string||e.text;this.consume(":");var i=this.expression();a.push({key:n,value:i}),i.constant||(t=!1)}while(this.expect(","));return this.consume("}"),O(function(t,e){for(var n={},i=0;i<a.length;i++){var r=a[i];n[r.key]=r.value(t,e)}return n},{literal:!0,constant:t})}};var _n=$t();function wn(i,r,a,o,s,t){return cn(i,t),cn(r,t),cn(a,t),cn(o,t),cn(s,t),function(t,e){var n=e&&e.hasOwnProperty(i)?e:t;return null==n?n:(n=n[i],r?null==n?nt:(n=n[r],a?null==n?nt:(n=n[a],o?null==n?nt:(n=n[o],s?null==n?nt:n=n[s]:n):n):n):n)}}function Cn(t,e,r){var n=_n[t];if(n)return n;var a=t.split("."),o=a.length;if(e.csp)n=o<6?wn(a[0],a[1],a[2],a[3],a[4],r):function(t,e){for(var n,i=0;n=wn(a[i++],a[i++],a[i++],a[i++],a[i++],r)(t,e),e=nt,t=n,i<o;);return n};else{var i="";at(a,function(t,e){cn(t,r),i+="if(s == null) return undefined;\ns="+(e?"s":'((l&&l.hasOwnProperty("'+t+'"))?l:s)')+"."+t+";\n"}),i+="return s;";var s=new Function("s","l",i);s.toString=x(i),n=s}return _n[t]=n}function Sn(){var h=$t(),d={csp:!1};this.$get=["$filter","$sniffer",function(o,t){return d.csp=t.csp,function(t,e){var n,i,r;switch(typeof t){case"string":if(r=t=t.trim(),!(n=h[r])){":"===t.charAt(0)&&":"===t.charAt(1)&&(i=!0,t=t.substring(2));var a=new vn(d);(n=new yn(a,o,d).parse(t)).constant?n.$$watchDelegate=u:i&&(n.$$watchDelegate=n.literal?l:s),h[r]=n}return c(n,e);case"function":return c(t,e);default:return c(ot,e)}};function s(t,i,e,n){var r,a;return r=t.$watch(function(t){return n(t)},function(t,e,n){a=t,ct(i)&&i.apply(this,arguments),U(t)&&n.$$postDigest(function(){U(a)&&r()})},e)}function l(t,i,e,n){var r;return r=t.$watch(function(t){return n(t)},function(t,e,n){ct(i)&&i.call(this,t,e,n),a(t)&&n.$$postDigest(function(){a(t)&&r()})},e);function a(t){var e=!0;return at(t,function(t){U(t)||(e=!1)}),e}}function u(t,i,e,n){var r;return r=t.$watch(function(t){return n(t)},function(t,e,n){ct(i)&&i.apply(this,arguments),r()},e)}function c(r,a){if(!a)return r;var t=function(t,e){var n=r(t,e),i=a(n,t,e);return U(n)?i:n};return t.$$watchDelegate=r.$$watchDelegate,t}}]}function xn(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return Tn(function(t){e.$evalAsync(t)},t)}]}function $n(){this.$get=["$browser","$exceptionHandler",function(e,t){return Tn(function(t){e.defer(t)},t)}]}function Tn(e,o){var i=m("$q",TypeError);function t(){this.$$state={status:0}}function n(e,n){return function(t){n.call(e,t)}}function r(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,e(function(){!function(t){var e,n,i;i=t.pending,t.processScheduled=!1,t.pending=nt;for(var r=0,a=i.length;r<a;++r){n=i[r][0],e=i[r][t.status];try{ct(e)?n.resolve(e(t.value)):1===t.status?n.resolve(t.value):n.reject(t.value)}catch(t){n.reject(t),o(t)}}}(t)}))}function a(){this.promise=new t,this.resolve=n(this,this.resolve),this.reject=n(this,this.reject),this.notify=n(this,this.notify)}t.prototype={then:function(t,e,n){var i=new a;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,t,e,n]),0<this.$$state.status&&r(this.$$state),i.promise},catch:function(t){return this.then(null,t)},finally:function(e,t){return this.then(function(t){return l(t,!0,e)},function(t){return l(t,!1,e)},t)}},a.prototype={resolve:function(t){this.promise.$$state.status||(t===this.promise?this.$$reject(i("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):this.$$resolve(t))},$$resolve:function(t){var e,n;n=function(n,t,e){var i=!1;function r(e){return function(t){i||(i=!0,e.call(n,t))}}return[r(t),r(e)]}(this,this.$$resolve,this.$$reject);try{(st(t)||ct(t))&&(e=t&&t.then),ct(e)?(this.promise.$$state.status=-1,e.call(t,n[0],n[1],this.notify)):(this.promise.$$state.value=t,this.promise.$$state.status=1,r(this.promise.$$state))}catch(t){n[1](t),o(t)}},reject:function(t){this.promise.$$state.status||this.$$reject(t)},$$reject:function(t){this.promise.$$state.value=t,this.promise.$$state.status=2,r(this.promise.$$state)},notify:function(r){var a=this.promise.$$state.pending;this.promise.$$state.status<=0&&a&&a.length&&e(function(){for(var t,e,n=0,i=a.length;n<i;n++){e=a[n][0],t=a[n][3];try{e.notify(ct(t)?t(r):r)}catch(t){o(t)}}})}};var s=function(t,e){var n=new a;return e?n.resolve(t):n.reject(t),n.promise},l=function(t,e,n){var i=null;try{ct(n)&&(i=n())}catch(t){return s(t,!1)}return k(i)?i.then(function(){return s(t,e)},function(t){return s(t,!1)}):s(t,e)},u=function(t,e,n,i){var r=new a;return r.resolve(t),r.promise.then(e,n,i)};var c=function t(e){if(!ct(e))throw i("norslvr","Expected resolverFn, got '{0}'",e);if(!(this instanceof t))return new t(e);var n=new a;return e(function(t){n.resolve(t)},function(t){n.reject(t)}),n.promise};return c.defer=function(){return new a},c.reject=function(t){var e=new a;return e.reject(t),e.promise},c.when=u,c.all=function(t){var n=new a,i=0,r=ut(t)?[]:{};return at(t,function(t,e){i++,u(t).then(function(t){r.hasOwnProperty(e)||(r[e]=t,--i||n.resolve(r))},function(t){r.hasOwnProperty(e)||n.reject(t)})}),0===i&&n.resolve(r),n.promise},c}function An(){this.$get=["$window","$timeout",function(t,n){var i=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,r=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,e=!!i,a=e?function(t){var e=i(t);return function(){r(e)}}:function(t){var e=n(t,16.66,!1);return function(){n.cancel(e)}};return a.supported=e,a}]}function Dn(){var C=10,S=m("$rootScope"),x=null,$=null;this.digestTtl=function(t){return arguments.length&&(C=t),C},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(t,g,p,m){function n(){this.$id=o(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.this=this.$root=this,this.$$destroyed=!1,this.$$asyncQueue=[],this.$$postDigestQueue=[],this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings={},this.$$applyAsyncQueue=[]}n.prototype={constructor:n,$new:function(t){var e;return t?((e=new n).$root=this.$root,e.$$asyncQueue=this.$$asyncQueue,e.$$postDigestQueue=this.$$postDigestQueue):(this.$$ChildScope||(this.$$ChildScope=function(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=o(),this.$$ChildScope=null},this.$$ChildScope.prototype=this),e=new this.$$ChildScope),(e.this=e).$parent=this,e.$$prevSibling=this.$$childTail,this.$$childHead?(this.$$childTail.$$nextSibling=e,this.$$childTail=e):this.$$childHead=this.$$childTail=e,e},$watch:function(t,e,n){var i=p(t);if(i.$$watchDelegate)return i.$$watchDelegate(this,e,n,i);var r=this.$$watchers,a={fn:e,last:_,get:i,exp:t,eq:!!n};return x=null,ct(e)||(a.fn=ot),r||(r=this.$$watchers=[]),r.unshift(a),function(){ft(r,a),x=null}},$watchGroup:function(t,i){var r=new Array(t.length),a=new Array(t.length),o=[],s=this,l=!1,e=!0;if(!t.length){var n=!0;return s.$evalAsync(function(){n&&i(a,a,s)}),function(){n=!1}}if(1===t.length)return this.$watch(t[0],function(t,e,n){a[0]=t,r[0]=e,i(a,t===e?a:r,n)});function u(){l=!1,e?(e=!1,i(a,a,s)):i(a,r,s)}return at(t,function(t,n){var e=s.$watch(t,function(t,e){a[n]=t,r[n]=e,l||(l=!0,s.$evalAsync(u))});o.push(e)}),function(){for(;o.length;)o.shift()()}},$watchCollection:function(t,n){var o,s,i,r=this,a=1<n.length,l=0,e=p(t,function(t){var e,n,i,r;if(st(o=t))if(I(o)){s!==u&&(d=(s=u).length=0,l++),e=o.length,d!==e&&(l++,s.length=d=e);for(var a=0;a<e;a++)r=s[a],i=o[a],r!=r&&i!=i||r===i||(l++,s[a]=i)}else{for(n in s!==c&&(s=c={},d=0,l++),e=0,o)o.hasOwnProperty(n)&&(e++,i=o[n],r=s[n],n in s?r!=r&&i!=i||r===i||(l++,s[n]=i):(d++,s[n]=i,l++));if(e<d)for(n in l++,s)o.hasOwnProperty(n)||(d--,delete s[n])}else s!==o&&(s=o,l++);return l}),u=[],c={},h=!0,d=0;return this.$watch(e,function(){if(h?(h=!1,n(o,o,r)):n(o,i,r),a)if(st(o))if(I(o)){i=new Array(o.length);for(var t=0;t<o.length;t++)i[t]=o[t]}else for(var e in i={},o)T.call(o,e)&&(i[e]=o[e]);else i=o})},$digest:function(){var t,e,n,i,r,a,o,s,l,u,c,h=this.$$asyncQueue,d=this.$$postDigestQueue,p=C,f=[];y("$digest"),m.$$checkUrlChange(),this===v&&null!==$&&(m.defer.cancel($),w()),x=null;do{for(a=!1,s=this;h.length;){try{(c=h.shift()).scope.$eval(c.expression)}catch(t){g(t)}x=null}t:do{if(i=s.$$watchers)for(r=i.length;r--;)try{if(t=i[r])if((e=t.get(s))===(n=t.last)||(t.eq?gt(e,n):"number"==typeof e&&"number"==typeof n&&isNaN(e)&&isNaN(n))){if(t===x){a=!1;break t}}else a=!0,(x=t).last=t.eq?P(e,null):e,t.fn(e,n===_?e:n,s),p<5&&(f[l=4-p]||(f[l]=[]),u=ct(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,u+="; newVal: "+F(e)+"; oldVal: "+F(n),f[l].push(u))}catch(t){g(t)}if(!(o=s.$$childHead||s!==this&&s.$$nextSibling))for(;s!==this&&!(o=s.$$nextSibling);)s=s.$parent}while(s=o);if((a||h.length)&&!p--)throw b(),S("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",C,F(f))}while(a||h.length);for(b();d.length;)try{d.shift()()}catch(t){g(t)}},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;if(this.$broadcast("$destroy"),this.$$destroyed=!0,this!==v){for(var e in this.$$listenerCount)a(this,this.$$listenerCount[e],e);t.$$childHead==this&&(t.$$childHead=this.$$nextSibling),t.$$childTail==this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=null,this.$$listeners={},this.$$watchers=this.$$asyncQueue=this.$$postDigestQueue=[],this.$destroy=this.$digest=this.$apply=ot,this.$on=this.$watch=this.$watchGroup=function(){return ot}}}},$eval:function(t,e){return p(t)(this,e)},$evalAsync:function(t){v.$$phase||v.$$asyncQueue.length||m.defer(function(){v.$$asyncQueue.length&&v.$digest()}),this.$$asyncQueue.push({scope:this,expression:t})},$$postDigest:function(t){this.$$postDigestQueue.push(t)},$apply:function(t){try{return y("$apply"),this.$eval(t)}catch(t){g(t)}finally{b();try{v.$digest()}catch(t){throw g(t),t}}},$applyAsync:function(t){var e=this;t&&v.$$applyAsyncQueue.push(function(){e.$eval(t)}),null===$&&($=m.defer(function(){v.$apply(w)}))},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);for(var i=this;i.$$listenerCount[t]||(i.$$listenerCount[t]=0),i.$$listenerCount[t]++,i=i.$parent;);var r=this;return function(){n[M(n,e)]=null,a(r,1,t)}},$emit:function(t,e){var n,i,r,a=[],o=this,s=!1,l={name:t,targetScope:o,stopPropagation:function(){s=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},u=H([l],arguments,1);do{for(n=o.$$listeners[t]||a,l.currentScope=o,i=0,r=n.length;i<r;i++)if(n[i])try{n[i].apply(null,u)}catch(t){g(t)}else n.splice(i,1),i--,r--;if(s)return l.currentScope=null,l;o=o.$parent}while(o);return l.currentScope=null,l},$broadcast:function(t,e){var n=this,i=this,r={name:t,targetScope:this,preventDefault:function(){r.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[t])return r;for(var a,o,s,l=H([r],arguments,1);n=i;){for(o=0,s=(a=(r.currentScope=n).$$listeners[t]||[]).length;o<s;o++)if(a[o])try{a[o].apply(null,l)}catch(t){g(t)}else a.splice(o,1),o--,s--;if(!(i=n.$$listenerCount[t]&&n.$$childHead||n!==this&&n.$$nextSibling))for(;n!==this&&!(i=n.$$nextSibling);)n=n.$parent}return r.currentScope=null,r}};var v=new n;return v;function y(t){if(v.$$phase)throw S("inprog","{0} already in progress",v.$$phase);v.$$phase=t}function b(){v.$$phase=null}function a(t,e,n){for(;t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n],t=t.$parent;);}function _(){}function w(){for(var t=v.$$applyAsyncQueue;t.length;)try{t.shift()()}catch(t){g(t)}$=null}}]}function kn(){var r=/^\s*(https?|ftp|mailto|tel|file):/,a=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return U(t)?(r=t,this):r},this.imgSrcSanitizationWhitelist=function(t){return U(t)?(a=t,this):a},this.$get=function(){return function(t,e){var n,i=e?a:r;return it&&!(8<=it)||""===(n=Fn(t).href)||n.match(i)?t:"unsafe:"+n}}}var En=m("$sce"),Mn={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"};function Pn(t){var e=[];return U(t)&&at(t,function(t){e.push(function(t){if("self"===t)return t;if(lt(t)){if(-1<t.indexOf("***"))throw En("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=(e=t,e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+t+"$")}if(d(t))return new RegExp("^"+t.source+"$");throw En("imatcher",'Matchers may only be "self", string patterns or RegExp objects');var e}(t))}),e}function Nn(){this.SCE_CONTEXTS=Mn;var o=["self"],s=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(o=Pn(t)),o},this.resourceUrlBlacklist=function(t){return arguments.length&&(s=Pn(t)),s},this.$get=["$injector",function(t){var i=function(t){throw En("unsafe","Attempting to use an unsafe value in a safe context.")};function a(t,e){return"self"===t?jn(e):!!t.exec(e.href)}function e(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}t.has("$sanitize")&&(i=t.get("$sanitize"));var n=e(),r={};return r[Mn.HTML]=e(n),r[Mn.CSS]=e(n),r[Mn.URL]=e(n),r[Mn.JS]=e(n),r[Mn.RESOURCE_URL]=e(r[Mn.URL]),{trustAs:function(t,e){var n=r.hasOwnProperty(t)?r[t]:null;if(!n)throw En("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||e===nt||""===e)return e;if("string"!=typeof e)throw En("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new n(e)},getTrusted:function(t,e){if(null===e||e===nt||""===e)return e;var n=r.hasOwnProperty(t)?r[t]:null;if(n&&e instanceof n)return e.$$unwrapTrustedValue();if(t===Mn.RESOURCE_URL){if(function(t){var e,n,i=Fn(t.toString()),r=!1;for(e=0,n=o.length;e<n;e++)if(a(o[e],i)){r=!0;break}if(r)for(e=0,n=s.length;e<n;e++)if(a(s[e],i)){r=!1;break}return r}(e))return e;throw En("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString())}if(t===Mn.HTML)return i(e);throw En("unsafe","Attempting to use an unsafe value in a safe context.")},valueOf:function(t){return t instanceof n?t.$$unwrapTrustedValue():t}}}]}function In(){var n=!0;this.enabled=function(t){return arguments.length&&(n=!!t),n},this.$get=["$parse","$sniffer","$sceDelegate",function(i,t,e){if(n&&t.msie&&t.msieDocumentMode<8)throw En("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 9 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=N(Mn);r.isEnabled=function(){return n},r.trustAs=e.trustAs,r.getTrusted=e.getTrusted,r.valueOf=e.valueOf,n||(r.trustAs=r.getTrusted=function(t,e){return e},r.valueOf=S),r.parseAs=function(e,t){var n=i(t);return n.literal&&n.constant?n:i(t,function(t){return r.getTrusted(e,t)})};var a=r.parseAs,o=r.getTrusted,s=r.trustAs;return at(Mn,function(e,t){var n=L(t);r[Lt("parse_as_"+n)]=function(t){return a(e,t)},r[Lt("get_trusted_"+n)]=function(t){return o(e,t)},r[Lt("trust_as_"+n)]=function(t){return s(e,t)}}),r}]}function Ln(){this.$get=["$window","$document",function(t,e){var n,i,r={},a=w((/android (\d+)/.exec(L((t.navigator||{}).userAgent))||[])[1]),o=/Boxee/i.test((t.navigator||{}).userAgent),s=e[0]||{},l=s.documentMode,u=/^(Moz|webkit|O|ms)(?=[A-Z])/,c=s.body&&s.body.style,h=!1,d=!1;if(c){for(var p in c)if(i=u.exec(p)){n=(n=i[0]).substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in c&&"webkit"),h=!!("transition"in c||n+"Transition"in c),d=!!("animation"in c||n+"Animation"in c),!a||h&&d||(h=lt(s.body.style.webkitTransition),d=lt(s.body.style.webkitAnimation))}return{history:!(!t.history||!t.history.pushState||a<4||o),hashchange:"onhashchange"in t&&(!l||7<l),hasEvent:function(t){if("input"==t&&9==it)return!1;if(A(r[t])){var e=s.createElement("div");r[t]="on"+t in e}return r[t]},csp:R(),vendorPrefix:n,transitions:h,animations:d,android:a,msie:it,msieDocumentMode:l}}]}Ae=m("$compile");function On(){this.$get=["$templateCache","$http","$q",function(a,e,o){function s(n,t){var i=s;return i.totalPendingRequests++,e.get(n,{cache:a}).then(function(t){var e=t.data;return e&&0!==e.length?(i.totalPendingRequests--,a.put(n,e),e):r()},r);function r(){if(i.totalPendingRequests--,!t)throw Ae("tpload","Failed to load template: {0}",n);return o.reject()}}return s.totalPendingRequests=0,s}]}function Rn(){this.$get=["$rootScope","$browser","$location",function(e,n,i){var t={findBindings:function(t,n,i){var e=t.getElementsByClassName("ng-binding"),r=[];return at(e,function(e){var t=b.element(e).data("$binding");t&&at(t,function(t){i?new RegExp("(^|\\s)"+n+"(\\s|\\||$)").test(t)&&r.push(e):-1!=t.indexOf(n)&&r.push(e)})}),r},findModels:function(t,e,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var a="["+i[r]+"model"+(n?"=":"*=")+'"'+e+'"]',o=t.querySelectorAll(a);if(o.length)return o}},getLocation:function(){return i.url()},setLocation:function(t){t!==i.url()&&(i.url(t),e.$digest())},whenStable:function(t){n.notifyWhenNoOutstandingRequests(t)}};return t}]}function Hn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(s,l,u,c,h){var d={};function t(t,e,n){var i,r=U(n)&&!n,a=(r?c:u).defer(),o=a.promise;return i=l.defer(function(){try{a.resolve(t())}catch(t){a.reject(t),h(t)}finally{delete d[o.$$timeoutId]}r||s.$apply()},e),o.$$timeoutId=i,d[i]=a,o}return t.cancel=function(t){return!!(t&&t.$$timeoutId in d)&&(d[t.$$timeoutId].reject("canceled"),delete d[t.$$timeoutId],l.defer.cancel(t.$$timeoutId))},t}]}var Wn=et.createElement("a"),Un=Fn(g.location.href,!0);function Fn(t,e){var n=t;return it&&(Wn.setAttribute("href",n),n=Wn.href),Wn.setAttribute("href",n),{href:Wn.href,protocol:Wn.protocol?Wn.protocol.replace(/:$/,""):"",host:Wn.host,search:Wn.search?Wn.search.replace(/^\?/,""):"",hash:Wn.hash?Wn.hash.replace(/^#/,""):"",hostname:Wn.hostname,port:Wn.port,pathname:"/"===Wn.pathname.charAt(0)?Wn.pathname:"/"+Wn.pathname}}function jn(t){var e=lt(t)?Fn(t):t;return e.protocol===Un.protocol&&e.host===Un.host}function zn(){this.$get=x(g)}function Vn(i){var r="Filter";function a(t,e){if(st(t)){var n={};return at(t,function(t,e){n[e]=a(e,t)}),n}return i.factory(t+r,e)}this.register=a,this.$get=["$injector",function(e){return function(t){return e.get(t+r)}}],a("currency",Yn),a("date",ri),a("filter",Bn),a("json",ai),a("limitTo",li),a("lowercase",oi),a("number",qn),a("orderBy",ui),a("uppercase",si)}function Bn(){return function(t,n,r){if(!ut(t))return t;var e=typeof r,i=[];i.check=function(t,e){for(var n=0;n<i.length;n++)if(!i[n](t,e))return!1;return!0},"function"!==e&&(r="boolean"===e&&r?function(t,e){return b.equals(t,e)}:function(t,e){if(t&&e&&"object"==typeof t&&"object"==typeof e){for(var n in t)if("$"!==n.charAt(0)&&T.call(t,n)&&r(t[n],e[n]))return!0;return!1}return e=(""+e).toLowerCase(),-1<(""+t).toLowerCase().indexOf(e)});var a=function(t,e){if("string"==typeof e&&"!"===e.charAt(0))return!a(t,e.substr(1));switch(typeof t){case"boolean":case"number":case"string":return r(t,e);case"object":switch(typeof e){case"object":return r(t,e);default:for(var n in t)if("$"!==n.charAt(0)&&a(t[n],e))return!0}return!1;case"array":for(var i=0;i<t.length;i++)if(a(t[i],e))return!0;return!1;default:return!1}};switch(typeof n){case"boolean":case"number":case"string":n={$:n};case"object":for(var o in n)!function(e){void 0!==n[e]&&i.push(function(t){return a("$"==e?t:t&&t[e],n[e])})}(o);break;case"function":i.push(n);break;default:return t}for(var s=[],l=0;l<t.length;l++){var u=t[l];i.check(u,l)&&s.push(u)}return s}}function Yn(t){var n=t.NUMBER_FORMATS;return function(t,e){return A(e)&&(e=n.CURRENCY_SYM),null==t?t:Kn(t,n.PATTERNS[1],n.GROUP_SEP,n.DECIMAL_SEP,2).replace(/\u00A4/g,e)}}function qn(t){var n=t.NUMBER_FORMATS;return function(t,e){return null==t?t:Kn(t,n.PATTERNS[0],n.GROUP_SEP,n.DECIMAL_SEP,e)}}Vn.$inject=["$provide"],Yn.$inject=["$locale"],qn.$inject=["$locale"];var Gn=".";function Kn(t,e,n,i,r){if(!isFinite(t)||st(t))return"";var a=t<0,o=(t=Math.abs(t))+"",s="",l=[],u=!1;if(-1!==o.indexOf("e")){var c=o.match(/([\d\.]+)e(-?)(\d+)/);c&&"-"==c[2]&&c[3]>r+1?(o="0",t=0):(s=o,u=!0)}if(u)0<r&&-1<t&&t<1&&(s=t.toFixed(r));else{var h=(o.split(Gn)[1]||"").length;A(r)&&(r=Math.min(Math.max(e.minFrac,h),e.maxFrac));var d=(""+(t=+(Math.round(+(t.toString()+"e"+r)).toString()+"e"+-r))).split(Gn),p=d[0];d=d[1]||"";var f,g=0,m=e.lgSize,v=e.gSize;if(p.length>=m+v)for(g=p.length-m,f=0;f<g;f++)(g-f)%v==0&&0!==f&&(s+=n),s+=p.charAt(f);for(f=g;f<p.length;f++)(p.length-f)%m==0&&0!==f&&(s+=n),s+=p.charAt(f);for(;d.length<r;)d+="0";r&&"0"!==r&&(s+=i+d.substr(0,r))}return l.push(a?e.negPre:e.posPre),l.push(s),l.push(a?e.negSuf:e.posSuf),l.join("")}function Qn(t,e,n){var i="";for(t<0&&(i="-",t=-t),t=""+t;t.length<e;)t="0"+t;return n&&(t=t.substr(t.length-e)),i+t}function Xn(n,i,r,a){return r=r||0,function(t){var e=t["get"+n]();return(0<r||-r<e)&&(e+=r),0===e&&-12==r&&(e=12),Qn(e,i,a)}}function Zn(i,r){return function(t,e){var n=t["get"+i]();return e[u(r?"SHORT"+i:i)][n]}}function Jn(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(e<=4?5:12)-e)}function ti(r){return function(t){var e,n=Jn(t.getFullYear()),i=+(e=t,new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay())))-+n;return Qn(1+Math.round(i/6048e5),r)}}var ei={yyyy:Xn("FullYear",4),yy:Xn("FullYear",2,0,!0),y:Xn("FullYear",1),MMMM:Zn("Month"),MMM:Zn("Month",!0),MM:Xn("Month",2,1),M:Xn("Month",1,1),dd:Xn("Date",2),d:Xn("Date",1),HH:Xn("Hours",2),H:Xn("Hours",1),hh:Xn("Hours",2,-12),h:Xn("Hours",1,-12),mm:Xn("Minutes",2),m:Xn("Minutes",1),ss:Xn("Seconds",2),s:Xn("Seconds",1),sss:Xn("Milliseconds",3),EEEE:Zn("Day"),EEE:Zn("Day",!0),a:function(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]},Z:function(t){var e=-1*t.getTimezoneOffset(),n=0<=e?"+":"";return n+=Qn(Math[0<e?"floor":"ceil"](e/60),2)+Qn(Math.abs(e%60),2)},ww:ti(2),w:ti(1)},ni=/((?:[^yMdHhmsaZEw']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|w+))(.*)/,ii=/^\-?\d+$/;function ri(s){var h=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(e,t,n){var i,r,a="",o=[];if(t=t||"mediumDate",t=s.DATETIME_FORMATS[t]||t,lt(e)&&(e=ii.test(e)?w(e):function(t){var e;if(e=t.match(h)){var n=new Date(0),i=0,r=0,a=e[8]?n.setUTCFullYear:n.setFullYear,o=e[8]?n.setUTCHours:n.setHours;e[9]&&(i=w(e[9]+e[10]),r=w(e[9]+e[11])),a.call(n,w(e[1]),w(e[2])-1,w(e[3]));var s=w(e[4]||0)-i,l=w(e[5]||0)-r,u=w(e[6]||0),c=Math.round(1e3*parseFloat("0."+(e[7]||0)));return o.call(n,s,l,u,c),n}return t}(e)),$(e)&&(e=new Date(e)),!D(e))return e;for(;t;)t=(r=ni.exec(t))?(o=H(o,r,1)).pop():(o.push(t),null);return n&&"UTC"===n&&(e=new Date(e.getTime())).setMinutes(e.getMinutes()+e.getTimezoneOffset()),at(o,function(t){i=ei[t],a+=i?i(e,s.DATETIME_FORMATS):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),a}}function ai(){return function(t){return F(t,!0)}}ri.$inject=["$locale"];var oi=x(L),si=x(u);function li(){return function(t,e){if(!ut(t)&&!lt(t))return t;if(e=Math.abs(Number(e))===1/0?Number(e):w(e),lt(t))return e?0<=e?t.slice(0,e):t.slice(e,t.length):"";var n,i,r=[];for(e>t.length?e=t.length:e<-t.length&&(e=-t.length),i=0<e?(n=0,e):(n=t.length+e,t.length);n<i;n++)r.push(t[n]);return r}}function ui(c){return function(t,r,e){if(!ut(t))return t;if(!r)return t;var i,a,o;r=ut(r)?r:[r],i=function(t){var e=!1,n=t||S;if(lt(t)&&("+"!=t.charAt(0)&&"-"!=t.charAt(0)||(e="-"==t.charAt(0),t=t.substring(1)),(n=c(t)).constant)){var i=n();return l(function(t,e){return u(t[i],e[i])},e)}return l(function(t,e){return u(n(t),n(e))},e)},o=[],at(r,function(t,e,n){o.push(i.call(a,t,e,n))}),r=o;for(var n=[],s=0;s<t.length;s++)n.push(t[s]);return n.sort(l(function(t,e){for(var n=0;n<r.length;n++){var i=r[n](t,e);if(0!==i)return i}return 0},e));function l(n,t){return t?function(t,e){return n(e,t)}:n}function u(t,e){var n=typeof t,i=typeof e;return n==i?(D(t)&&D(e)&&(t=t.valueOf(),e=e.valueOf()),"string"==n&&(t=t.toLowerCase(),e=e.toLowerCase()),t===e?0:t<e?-1:1):n<i?-1:1}}}function ci(t){return ct(t)&&(t={link:t}),t.restrict=t.restrict||"AC",x(t)}ui.$inject=["$parse"];var hi=x({restrict:"E",compile:function(t,e){if(it<=8&&(e.href||e.name||e.$set("href",""),t.append(et.createComment("IE fix"))),!e.href&&!e.xlinkHref&&!e.name)return function(t,e){var n="[object SVGAnimatedString]"===s.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}),di={};at(oe,function(t,i){if("multiple"!=t){var r=Ee("ng-"+i);di[r]=function(){return{restrict:"A",priority:100,link:function(t,e,n){t.$watch(n[r],function(t){n.$set(i,!!t)})}}}}}),at(le,function(t,r){di[r]=function(){return{priority:100,link:function(t,e,n){if("ngPattern"===r&&"/"==n.ngPattern.charAt(0)){var i=n.ngPattern.match(a);if(i)return void n.$set("ngPattern",new RegExp(i[1],i[2]))}t.$watch(n[r],function(t){n.$set(r,t)})}}}}),at(["src","srcset","href"],function(a){var o=Ee("ng-"+a);di[o]=function(){return{priority:99,link:function(t,e,n){var i=a,r=a;"href"===a&&"[object SVGAnimatedString]"===s.call(e.prop("href"))&&(r="xlinkHref",n.$attr[r]="xlink:href",i=null),n.$observe(o,function(t){t?(n.$set(r,t),it&&i&&e.prop(i,n[r])):"href"===a&&n.$set(r,null)})}}}});var pi={$addControl:ot,$removeControl:ot,$setValidity:ot,$$setPending:ot,$setDirty:ot,$setPristine:ot,$setSubmitted:ot,$$clearControlValidity:ot},fi="ng-submitted";function gi(n,t,e,i){var s=this,l=n.parent().controller("form")||pi,u=0,c=0,r=[],h=s.$error={};function d(t,e){e=e?"-"+yt(e,"-"):"",i.removeClass(n,(t?Hi:Ri)+e),i.addClass(n,(t?Ri:Hi)+e)}s.$name=t.name||t.ngForm,s.$dirty=!1,s.$pristine=!0,s.$valid=!0,s.$invalid=!1,s.$submitted=!1,l.$addControl(s),n.addClass(Wi),d(!0),s.$rollbackViewValue=function(){at(r,function(t){t.$rollbackViewValue()})},s.$commitViewValue=function(){at(r,function(t){t.$commitViewValue()})},s.$addControl=function(t){Ct(t.$name,"input"),r.push(t),t.$name&&(s[t.$name]=t)},s.$removeControl=function(t){t.$name&&s[t.$name]===t&&delete s[t.$name],s.$$clearControlValidity(t),ft(r,t)},s.$$clearControlValidity=function(n){function t(t,e){s.$setValidity(e,!0,n)}at(s.$pending,t),at(h,t),l.$$clearControlValidity(s)},s.$$setPending=function(t,e){var n=s.$pending&&s.$pending[t];n&&E(n,e)||(c++,s.$valid=s.$invalid=nt,s.$pending=s.$pending||{},n||(n=s.$pending[t]=[]),n.push(e),l.$$setPending(t,s))},s.$setValidity=function(t,e,n){var i,r=h[t],a=s.$pending&&s.$pending[t];a&&(i=0<=M(a,n))&&(ft(a,n),c--,0===a.length&&delete s.$pending[t]);var o=s.$pending&&0===c;if(o&&(s.$pending=nt),e)(r||i)&&(r&&ft(r,n),r&&r.length||(h[t]&&u--,u?o&&(d(!1),s.$valid=!1,s.$invalid=!0):s.$pending||(d(e),s.$valid=!0,s.$invalid=!1),d(!(h[t]=!1),t),l.$setValidity(t,!0,s)));else{if(s.$pending||(s.$valid=!1,s.$invalid=!0),u||d(e),r){if(E(r,n))return}else h[t]=r=[],u++,d(!1,t),l.$setValidity(t,!1,s);r.push(n)}},s.$setDirty=function(){i.removeClass(n,Wi),i.addClass(n,Ui),s.$dirty=!0,s.$pristine=!1,l.$setDirty()},s.$setPristine=function(){i.setClass(n,Wi,Ui+" "+fi),s.$dirty=!1,s.$pristine=!0,s.$submitted=!1,at(r,function(t){t.$setPristine()})},s.$setSubmitted=function(){i.addClass(n,fi),s.$submitted=!0,l.$setSubmitted()}}gi.$inject=["$element","$attrs","$scope","$animate"];var mi=function(t){return["$timeout",function(s){return{name:"form",restrict:t?"EAC":"E",controller:gi,compile:function(){return{pre:function(e,t,n,i){if(!n.action){var r=function(t){e.$apply(function(){i.$commitViewValue(),i.$setSubmitted()}),t.preventDefault?t.preventDefault():t.returnValue=!1};kt(t[0],"submit",r),t.on("$destroy",function(){s(function(){Et(t[0],"submit",r)},0,!1)})}var a=t.parent().controller("form"),o=n.name||n.ngForm;o&&bn(e,o,i,o),a&&t.on("$destroy",function(){a.$removeControl(i),o&&bn(e,o,nt,o),O(i,pi)})}}}}}]},vi=mi(),yi=mi(!0),bi=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,_i=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,wi=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,Ci=/^(\d{4})-(\d{2})-(\d{2})$/,Si=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d))?$/,xi=/^(\d{4})-W(\d\d)$/,$i=/^(\d{4})-(\d\d)$/,Ti=/^(\d\d):(\d\d)(?::(\d\d))?$/,Ai=/(\s+|^)default(\s+|$)/,Di=new m("ngModel"),ki={text:function(t,e,n,i,r,a){Mi(t,e,n,i,r,a),Ei(i)},date:Ni("date",Ci,Pi(Ci,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Ni("datetimelocal",Si,Pi(Si,["yyyy","MM","dd","HH","mm","ss"]),"yyyy-MM-ddTHH:mm:ss"),time:Ni("time",Ti,Pi(Ti,["HH","mm","ss"]),"HH:mm:ss"),week:Ni("week",xi,function(t){if(D(t))return t;if(lt(t)){xi.lastIndex=0;var e=xi.exec(t);if(e){var n=+e[1],i=+e[2],r=Jn(n),a=7*(i-1);return new Date(n,0,r.getDate()+a)}}return NaN},"yyyy-Www"),month:Ni("month",$i,Pi($i,["yyyy","MM"]),"yyyy-MM"),number:function(t,e,n,i,r,a){Ii(t,e,n,i),Mi(t,e,n,i,r,a),i.$$parserName="number",i.$parsers.push(function(t){return i.$isEmpty(t)?null:wi.test(t)?parseFloat(t):nt}),i.$formatters.push(function(t){if(!i.$isEmpty(t)){if(!$(t))throw Di("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t}),n.min&&(i.$validators.min=function(t){return i.$isEmpty(t)||A(n.min)||t>=parseFloat(n.min)});n.max&&(i.$validators.max=function(t){return i.$isEmpty(t)||A(n.max)||t<=parseFloat(n.max)})},url:function(t,e,n,i,r,a){Ii(t,e,n,i),Mi(t,e,n,i,r,a),Ei(i),i.$$parserName="url",i.$validators.url=function(t,e){var n=t||e;return i.$isEmpty(n)||bi.test(n)}},email:function(t,e,n,i,r,a){Ii(t,e,n,i),Mi(t,e,n,i,r,a),Ei(i),i.$$parserName="email",i.$validators.email=function(t,e){var n=t||e;return i.$isEmpty(n)||_i.test(n)}},radio:function(e,n,i,r){A(i.name)&&n.attr("name",o());n.on("click",function(t){n[0].checked&&e.$apply(function(){r.$setViewValue(i.value,t&&t.type)})}),r.$render=function(){var t=i.value;n[0].checked=t==r.$viewValue},i.$observe("value",r.$render)},checkbox:function(e,n,t,i,r,a,o,s){var l=Li(s,e,"ngTrueValue",t.ngTrueValue,!0),u=Li(s,e,"ngFalseValue",t.ngFalseValue,!1);n.on("click",function(t){e.$apply(function(){i.$setViewValue(n[0].checked,t&&t.type)})}),i.$render=function(){n[0].checked=i.$viewValue},i.$isEmpty=function(t){return t!==l},i.$formatters.push(function(t){return gt(t,l)}),i.$parsers.push(function(t){return t?l:u})},hidden:ot,button:ot,submit:ot,reset:ot,file:ot};function Ei(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function Mi(r,a,o,s,t,e){var l=a.prop(f),u=a[0].placeholder,c={},h=L(a[0].type);if(s.$$validityState=l,!t.android){var d=!1;a.on("compositionstart",function(t){d=!0}),a.on("compositionend",function(){d=!1,n()})}var n=function(t){if(!d){var e=a.val(),n=t&&t.type;if(it&&"input"===(t||c).type&&a[0].placeholder!==u)u=a[0].placeholder;else{"password"===h||o.ngTrim&&"false"===o.ngTrim||(e=dt(e));var i=l&&s.$$hasNativeValidators;(s.$viewValue!==e||""===e&&i)&&(r.$$phase?s.$setViewValue(e,n,i):r.$apply(function(){s.$setViewValue(e,n,i)}))}}};if(t.hasEvent("input"))a.on("input",n);else{var i,p=function(t){i||(i=e.defer(function(){n(t),i=null}))};a.on("keydown",function(t){var e=t.keyCode;91===e||15<e&&e<19||37<=e&&e<=40||p(t)}),t.hasEvent("paste")&&a.on("paste cut",p)}a.on("change",n),s.$render=function(){a.val(s.$isEmpty(s.$viewValue)?"":s.$viewValue)}}function Pi(i,r){return function(t){var e,n;return D(t)?t:lt(t)&&(i.lastIndex=0,e=i.exec(t))?(e.shift(),n={yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0},at(e,function(t,e){e<r.length&&(n[r[e]]=+t)}),new Date(n.yyyy,n.MM-1,n.dd,n.HH,n.mm,n.ss||0)):NaN}}function Ni(l,u,c,h){return function(t,e,n,i,r,a,o){Ii(t,e,n,i),Mi(t,e,n,i,r,a);var s=i&&i.$options&&i.$options.timezone;i.$$parserName=l,i.$parsers.push(function(t){if(i.$isEmpty(t))return null;if(u.test(t)){var e=c(t);return"UTC"===s&&e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e}return nt}),i.$formatters.push(function(t){return D(t)?o("date")(t,h,s):""}),n.min&&(i.$validators.min=function(t){return i.$isEmpty(t)||A(n.min)||c(t)>=c(n.min)}),n.max&&(i.$validators.max=function(t){return i.$isEmpty(t)||A(n.max)||c(t)<=c(n.max)})}}function Ii(t,n,e,i){var r=n[0];(i.$$hasNativeValidators=st(r.validity))&&i.$parsers.push(function(t){var e=n.prop(f)||{};return e.badInput||e.typeMismatch?nt:t})}function Li(t,e,n,i,r){var a;if(U(i)){if(!(a=t(i)).constant)throw m("ngModel")("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return a(e)}return r}var Oi=["$browser","$sniffer","$filter","$parse",function(r,a,o,s){return{restrict:"E",require:["?ngModel"],link:function(t,e,n,i){i[0]&&(ki[L(n.type)]||ki.text)(t,e,n,i[0],a,r,o,s)}}}],Ri="ng-valid",Hi="ng-invalid",Wi="ng-pristine",Ui="ng-dirty",Fi="ng-untouched",ji="ng-touched",zi="ng-pending",Vi=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout",function(r,e,n,o,t,s,l){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$validators={},this.$asyncValidators={},this.$validators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$name=n.name;var a=t(n.ngModel),i=a.assign,u=null,c=this;this.$$setOptions=function(t){if(c.$options=t,!(i||t&&t.getterSetter))throw Di("nonassign","Expression '{0}' is non-assignable. Element: {1}",n.ngModel,vt(o))},this.$render=ot,this.$isEmpty=function(t){return A(t)||""===t||null===t||t!=t};var h=o.inheritedData("$formController")||pi,d=0,p=0,f=this.$error={};function g(t,e){e=e?"-"+yt(e,"-"):"",s.removeClass(o,(t?Hi:Ri)+e),s.addClass(o,(t?Ri:Hi)+e)}o.addClass(Wi).addClass(Fi),g(!0),this.$$clearValidity=function(){s.removeClass(o,zi),at(c.$error,function(t,e){var n=yt(e,"-");s.removeClass(o,Ri+n),s.removeClass(o,Hi+n)}),c.$pending&&c.$$clearPending(),d=0,f=c.$error={},h.$$clearControlValidity(c)},this.$$clearPending=function(){p=0,c.$pending=nt,s.removeClass(o,zi)},this.$$setPending=function(n,t,i){function e(e){return function(){var t=c.$viewValue||"";c.$pending&&c.$pending[n]&&i===t&&(p--,delete c.$pending[n],c.$setValidity(n,e),0===p&&(c.$$clearPending(),c.$$updateValidModelValue(t),c.$$writeModelToScope()))}}c.$pending=c.$pending||{},b.isUndefined(c.$pending[n])&&(c.$pending[n]=!0,p++),c.$valid=c.$invalid=nt,h.$$setPending(n,c),s.addClass(o,zi),s.removeClass(o,Hi),s.removeClass(o,Ri),i=i||"",t.then(e(!0),e(!1))},this.$setValidity=function(t,e){(c.$pending||f[t]!==!e)&&(e?(f[t]&&d--,d||p||(g(!0),c.$valid=!0,c.$invalid=!1)):f[t]||(d++,p||(g(!1),c.$invalid=!0,c.$valid=!1)),f[t]=!e,g(e,t),h.$setValidity(t,e,c))},this.$setPristine=function(){c.$dirty=!1,c.$pristine=!0,s.removeClass(o,Ui),s.addClass(o,Wi)},this.$setUntouched=function(){c.$touched=!1,c.$untouched=!0,s.setClass(o,Fi,ji)},this.$setTouched=function(){c.$touched=!0,c.$untouched=!1,s.setClass(o,ji,Fi)},this.$rollbackViewValue=function(){l.cancel(u),c.$viewValue=c.$$lastCommittedViewValue,c.$render()},this.$validate=function(){if(c.$modelValue==c.$modelValue){var t=c.$modelValue;c.$$runValidators(c.$$invalidModelValue||c.$modelValue,c.$viewValue),t!==c.$modelValue&&c.$$writeModelToScope()}},this.$$runValidators=function(a,o){function t(t,i){var r=!0;return at(t,function(t,e){var n=t(a,o);i(e,n),r=r&&n}),r}c.$pending&&c.$$clearPending(),t(c.$validators,function(t,e){c.$setValidity(t,e)})&&t(c.$asyncValidators,function(t,e){if(!k(e))throw Di("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",e);c.$$setPending(t,e,a)}),c.$$updateValidModelValue(a)},this.$$updateValidModelValue=function(t){c.$modelValue=c.$valid?t:nt,c.$$invalidModelValue=c.$valid?nt:t},this.$commitViewValue=function(t){var e=c.$viewValue;if(l.cancel(u),t||c.$$lastCommittedViewValue!==e){c.$$lastCommittedViewValue=e,c.$pristine&&(c.$dirty=!0,c.$pristine=!1,s.removeClass(o,Wi),s.addClass(o,Ui),h.$setDirty());for(var n,i=e,r=0;r<c.$parsers.length;r++)if(A(i=c.$parsers[r](i))){n=!0;break}var a=c.$$parserName||"parse";n?(c.$$invalidModelValue=c.$modelValue=nt,c.$$clearValidity(),c.$setValidity(a,!1),c.$$writeModelToScope()):c.$modelValue===i||!A(c.$$invalidModelValue)&&c.$$invalidModelValue==i||(c.$setValidity(a,!0),c.$$runValidators(i,e),c.$$writeModelToScope())}},this.$$writeModelToScope=function(){var t;c.$options&&c.$options.getterSetter&&ct(t=a(r))?t(c.$modelValue):i(r,c.$modelValue),at(c.$viewChangeListeners,function(t){try{t()}catch(t){e(t)}})},this.$setViewValue=function(t,e,n){c.$viewValue=t,c.$options&&!c.$options.updateOnDefault||c.$$debounceViewValueCommit(e,n)},this.$$debounceViewValueCommit=function(t,e){var n,i=0,r=c.$options;r&&U(r.debounce)&&($(n=r.debounce)?i=n:$(n[t])?i=n[t]:$(n.default)&&(i=n.default)),l.cancel(u),i?u=l(function(){c.$commitViewValue(e)},i):c.$commitViewValue(e)},r.$watch(function(){var t=a(r);if(c.$options&&c.$options.getterSetter&&ct(t)&&(t=t()),c.$modelValue!==t&&(A(c.$$invalidModelValue)||c.$$invalidModelValue!=t)){for(var e=c.$formatters,n=e.length,i=t;n--;)i=e[n](i);c.$$runValidators(t,i),c.$viewValue!==i&&(c.$viewValue=c.$$lastCommittedViewValue=i,c.$render())}return t})}],Bi=function(){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Vi,link:{pre:function(t,e,n,i){var r=i[0],a=i[1]||pi;r.$$setOptions(i[2]&&i[2].$options),a.$addControl(r),t.$on("$destroy",function(){a.$removeControl(r)})},post:function(e,t,n,i){var r=i[0];r.$options&&r.$options.updateOn&&t.on(r.$options.updateOn,function(t){e.$apply(function(){r.$$debounceViewValueCommit(t&&t.type)})}),t.on("blur",function(t){r.$touched||e.$apply(function(){r.$setTouched()})})}}}},Yi=x({restrict:"A",require:"ngModel",link:function(t,e,n,i){i.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),qi=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){i&&(n.required=!0,i.$validators.required=function(t,e){return!n.required||!i.$isEmpty(e)},n.$observe("required",function(){i.$validate()}))}}},Gi=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r,a=n.ngPattern||n.pattern;n.$observe("pattern",function(t){if(lt(t)&&0<t.length&&(t=new RegExp(t)),t&&!t.test)throw m("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",a,t,vt(e));r=t||nt,i.$validate()}),i.$validators.pattern=function(t){return i.$isEmpty(t)||A(r)||r.test(t)}}}}},Ki=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=0;n.$observe("maxlength",function(t){r=w(t)||0,i.$validate()}),i.$validators.maxlength=function(t,e){return i.$isEmpty(e)||e.length<=r}}}}},Qi=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=0;n.$observe("minlength",function(t){r=w(t)||0,i.$validate()}),i.$validators.minlength=function(t,e){return i.$isEmpty(e)||e.length>=r}}}}},Xi=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,n,i){var r=e.attr(n.$attr.ngList)||", ",a="false"!==n.ngTrim,o=a?dt(r):r;i.$parsers.push(function(t){if(!A(t)){var e=[];return t&&at(t.split(o),function(t){t&&e.push(a?dt(t):t)}),e}}),i.$formatters.push(function(t){return ut(t)?t.join(r):nt}),i.$isEmpty=function(t){return!t||!t.length}}}},Zi=/^(true|false|\d+)$/,Ji=function(){return{restrict:"A",priority:100,compile:function(t,e){return Zi.test(e.ngValue)?function(t,e,n){n.$set("value",t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){n.$set("value",t)})}}}},tr=function(){return{restrict:"A",controller:["$scope","$attrs",function(t,e){var n=this;this.$options=t.$eval(e.ngModelOptions),this.$options.updateOn!==nt?(this.$options.updateOnDefault=!1,this.$options.updateOn=dt(this.$options.updateOn.replace(Ai,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},er=["$compile",function(i){return{restrict:"AC",compile:function(t){return i.$$addBindingClass(t),function(t,e,n){i.$$addBindingInfo(e,n.ngBind),t.$watch(n.ngBind,function(t){e.text(t==nt?"":t)})}}}}],nr=["$interpolate","$compile",function(r,a){return{compile:function(t){return a.$$addBindingClass(t),function(t,e,n){var i=r(e.attr(n.$attr.ngBindTemplate));a.$$addBindingInfo(e,i.expressions),n.$observe("ngBindTemplate",function(t){e.text(t)})}}}}],ir=["$sce","$parse","$compile",function(a,n,o){return{restrict:"A",compile:function(t,e){var i=n(e.ngBindHtml),r=n(e.ngBindHtml,function(t){return(t||"").toString()});return o.$$addBindingClass(t),function(t,e,n){o.$$addBindingInfo(e,n.ngBindHtml),t.$watch(r,function(){e.html(a.getTrustedHtml(i(t))||"")})}}}}];function rr(o,g){return o="ngClass"+o,["$animate",function(d){return{restrict:"AC",link:function(s,l,a){var u;function c(t){var e=h(t,1);a.$addClass(e)}function h(t,e){var n=l.data("$classCounts")||{},i=[];return at(t,function(t){(0<e||n[t])&&(n[t]=(n[t]||0)+e,n[t]===+(0<e)&&i.push(t))}),l.data("$classCounts",n),i.join(" ")}function e(t){if(!0===g||s.$index%2===g){var e=f(t||[]);if(u){if(!gt(t,u)){var n=f(u);a=p(r=e,i=n),o=p(i,r),a=h(a,1),o=h(o,-1),a&&a.length&&d.addClass(l,a),o&&o.length&&d.removeClass(l,o)}}else c(e)}var i,r,a,o;u=N(t)}s.$watch(a[o],e,!0),a.$observe("class",function(t){e(s.$eval(a[o]))}),"ngClass"!==o&&s.$watch("$index",function(t,e){var n,i=1&t;if(i!==(1&e)){var r=f(s.$eval(a[o]));i===g?c(r):(n=h(r,-1),a.$removeClass(n))}})}};function p(t,e){var n=[];t:for(var i=0;i<t.length;i++){for(var r=t[i],a=0;a<e.length;a++)if(r==e[a])continue t;n.push(r)}return n}function f(t){if(ut(t))return t;if(lt(t))return t.split(" ");if(st(t)){var n=[];return at(t,function(t,e){t&&(n=n.concat(e.split(" ")))}),n}return t}}]}var ar=rr("",!0),or=rr("Odd",0),sr=rr("Even",1),lr=ci({compile:function(t,e){e.$set("ngCloak",nt),t.removeClass("ng-cloak")}}),ur=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],cr={},hr={blur:!0,focus:!0};at("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var i=Ee("ng-"+a);cr[i]=["$parse",function(n){return{restrict:"A",compile:function(t,e){var r=n(e[i]);return function(n,t){var i=L(a);t.on(i,function(t){var e=function(){r(n,{$event:t})};hr[i]&&n.$$phase?n.$evalAsync(e):n.$apply(e)})}}}}]});var dr,pr=["$animate",function(l){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(t,n,i,e,r){var a,o,s;t.$watch(i.ngIf,function(t){t?o||r(function(t,e){o=e,t[t.length++]=et.createComment(" end ngIf: "+i.ngIf+" "),a={clone:t},l.enter(t,n.parent(),n)}):(s&&(s.remove(),s=null),o&&(o.$destroy(),o=null),a&&(s=xt(a.clone),l.leave(s).then(function(){s=null}),a=null))})}}}],fr=["$templateRequest","$anchorScroll","$animate","$sce",function(g,m,v,i){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:b.noop,compile:function(t,e){var n=e.ngInclude||e.src,p=e.onload||"",f=e.autoscroll;return function(a,o,t,s,l){var u,e,c,h=0,d=function(){e&&(e.remove(),e=null),u&&(u.$destroy(),u=null),c&&(v.leave(c).then(function(){e=null}),e=c,c=null)};a.$watch(i.parseAsResourceUrl(n),function(t){var i=function(){!U(f)||f&&!a.$eval(f)||m()},r=++h;t?(g(t,!0).then(function(t){if(r===h){var e=a.$new();s.template=t;var n=l(e,function(t){d(),v.enter(t,null,o).then(i)});c=n,(u=e).$emit("$includeContentLoaded"),a.$eval(p)}},function(){r===h&&(d(),a.$emit("$includeContentError"))}),a.$emit("$includeContentRequested")):(d(),s.template=null)})}}}}],gr=["$compile",function(r){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(t,e,n,i){e.html(i.template),r(e.contents())(t)}}}],mr=ci({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),vr=ci({terminal:!0,priority:1e3}),yr=["$locale","$interpolate",function(h,d){var p=/{}/g;return{restrict:"EA",link:function(e,n,i){var r=i.count,t=i.$attr.when&&n.attr(i.$attr.when),a=i.offset||0,o=e.$eval(t)||{},s={},l=d.startSymbol(),u=d.endSymbol(),c=/^when(Minus)?(.+)$/;at(i,function(t,e){c.test(e)&&(o[L(e.replace("when","").replace("Minus","-"))]=n.attr(i.$attr[e]))}),at(o,function(t,e){s[e]=d(t.replace(p,l+r+"-"+a+u))}),e.$watch(function(){var t=parseFloat(e.$eval(r));return isNaN(t)?"":(t in o||(t=h.pluralCat(t-a)),s[t](e))},function(t){n.text(t)})}}}],br=["$parse","$animate",function(l,E){var M="$$NG_REMOVED",P=m("ngRepeat"),N=function(t,e,n,i,r,a,o){t[n]=i,r&&(t[r]=a),t.$index=e,t.$first=0===e,t.$last=e===o-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0==(1&e))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(t,e){var C=e.ngRepeat,S=et.createComment(" end ngRepeat: "+C+" "),n=C.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!n)throw P("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",C);var i=n[1],r=n[2],x=n[3],a=n[4];if(!(n=i.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/)))throw P("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",i);var o,$,T,A,D=n[3]||n[1],k=n[2];if(x&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(x)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent)$/.test(x)))throw P("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",x);var s={$id:ce};return a?o=l(a):(T=function(t,e){return ce(e)},A=function(t){return t}),function(y,b,t,e,_){o&&($=function(t,e,n){return k&&(s[k]=t),s[D]=e,s.$index=n,o(y,s)});var w=$t();y.$watchCollection(r,function(t){var i,e,n,r,a,o,s,l,u,c,h,d,p,f=b[0],g=$t();if(x&&(y[x]=t),I(t))u=t,l=$||T;else{for(var m in l=$||A,u=[],t)t.hasOwnProperty(m)&&"$"!=m.charAt(0)&&u.push(m);u.sort()}for(r=u.length,h=new Array(r),i=0;i<r;i++)if(a=t===u?i:u[i],o=t[a],s=l(a,o,i),w[s])c=w[s],delete w[s],g[s]=c,h[i]=c;else{if(g[s])throw at(h,function(t){t&&t.scope&&(w[t.id]=t)}),P("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",C,s,F(o));h[i]={id:s,scope:nt,clone:nt},g[s]=!0}for(var v in w){if(d=xt((c=w[v]).clone),E.leave(d),d[0].parent)for(i=0,e=d.length;i<e;i++)d[i][M]=!0;c.scope.$destroy()}for(i=0;i<r;i++)if(a=t===u?i:u[i],o=t[a],(c=h[i]).scope){for(n=f;(n=n.nextSibling)&&n[M];);c.clone[0]!=n&&E.move(xt(c.clone),null,rt(f)),f=(p=c).clone[p.clone.length-1],N(c.scope,i,D,o,k,a,r)}else _(function(t,e){c.scope=e;var n=S.cloneNode();t[t.length++]=n,E.enter(t,null,rt(f)),f=n,c.clone=t,g[c.id]=c,N(c.scope,i,D,o,k,a,r)});w=g})}}}}],_r=["$animate",function(i){return{restrict:"A",multiElement:!0,link:function(t,e,n){t.$watch(n.ngShow,function(t){i[t?"removeClass":"addClass"](e,"ng-hide")})}}}],wr=["$animate",function(i){return{restrict:"A",multiElement:!0,link:function(t,e,n){t.$watch(n.ngHide,function(t){i[t?"addClass":"removeClass"](e,"ng-hide")})}}}],Cr=ci(function(t,n,e){t.$watch(e.ngStyle,function(t,e){e&&t!==e&&at(e,function(t,e){n.css(e,"")}),t&&n.css(t)},!0)}),Sr=["$animate",function(h){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(r,t,a,o){var e=a.ngSwitch||a.on,s=[],l=[],u=[],c=[];r.$watch(e,function(t){var e,n;for(e=0,n=u.length;e<n;++e)h.cancel(u[e]);for(u.length=0,e=0,n=c.length;e<n;++e){var i=xt(l[e].clone);c[e].$destroy(),(u[e]=h.leave(i)).then(function(){u.splice(e,1)})}l.length=0,c.length=0,(s=o.cases["!"+t]||o.cases["?"])&&(r.$eval(a.change),at(s,function(r){r.transclude(function(t,e){c.push(e);var n=r.element;t[t.length++]=et.createComment(" end ngSwitchWhen: ");var i={clone:t};l.push(i),h.enter(t,n.parent(),n)})}))})}}}],xr=ci({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){i.cases["!"+n.ngSwitchWhen]=i.cases["!"+n.ngSwitchWhen]||[],i.cases["!"+n.ngSwitchWhen].push({transclude:r,element:e})}}),$r=ci({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:e})}}),Tr=ci({restrict:"EAC",link:function(t,e,n,i,r){if(!r)throw m("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",vt(e));r(function(t){e.empty(),e.append(t)})}}),Ar=["$templateCache",function(r){return{restrict:"E",terminal:!0,compile:function(t,e){if("text/ng-template"==e.type){var n=e.id,i=t[0].text;r.put(n,i)}}}}],Dr=m("ngOptions"),kr=x({restrict:"A",terminal:!0}),Er=["$compile","$parse",function(_,w){var C=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,s={$setViewValue:ot};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(n,t,e){var i,r=this,a={},o=s;r.databound=e.ngModel,r.init=function(t,e,n){o=t,e,i=n},r.addOption=function(t,e){Ct(t,'"option value"'),a[t]=!0,o.$viewValue==t&&(n.val(t),i.parent()&&i.remove()),e[0].hasAttribute("selected")&&(e[0].selected=!0)},r.removeOption=function(t){this.hasOption(t)&&(delete a[t],o.$viewValue==t&&this.renderUnknownOption(t))},r.renderUnknownOption=function(t){var e="? "+ce(t)+" ?";i.val(e),n.prepend(i),n.val(e),i.prop("selected",!0)},r.hasOption=function(t){return a.hasOwnProperty(t)},t.$on("$destroy",function(){r.renderUnknownOption=ot})}],link:function(t,e,n,i){if(i[1]){for(var r,a,o,s,l,u,c,h,d,p=i[0],f=i[1],I=n.multiple,g=n.ngOptions,L=!1,O=!1,R=rt(et.createElement("option")),H=rt(et.createElement("optgroup")),m=R.clone(),v=0,y=e.children(),b=y.length;v<b;v++)if(""===y[v].value){r=L=y.eq(v);break}p.init(f,L,m),I&&(f.$isEmpty=function(t){return!t||0===t.length}),g?function(S,x,$){var t;if(!(t=g.match(C)))throw Dr("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",g,vt(x));var T=w(t[2]||t[1]),A=t[4]||t[6],D=t[5],k=w(t[3]||""),E=w(t[2]?t[1]:A),M=w(t[7]),P=t[8]?w(t[8]):null,N=[[{element:x,label:""}]];L&&(_(L)(S),L.removeClass("ng-scope"),L.remove());x.empty(),x.on("change",function(){S.$apply(function(){var t,e,n,i,r,a,o,s,l,u=M(S)||[],c={};if(I){for(n=[],a=0,s=N.length;a<s;a++)for(r=1,o=(t=N[a]).length;r<o;r++)if((i=t[r].element)[0].selected){if(e=i.val(),D&&(c[D]=e),P)for(l=0;l<u.length&&(c[A]=u[l],P(S,c)!=e);l++);else c[A]=u[e];n.push(E(S,c))}}else if("?"==(e=x.val()))n=nt;else if(""===e)n=null;else if(P){for(l=0;l<u.length;l++)if(c[A]=u[l],P(S,c)==e){n=E(S,c);break}}else c[A]=u[e],D&&(c[D]=e),n=E(S,c);$.$setViewValue(n),h()})}),$.$render=h,S.$watchCollection(M,function(){O||(S.$$postDigest(h),O=!0)}),I&&S.$watchCollection(function(){return $.$modelValue},function(){O||(S.$$postDigest(h),O=!0)});function h(){O=!1;var t,e,n,i,r,a,o,s,l,u,c,h,d,p,f,g={"":[]},m=[""],v=$.$modelValue,y=M(S)||[],b=D?W(y):y,_={},w=function(){var t=!1;if(I){var e=$.$modelValue;if(P&&ut(e)){t=new he([]);for(var n={},i=0;i<e.length;i++)n[A]=e[i],t.put(P(S,n),e[i])}else t=new he(e)}return t}();for(c=0;l=b.length,c<l;c++){if(o=c,D){if("$"===(o=b[c]).charAt(0))continue;_[D]=o}if(_[A]=y[o],t=k(S,_)||"",(e=g[t])||(e=g[t]=[],m.push(t)),I)h=U(w.remove(P?P(S,_):E(S,_)));else{if(P){var C={};C[A]=v,h=P(S,C)===P(S,_)}else h=v===E(S,_);w=w||h}f=U(f=T(S,_))?f:"",e.push({id:P?P(S,_):D?b[c]:c,label:f,selected:h})}for(I||(L||null===v?g[""].unshift({id:"",label:"",selected:!w}):w||g[""].unshift({id:"?",label:"",selected:!0})),u=0,s=m.length;u<s;u++){for(t=m[u],e=g[t],N.length<=u?(i={element:H.clone().attr("label",t),label:e.label},r=[i],N.push(r),x.append(i.element)):(r=N[u],(i=r[0]).label!=t&&i.element.attr("label",i.label=t)),d=null,c=0,l=e.length;c<l;c++)n=e[c],(a=r[c+1])?(d=a.element,a.label!==n.label&&d.text(a.label=n.label),a.id!==n.id&&d.val(a.id=n.id),d[0].selected!==n.selected&&(d.prop("selected",a.selected=n.selected),it&&d.prop("selected",a.selected))):(""===n.id&&L?p=L:(p=R.clone()).val(n.id).prop("selected",n.selected).attr("selected",n.selected).text(n.label),r.push(a={element:p,label:n.label,id:n.id,selected:n.selected}),d?d.after(p):i.element.append(p),d=p);for(c++;r.length>c;)r.pop().element.remove()}for(;N.length>u;)N.pop()[0].element.remove()}}(t,e,f):I?(u=t,c=e,(h=f).$render=function(){var e=new he(h.$viewValue);at(c.find("option"),function(t){t.selected=U(e.get(t.value))})},u.$watch(function(){gt(d,h.$viewValue)||(d=N(h.$viewValue),h.$render())}),c.on("change",function(){u.$apply(function(){var e=[];at(c.find("option"),function(t){t.selected&&e.push(t.value)}),h.$setViewValue(e)})})):(a=t,o=e,l=p,(s=f).$render=function(){var t=s.$viewValue;l.hasOption(t)?(m.parent()&&m.remove(),o.val(t),""===t&&r.prop("selected",!0)):A(t)&&r?o.val(""):l.renderUnknownOption(t)},o.on("change",function(){a.$apply(function(){m.parent()&&m.remove(),s.$setViewValue(o.val())})}))}}}}],Mr=["$interpolate",function(n){var s={addOption:ot,removeOption:ot};return{restrict:"E",priority:100,compile:function(t,e){if(A(e.value)){var o=n(t.text(),!0);o||e.$set("value",t.text())}return function(t,n,i){var e="$selectController",r=n.parent(),a=r.data(e)||r.parent().data(e);a&&a.databound?n.prop("selected",!1):a=s,o?t.$watch(o,function(t,e){i.$set("value",t),e!==t&&a.removeOption(e),a.addOption(t,n)}):a.addOption(i.value,n),n.on("$destroy",function(){a.removeOption(i.value)})}}}}],Pr=x({restrict:"E",terminal:!1});g.angular.bootstrap?console.log("WARNING: Tried to load angular more than once."):(tt||((v=g.jQuery)&&v.fn.on?(O((rt=v).fn,{scope:ae.scope,isolateScope:ae.isolateScope,controller:ae.controller,injector:ae.injector,inheritedData:ae.inheritedData}),dr=v.cleanData,v.cleanData=function(t){if(bt)bt=!1;else for(var e,n=0;null!=(e=t[n]);n++)v(e).triggerHandler("$destroy");dr(t)}):rt=Vt,b.element=rt,tt=!0),function(t){O(t,{bootstrap:Q,copy:P,extend:O,equals:gt,element:rt,forEach:at,injector:ye,noop:ot,bind:l,toJson:F,fromJson:j,identity:S,isUndefined:A,isDefined:U,isString:lt,isFunction:ct,isObject:st,isNumber:$,isElement:n,isArray:ut,version:Tt,isDate:D,lowercase:L,uppercase:u,callbacks:{counter:0},getTestability:Z,$$minErr:m,$$csp:R,reloadWithDebugInfo:X}),y=function(t){var u=m("$injector"),n=m("ng");function e(t,e,n){return t[e]||(t[e]=n())}var i=e(t,"angular",Object);return i.$$minErr=i.$$minErr||m,e(i,"module",function(){var t={};return function(o,s,l){return function(t,e){if("hasOwnProperty"===t)throw n("badname","hasOwnProperty is not a valid {0} name",e)}(o,"module"),s&&t.hasOwnProperty(o)&&(t[o]=null),e(t,o,function(){if(!s)throw u("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",o);var r=[],t=[],e=[],n=i("$injector","invoke","push",t),a={_invokeQueue:r,_configBlocks:t,_runBlocks:e,requires:s,name:o,provider:i("$provide","provider"),factory:i("$provide","factory"),service:i("$provide","service"),value:i("$provide","value"),constant:i("$provide","constant","unshift"),animation:i("$animateProvider","register"),filter:i("$filterProvider","register"),controller:i("$controllerProvider","register"),directive:i("$compileProvider","directive"),config:n,run:function(t){return e.push(t),this}};return l&&n(l),a;function i(t,e,n,i){return i||(i=r),function(){return i[n||"push"]([t,e,arguments]),a}}})}})}(g);try{y("ngLocale")}catch(t){y("ngLocale",[]).provider("$locale",Be)}y("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:kn}),t.provider("$compile",De).directive({a:hi,input:Oi,textarea:Oi,form:vi,script:Ar,select:Er,style:Pr,option:Mr,ngBind:er,ngBindHtml:ir,ngBindTemplate:nr,ngClass:ar,ngClassEven:sr,ngClassOdd:or,ngCloak:lr,ngController:ur,ngForm:yi,ngHide:wr,ngIf:pr,ngInclude:fr,ngInit:mr,ngNonBindable:vr,ngPluralize:yr,ngRepeat:br,ngShow:_r,ngStyle:Cr,ngSwitch:Sr,ngSwitchWhen:xr,ngSwitchDefault:$r,ngOptions:kr,ngTransclude:Tr,ngModel:Bi,ngList:Xi,ngChange:Yi,pattern:Gi,ngPattern:Gi,required:qi,ngRequired:qi,minlength:Qi,ngMinlength:Qi,maxlength:Ki,ngMaxlength:Ki,ngValue:Ji,ngModelOptions:tr}).directive({ngInclude:gr}).directive(di).directive(cr),t.provider({$anchorScroll:be,$animate:we,$browser:xe,$cacheFactory:$e,$controller:Pe,$document:Ne,$exceptionHandler:Ie,$filter:Vn,$interpolate:ze,$interval:Ve,$http:We,$httpBackend:Fe,$location:sn,$log:ln,$parse:Sn,$rootScope:Dn,$q:xn,$$q:$n,$sce:In,$sceDelegate:Nn,$sniffer:Ln,$templateCache:Te,$templateRequest:On,$$testability:Rn,$timeout:Hn,$window:zn,$$rAF:An,$$asyncCallback:Ce})}])}(b),rt(et).ready(function(){K(et,Q)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-animate){display:none !important;}ng\\:form{display:block;}</style>'),function(t,E,M){"use strict";var P=E.$$minErr("$resource"),s=/^(\.[a-zA-Z_$][0-9a-zA-Z_$]*)+$/;function N(t,e){if(null==(n=e)||""===n||"hasOwnProperty"===n||!s.test("."+n))throw P("badmember",'Dotted member path "@{0}" is invalid.',e);for(var n,i=e.split("."),r=0,a=i.length;r<a&&t!==M;r++){var o=i[r];t=null!==t?t[o]:M}return t}function I(t,n){for(var e in n=n||{},E.forEach(n,function(t,e){delete n[e]}),t)!t.hasOwnProperty(e)||"$"===e.charAt(0)&&"$"===e.charAt(1)||(n[e]=t[e]);return n}E.module("ngResource",["ng"]).provider("$resource",function(){var a=this;this.defaults={stripTrailingSlashes:!0,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},delete:{method:"DELETE"}}},this.$get=["$http","$q",function(S,x){var $=E.noop,T=E.forEach,A=E.extend,D=E.copy,k=E.isFunction;function l(t){return(e=t,n=!0,encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,n?"%20":"+")).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+");var e,n}function r(t,e){this.template=t,this.defaults=A({},a.defaults,e),this.urlParams={}}return r.prototype={setUrlParams:function(n,i,t){var r,a,o=this,s=t||o.template,e=o.urlParams={};T(s.split(/\W/),function(t){if("hasOwnProperty"===t)throw P("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(t)&&t&&new RegExp("(^|[^\\\\]):"+t+"(\\W|$)").test(s)&&(e[t]=!0)}),s=s.replace(/\\:/g,":"),i=i||{},T(o.urlParams,function(t,e){r=i.hasOwnProperty(e)?i[e]:o.defaults[e],s=E.isDefined(r)&&null!==r?(a=l(r),s.replace(new RegExp(":"+e+"(\\W|$)","g"),function(t,e){return a+e})):s.replace(new RegExp("(/?):"+e+"(\\W|$)","g"),function(t,e,n){return"/"==n.charAt(0)?n:e+n})}),o.defaults.stripTrailingSlashes&&(s=s.replace(/\/+$/,"")||"/"),s=s.replace(/\/\.(?=\w+($|\?))/,"."),n.url=s.replace(/\/\\\./,"/."),T(i,function(t,e){o.urlParams[e]||(n.params=n.params||{},n.params[e]=t)})}},function e(n,b,i,t){var _=new r(n,t);function w(t){return t.resource}function C(t){I(t||{},this)}return i=A({},a.defaults.actions,i),C.prototype.toJSON=function(){var t=A({},this);return delete t.$promise,delete t.$resolved,t},T(i,function(v,r){var y=/^(POST|PUT|PATCH)$/i.test(v.method);C[r]=function(t,e,n,i){var r,a,o,s={};switch(arguments.length){case 4:o=i,a=n;case 3:case 2:if(!k(e)){s=t,r=e,a=n;break}if(k(t)){a=t,o=e;break}a=e,o=n;case 1:k(t)?a=t:y?r=t:s=t;break;case 0:break;default:throw P("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var l,u,c,h=this instanceof C,d=h?r:v.isArray?[]:new C(r),p={},f=v.interceptor&&v.interceptor.response||w,g=v.interceptor&&v.interceptor.responseError||M;T(v,function(t,e){"params"!=e&&"isArray"!=e&&"interceptor"!=e&&(p[e]=D(t))}),y&&(p.data=r),_.setUrlParams(p,A({},(l=r,u=v.params||{},c={},u=A({},b,u),T(u,function(t,e){k(t)&&(t=t()),c[e]=t&&t.charAt&&"@"==t.charAt(0)?N(l,t.substr(1)):t}),c),s),v.url);var m=S(p).then(function(t){var e=t.data,n=d.$promise;if(e){if(E.isArray(e)!==!!v.isArray)throw P("badcfg","Error in resource configuration. Expected response to contain an {0} but got an {1}",v.isArray?"array":"object",E.isArray(e)?"array":"object");v.isArray?(d.length=0,T(e,function(t){"object"==typeof t?d.push(new C(t)):d.push(t)})):(I(e,d),d.$promise=n)}return d.$resolved=!0,t.resource=d,t},function(t){return d.$resolved=!0,(o||$)(t),x.reject(t)});return m=m.then(function(t){var e=f(t);return(a||$)(e,t.headers),e},g),h?m:(d.$promise=m,d.$resolved=!1,d)},C.prototype["$"+r]=function(t,e,n){k(t)&&(n=e,e=t,t={});var i=C[r].call(this,t,this,e,n);return i.$promise||i}}),C.bind=function(t){return e(n,A({},b,t),i)},C}}]})}(window,window.angular),function(t,m,e){"use strict";var n=m.module("ngRoute",["ng"]).provider("$route",function(){function f(t,e){return m.extend(new(m.extend(function(){},{prototype:t})),e)}var g={};function i(t,e){var n=e.caseInsensitiveMatch,i={originalPath:t,regexp:t},o=i.keys=[];return t=t.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(t,e,n,i){var r="?"===i?i:null,a="*"===i?i:null;return o.push({name:n,optional:!!r}),e=e||"",(r?"":e)+"(?:"+(r?e:"")+(a?"(.+?)":"([^/]+)")+(r||"")+")"+(r||"")}).replace(/([\/$\*])/g,"\\$1"),i.regexp=new RegExp("^"+t+"$",n?"i":""),i}this.when=function(t,e){if(g[t]=m.extend({reloadOnSearch:!0},e,t&&i(t,e)),t){var n="/"==t[t.length-1]?t.substr(0,t.length-1):t+"/";g[n]=m.extend({redirectTo:t},i(n,e))}return this},this.otherwise=function(t){return"string"==typeof t&&(t={redirectTo:t}),this.when(null,t),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(a,o,s,l,u,c,h){var t=!1,d={routes:g,reload:function(){t=!0,a.$evalAsync(e)},updateParams:function(e){if(!this.current||!this.current.$$route)throw r("norout","Tried updating route when with no current route");var n={},i=this;m.forEach(Object.keys(e),function(t){i.current.pathParams[t]||(n[t]=e[t])}),e=m.extend({},this.current.params,e),o.path(p(this.current.$$route.originalPath,e)),o.search(m.extend({},o.search(),n))}};return a.$on("$locationChangeSuccess",e),d;function e(){var n,i,r=(m.forEach(g,function(t,e){!i&&(n=function(t,e){var n=e.keys,i={};if(!e.regexp)return null;var r=e.regexp.exec(t);if(!r)return null;for(var a=1,o=r.length;a<o;++a){var s=n[a-1],l=r[a];s&&l&&(i[s.name]=l)}return i}(o.path(),t))&&((i=f(t,{params:m.extend({},o.search(),n),pathParams:n})).$$route=t)}),i||g.null&&f(g.null,{params:{},pathParams:{}})),e=d.current;r&&e&&r.$$route===e.$$route&&m.equals(r.pathParams,e.pathParams)&&!r.reloadOnSearch&&!t?(e.params=r.params,m.copy(e.params,s),a.$broadcast("$routeUpdate",e)):(r||e)&&(t=!1,a.$broadcast("$routeChangeStart",r,e),(d.current=r)&&r.redirectTo&&(m.isString(r.redirectTo)?o.path(p(r.redirectTo,r.params)).search(r.params).replace():o.url(r.redirectTo(r.pathParams,o.path(),o.search())).replace()),l.when(r).then(function(){if(r){var t,e,n=m.extend({},r.resolve);return m.forEach(n,function(t,e){n[e]=m.isString(t)?u.get(t):u.invoke(t,null,null,e)}),m.isDefined(t=r.template)?m.isFunction(t)&&(t=t(r.params)):m.isDefined(e=r.templateUrl)&&(m.isFunction(e)&&(e=e(r.params)),e=h.getTrustedResourceUrl(e),m.isDefined(e)&&(r.loadedTemplateUrl=e,t=c(e))),m.isDefined(t)&&(n.$template=t),l.all(n)}}).then(function(t){r==d.current&&(r&&(r.locals=t,m.copy(r.params,s)),a.$broadcast("$routeChangeSuccess",r,e))},function(t){r==d.current&&a.$broadcast("$routeChangeError",r,e,t)}))}function p(t,r){var a=[];return m.forEach((t||"").split(":"),function(t,e){if(0===e)a.push(t);else{var n=t.match(/(\w+)(.*)/),i=n[1];a.push(r[i]),a.push(n[2]||""),delete r[i]}}),a.join("")}}]}),r=m.$$minErr("ngRoute");function i(p,f,g){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(a,o,t,e,s){var l,u,n,c=t.autoscroll,h=t.onload||"";function d(){n&&(n.remove(),n=null),l&&(l.$destroy(),l=null),u&&(g.leave(u).then(function(){n=null}),n=u,u=null)}function i(){var t=p.current&&p.current.locals,e=t&&t.$template;if(m.isDefined(e)){var n=a.$new(),i=p.current,r=s(n,function(t){g.enter(t,null,u||o).then(function(){!m.isDefined(c)||c&&!a.$eval(c)||f()}),d()});u=r,(l=i.scope=n).$emit("$viewContentLoaded"),l.$eval(h)}else d()}a.$on("$routeChangeSuccess",i),i()}}}function a(o,s,l){return{restrict:"ECA",priority:-400,link:function(t,e){var n=l.current,i=n.locals;e.html(i.$template);var r=o(e.contents());if(n.controller){i.$scope=t;var a=s(n.controller,i);n.controllerAs&&(t[n.controllerAs]=a),e.data("$ngControllerController",a),e.children().data("$ngControllerController",a)}r(t)}}}n.provider("$routeParams",function(){this.$get=function(){return{}}}),n.directive("ngView",i),n.directive("ngView",a),i.$inject=["$route","$anchorScroll","$animate"],a.$inject=["$compile","$controller","$route"]}(window,window.angular),function(t,d,e){"use strict";var c=d.$$minErr("$sanitize");var h=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,p=/^<\/\s*([\w:-]+)[^>]*>/,f=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,g=/^</,m=/^<\//,v=/<!--(.*?)-->/g,y=/<!DOCTYPE([^>]*?)>/i,b=/<!\[CDATA\[(.*?)]]>/g,n=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,i=/([^\#-~| |!])/g,_=o("area,br,col,hr,img,wbr"),r=o("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),a=o("rp,rt"),w=d.extend({},a,r),C=d.extend({},r,o("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),S=d.extend({},a,o("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),x=o("script,style"),s=d.extend({},_,C,S,w),l=o("background,cite,href,longdesc,src,usemap"),u=d.extend({},l,o("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"));function o(t){var e,n={},i=t.split(",");for(e=0;e<i.length;e++)n[i[e]]=!0;return n}var $=document.createElement("pre"),T=/^(\s*)([\s\S]*?)(\s*)$/;function A(t){if(!t)return"";var e=T.exec(t),n=e[1],i=e[3],r=e[2];return r&&($.innerHTML=r.replace(/</g,"&lt;"),r="textContent"in $?$.textContent:$.innerText),n+r+i}function D(t){return t.replace(/&/g,"&amp;").replace(n,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(i,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function k(t,a){var n=!1,o=d.bind(t,t.push);return{start:function(r,t,e){r=d.lowercase(r),!n&&x[r]&&(n=r),n||!0!==s[r]||(o("<"),o(r),d.forEach(t,function(t,e){var n=d.lowercase(e),i="img"===r&&"src"===n||"background"===n;!0!==u[n]||!0===l[n]&&!a(t,i)||(o(" "),o(e),o('="'),o(D(t)),o('"'))}),o(e?"/>":">"))},end:function(t){t=d.lowercase(t),n||!0!==s[t]||(o("</"),o(t),o(">")),t==n&&(n=!1)},chars:function(t){n||o(D(t))}}}d.module("ngSanitize",[]).provider("$sanitize",function(){this.$get=["$$sanitizeUri",function(n){return function(t){var e=[];return function(t,r){"string"!=typeof t&&(t=null==t?"":""+t);var e,n,i,a,s=[],o=t;for(s.last=function(){return s[s.length-1]};t;){if(n=!(a=""),s.last()&&x[s.last()]?(t=t.replace(new RegExp("(.*)<\\s*\\/\\s*"+s.last()+"[^>]*>","i"),function(t,e){return e=e.replace(v,"$1").replace(b,"$1"),r.chars&&r.chars(A(e)),""}),u("",s.last())):(0===t.indexOf("\x3c!--")?0<=(e=t.indexOf("--",4))&&t.lastIndexOf("--\x3e",e)===e&&(r.comment&&r.comment(t.substring(4,e)),t=t.substring(e+3),n=!1):y.test(t)?(i=t.match(y))&&(t=t.replace(i[0],""),n=!1):m.test(t)?(i=t.match(p))&&(t=t.substring(i[0].length),i[0].replace(p,u),n=!1):g.test(t)&&((i=t.match(h))?(i[4]&&(t=t.substring(i[0].length),i[0].replace(h,l)),n=!1):(a+="<",t=t.substring(1))),n&&(e=t.indexOf("<"),a+=e<0?t:t.substring(0,e),t=e<0?"":t.substring(e),r.chars&&r.chars(A(a)))),t==o)throw c("badparse","The sanitizer was unable to parse the following block of html: {0}",t);o=t}function l(t,e,n,i){if(e=d.lowercase(e),C[e])for(;s.last()&&S[s.last()];)u("",s.last());w[e]&&s.last()==e&&u("",e),(i=_[e]||!!i)||s.push(e);var o={};n.replace(f,function(t,e,n,i,r){var a=n||i||r||"";o[e]=A(a)}),r.start&&r.start(e,o,i)}function u(t,e){var n,i=0;if(e=d.lowercase(e))for(i=s.length-1;0<=i&&s[i]!=e;i--);if(0<=i){for(n=s.length-1;i<=n;n--)r.end&&r.end(s[n]);s.length=i}}u()}(t,k(e,function(t,e){return!/^unsafe/.test(n(t,e))})),e.join("")}}]}),d.module("ngSanitize").filter("linky",["$sanitize",function(u){var c=/((ftp|https?):\/\/|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"]/,h=/^mailto:/;return function(t,n){if(!t)return t;for(var e,i,r,a=t,o=[];e=a.match(c);)i=e[0],e[2]==e[3]&&(i="mailto:"+i),r=e.index,s(a.substr(0,r)),l(i,e[0].replace(h,"")),a=a.substring(r+e[0].length);return s(a),u(o.join(""));function s(t){var e,n;t&&o.push((e=t,k(n=[],d.noop).chars(e),n.join("")))}function l(t,e){o.push("<a "),d.isDefined(n)&&(o.push('target="'),o.push(n),o.push('" ')),o.push('href="'),o.push(t),o.push('">'),s(e),o.push("</a>")}}}])}(window,window.angular),function(e,V,B){"use strict";V.module("ngAnimate",["ng"]).directive("ngAnimateChildren",function(){var r="$$ngAnimateChildren";return function(t,e,n){var i=n.ngAnimateChildren;V.isString(i)&&0===i.length?e.data(r,!0):t.$watch(i,function(t){e.data(r,!!t)})}}).factory("$$animateReflow",["$$rAF","$document",function(e,t){var n=t[0].body;return function(t){return e(function(){n.offsetWidth;t()})}}]).config(["$provide","$animateProvider",function(t,h){var W=V.noop,U=V.forEach,w=h.$$selectors,F=V.isArray,j=1,E="$$ngAnimateState",M="ng-animate",P={running:!0};function z(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType==j)return n}}function d(t){return t&&V.element(t)}function p(t){return V.element(z(t))}function N(t,e){return z(t)==z(e)}t.decorator("$animate",["$delegate","$$q","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document","$templateRequest",function(o,i,y,b,$,T,r,t,e){$.data(E,P);var n=r.$watch(function(){return e.totalPendingRequests},function(t,e){0===t&&(n(),r.$$postDigest(function(){r.$$postDigest(function(){P.running=!1})}))}),A=0,a=h.classNameFilter(),_=a?function(t){return a.test(t)}:function(){return!0};function s(t,e){var n=t.data(E)||{};return e&&(n.running=!0,n.structural=!0,t.data(E,n)),n.disabled||n.running&&n.structural}function l(t){var e,n=i.defer();return n.promise.$$cancelFn=function(){e&&e()},r.$$postDigest(function(){e=t(function(){n.resolve()})}),n.promise}function D(s,e,l){var t=s[0];if(t){var u,c;F(l)&&(u=l[0],c=l[1],u?c?l=u+" "+c:(l=u,e="addClass"):(l=c,e="removeClass"));var n="setClass"==e,i=n||"addClass"==e||"removeClass"==e,r=s.attr("class")+" "+l;if(_(r)){var a=W,o=[],h=[],d=W,p=[],f=[],g=(" "+r).replace(/\s+/g,".");return U(function(t){if(t){var e=[],n={},i=t.substr(1).split(".");(b.transitions||b.animations)&&e.push(y.get(w[""]));for(var r=0;r<i.length;r++){var a=i[r],o=w[a];o&&!n[a]&&(e.push(y.get(o)),n[a]=!0)}return e}}(g),function(t){!m(t,e)&&n&&(m(t,"addClass"),m(t,"removeClass"))}),{node:t,event:e,className:l,isClassBased:i,isSetClassOperation:n,before:function(t){a=t,v(h,o,function(){a=W,t()})},after:function(t){d=t,v(f,p,function(){d=W,t()})},cancel:function(){U(o,function(t){(t||W)(!0)}),a(!0),U(p,function(t){(t||W)(!0)}),d(!0)}}}}function m(t,e){var n=t[e],i=t["before"+e.charAt(0).toUpperCase()+e.substr(1)];if(n||i)return"leave"==e&&(i=n,n=null),f.push({event:e,fn:n}),h.push({event:e,fn:i}),!0}function v(t,i,r){var a=[];U(t,function(t){t.fn&&a.push(t)});var o=0;U(a,function(t,e){var n=function(){!function(t){if(i){if((i[t]||W)(),++o<a.length)return;i=null}r()}(e)};switch(t.event){case"setClass":i.push(t.fn(s,u,c,n));break;case"addClass":i.push(t.fn(s,u||l,n));break;case"removeClass":i.push(t.fn(s,c||l,n));break;default:i.push(t.fn(s,n))}}),i&&0===i.length&&r()}}return{enter:function(e,n,i){return e=V.element(e),n=d(n),i=d(i),s(e,!0),o.enter(e,n,i),l(function(t){return u("enter","ng-enter",p(e),n,i,W,t)})},leave:function(e){return c(e=V.element(e)),s(e,!0),this.enabled(!1,e),l(function(t){return u("leave","ng-leave",p(e),null,null,function(){o.leave(e)},t)})},move:function(e,n,i){return e=V.element(e),n=d(n),i=d(i),c(e),s(e,!0),o.move(e,n,i),l(function(t){return u("move","ng-move",p(e),n,i,W,t)})},addClass:function(t,e){return this.setClass(t,e,[])},removeClass:function(t,e){return this.setClass(t,[],e)},setClass:function(r,t,e){var a="$$animateClasses";if(s(r=p(r=V.element(r))))return o.setClass(r,t,e);t=F(t)?t:t.split(" "),e=F(e)?e:e.split(" ");var n=r.data(a);return n?(n.add=n.add.concat(t),n.remove=n.remove.concat(e),n.promise):(r.data(a,n={add:t,remove:e}),n.promise=l(function(t){var e=r.data(a);r.removeData(a);var n=r.data(E)||{},i=function(r,t,e){e=e||{};var n={};U(t.add,function(t){t&&t.length&&(n[t]=n[t]||0,n[t]++)}),U(t.remove,function(t){t&&t.length&&(n[t]=n[t]||0,n[t]--)});var a=[];U(e,function(e,t){U(t.split(" "),function(t){a[t]=e})});var o=[],s=[];return U(n,function(t,e){var n=r.hasClass(e),i=a[e]||{};t<0?(n||"addClass"==i.event)&&s.push(e):0<t&&(n&&"removeClass"!=i.event||o.push(e))}),0<o.length+s.length&&[o.join(" "),s.join(" ")]}(r,e,n.active);return i?u("setClass",i,r,null,null,function(){o.setClass(r,i[0],i[1])},t):t()}))},cancel:function(t){t.$$cancelFn()},enabled:function(t,e){switch(arguments.length){case 2:if(t)k(e);else{var n=e.data(E)||{};n.disabled=!0,e.data(E,n)}break;case 1:P.disabled=!t;break;default:t=!P.disabled}return!!t}};function u(n,i,r,t,e,a,o){var s=W,l=D(r,n,i);if(!l)return S(),_(),w(),x(),s;n=l.event,i=l.className;var u=V.element._data(l.node);if(u=u&&u.events,t||(t=e?e.parent():r.parent()),function(t,e){if(P.disabled)return!0;if(N(t,$))return P.running;var n,i,r;do{if(0===e.length)break;var a=N(e,$),o=a?P:e.data(E)||{};if(o.disabled)return!0;if(a&&(r=!0),!1!==n){var s=e.data("$$ngAnimateChildren");V.isDefined(s)&&(n=s)}i=i||o.running||o.last&&!o.last.isClassBased}while(e=e.parent());return!r||!n&&i}(r,t))return S(),_(),w(),x(),s;var c=r.data(E)||{},h=c.active||{},d=c.totalActive||0,p=c.last,f=!1;if(0<d){var g=[];if(l.isClassBased){if("setClass"==p.event)g.push(p),k(r,i);else if(h[i]){var m=h[i];m.event==n?f=!0:(g.push(m),k(r,i))}}else if("leave"==n&&h["ng-leave"])f=!0;else{for(var v in h)g.push(h[v]);c={},k(r,!0)}0<g.length&&U(g,function(t){t.cancel()})}if(!l.isClassBased||l.isSetClassOperation||f||(f="addClass"==n==r.hasClass(i)),f)return S(),_(),w(),C(),s;h=c.active||{},d=c.totalActive||0,"leave"==n&&r.one("$destroy",function(t){var e=V.element(this),n=e.data(E);if(n){var i=n.active["ng-leave"];i&&(i.cancel(),k(e,"ng-leave"))}}),r.addClass(M);var y=A++;return d++,h[i]=l,r.data(E,{last:l,active:h,index:y,totalActive:d}),_(),l.before(function(t){var e=r.data(E);t=t||!e||!e.active[i]||l.isClassBased&&e.active[i].event!=n,S(),!0===t?x():(w(),l.after(x))}),l.cancel;function b(t){var e="$animate:"+t;u&&u[e]&&0<u[e].length&&T(function(){r.triggerHandler(e,{event:n,className:i})})}function _(){b("before")}function w(){b("after")}function C(){b("close"),o()}function S(){S.hasBeenRun||(S.hasBeenRun=!0,a())}function x(){if(!x.hasBeenRun){x.hasBeenRun=!0;var t=r.data(E);t&&(l&&l.isClassBased?k(r,i):(T(function(){var t=r.data(E)||{};y==t.index&&k(r,i)}),r.data(E,t))),C()}}}function c(t){var e=z(t);if(e){var n=V.isFunction(e.getElementsByClassName)?e.getElementsByClassName(M):e.querySelectorAll("."+M);U(n,function(t){var e=(t=V.element(t)).data(E);e&&e.active&&U(e.active,function(t){t.cancel()})})}}function k(t,e){if(N(t,$))P.disabled||(P.running=!1,P.structural=!1);else if(e){var n=t.data(E)||{},i=!0===e;!i&&n.active&&n.active[e]&&(n.totalActive--,delete n.active[e]),!i&&n.totalActive||(t.removeClass(M),t.removeData(E))}}}]),h.register("",["$window","$sniffer","$timeout","$$animateReflow",function(u,t,T,n){var c,A,h,D,k="";A=e.ontransitionend===B&&e.onwebkittransitionend!==B?(k="-webkit-",c="WebkitTransition","webkitTransitionEnd transitionend"):(c="transition","transitionend"),D=e.onanimationend===B&&e.onwebkitanimationend!==B?(k="-webkit-",h="WebkitAnimation","webkitAnimationEnd animationend"):(h="animation","animationend");var i,d="Duration",r="Property",p="Delay",f="IterationCount",a="PlayState",C="$$ngAnimateKey",E="$$ngAnimateCSS3Data",M=3,P=1.5,N=1e3,S={},x=0,o=[];function s(t,e){i&&i(),o.push(e),i=n(function(){U(o,function(t){t()}),o=[],i=null,S={}})}var l=null,g=0,m=[];function I(t,e){var n=z(t);t=V.element(n),m.push(t);var i=Date.now()+e;i<=g||(T.cancel(l),g=i,l=T(function(){U(m,function(t){var e=t.data(E);e&&U(e.closeAnimationFns,function(t){t()})}),m=[]},e,!1))}function L(t,e){var n=e?S[e]:null;if(!n){var a=0,o=0,s=0,l=0;U(t,function(t){if(t.nodeType==j){var e=u.getComputedStyle(t)||{},n=e[c+d];a=Math.max(v(n),a);var i=e[c+p];o=Math.max(v(i),o);e[h+p];l=Math.max(v(e[h+p]),l);var r=v(e[h+d]);0<r&&(r*=parseInt(e[h+f],10)||1),s=Math.max(r,s)}}),n={total:0,transitionDelay:o,transitionDuration:a,animationDelay:l,animationDuration:s},e&&(S[e]=n)}return n}function v(t){var e=0,n=V.isString(t)?t.split(/\s*,\s*/):[];return U(n,function(t){e=Math.max(parseFloat(t)||0,e)}),e}function y(t,e,n){var i,r,a,o=0<=["ng-enter","ng-leave","ng-move"].indexOf(n),s=(r=(i=e).parent(),(a=r.data(C))||(r.data(C,++x),a=x),a+"-"+z(i).getAttribute("class")),l=s+" "+n,u=S[l]?++S[l].total:0,c={};if(0<u){var h=n+"-stagger",d=s+" "+h,p=!S[d];p&&e.addClass(h),c=L(e,d),p&&e.removeClass(h)}e.addClass(n);var f=e.data(E)||{},g=L(e,l),m=g.transitionDuration,v=g.animationDuration;if(o&&0===m&&0===v)return e.removeClass(n),!1;var y=o&&0<m,b=0<v&&0<c.animationDelay&&0===c.animationDuration,_=f.closeAnimationFns||[];e.data(E,{stagger:c,cacheKey:l,running:f.running||0,itemIndex:u,blockTransition:y,closeAnimationFns:_});var w=z(e);return y&&O(w,!0),b&&R(w,!0),!0}function O(t,e){t.style[c+r]=e?"none":""}function R(t,e){t.style[h+a]=e?"paused":""}function b(t,e,n,i){if(y(0,e,n))return function(t){t&&H(e,n)}}function _(t,e,n,i){if(e.data(E))return function(t,i,r,a){var e=z(i),n=i.data(E);if(-1!=e.getAttribute("class").indexOf(r)&&n){n.blockTransition&&O(e,!1);var o="",s="";U(r.split(" "),function(t,e){var n=(0<e?" ":"")+t;o+=n+"-active",s+=n+"-pending"});var l=[],u=n.itemIndex,c=n.stagger,h=0;if(0<u){var d=0;0<c.transitionDelay&&0===c.transitionDuration&&(d=c.transitionDelay*u);var p=0;0<c.animationDelay&&0===c.animationDuration&&(p=c.animationDelay*u,l.push(k+"animation-play-state")),h=Math.round(100*Math.max(d,p))/100}h||i.addClass(o);var f=n.cacheKey+" "+o,g=L(i,f),m=Math.max(g.transitionDuration,g.animationDuration);if(0===m)return i.removeClass(o),H(i,r),void a();var v=Math.max(g.transitionDelay,g.animationDelay),y=v*N;if(0<l.length){var b=e.getAttribute("style")||"";";"!==b.charAt(b.length-1)&&(b+=";"),e.setAttribute("style",b+" ")}var _,w=Date.now(),C=D+" "+A,S=(h+(v+m)*P)*N;return 0<h&&(i.addClass(s),_=T(function(){_=null,i.addClass(o),i.removeClass(s),0<g.animationDuration&&R(e,!1)},h*N,!1)),i.on(C,$),n.closeAnimationFns.push(function(){x(),a()}),n.running++,I(i,S),x}function x(t){i.off(C,$),i.removeClass(o),i.removeClass(s),_&&T.cancel(_),H(i,r);var e=z(i);for(var n in l)e.style.removeProperty(l[n])}function $(t){t.stopPropagation();var e=t.originalEvent||t,n=e.$manualTimeStamp||e.timeStamp||Date.now(),i=parseFloat(e.elapsedTime.toFixed(M));Math.max(n-w,0)>=y&&m<=i&&a()}a()}(0,e,n,i);H(e,n),i()}function w(t,e,n,i){var r=b(0,e,n);if(r){var a=r;return s(0,function(){a=_(0,e,n,i)}),function(t){(a||W)(t)}}i()}function H(t,e){t.removeClass(e);var n=t.data(E);n&&(n.running&&n.running--,n.running&&0!==n.running||t.removeData(E))}return{enter:function(t,e){return w(0,t,"ng-enter",e)},leave:function(t,e){return w(0,t,"ng-leave",e)},move:function(t,e){return w(0,t,"ng-move",e)},beforeSetClass:function(t,e,n,i){var r=b(0,t,$(n,"-remove")+" "+$(e,"-add"));if(r)return s(0,i),r;i()},beforeAddClass:function(t,e,n){var i=b(0,t,$(e,"-add"));if(i)return s(0,n),i;n()},beforeRemoveClass:function(t,e,n){var i=b(0,t,$(e,"-remove"));if(i)return s(0,n),i;n()},setClass:function(t,e,n,i){return _(0,t,(n=$(n,"-remove"))+" "+(e=$(e,"-add")),i)},addClass:function(t,e,n){return _(0,t,$(e,"-add"),n)},removeClass:function(t,e,n){return _(0,t,$(e,"-remove"),n)}};function $(t,n){var i="";return t=F(t)?t:t.split(/\s+/),U(t,function(t,e){t&&0<t.length&&(i+=(0<e?" ":"")+t+n)}),i}}])}])}(window,window.angular),function(t){if(!t||!(t.toJSON||Object.toJSON||window.JSON))throw new Error("jQuery, MooTools or Prototype needs to be loaded before jStorage!");var a,o={},n={jStorage:"{}"},i=null,e=0,r=t.toJSON||Object.toJSON||window.JSON&&(JSON.encode||JSON.stringify),s=t.evalJSON||window.JSON&&(JSON.decode||JSON.parse)||function(t){return String(t).evalJSON()},l=!1,u={isXML:function(t){var e=(t?t.ownerDocument||t:0).documentElement;return!!e&&"HTML"!==e.nodeName},encode:function(e){if(!this.isXML(e))return!1;try{return(new XMLSerializer).serializeToString(e)}catch(t){try{return e.xml}catch(t){}}return!1},decode:function(t){var e,n="DOMParser"in window&&(new DOMParser).parseFromString||window.ActiveXObject&&function(t){var e=new ActiveXObject("Microsoft.XMLDOM");return e.async="false",e.loadXML(t),e};return!!n&&(e=n.call("DOMParser"in window&&new DOMParser||window,t,"text/xml"),!!this.isXML(e)&&e)}};function c(){if(n.jStorage)try{o=s(String(n.jStorage))}catch(t){n.jStorage="{}"}else n.jStorage="{}";e=n.jStorage?String(n.jStorage).length:0}function h(){try{n.jStorage=r(o),i&&(i.setAttribute("jStorage",n.jStorage),i.save("jStorage")),e=n.jStorage?String(n.jStorage).length:0}catch(t){}}function d(t){if(!t||"string"!=typeof t&&"number"!=typeof t)throw new TypeError("Key name must be string or numeric");if("__jstorage_meta"==t)throw new TypeError("Reserved key name");return!0}function p(){var t,e,n,i=1/0,r=!1;if(clearTimeout(a),o.__jstorage_meta&&"object"==typeof o.__jstorage_meta.TTL){for(e in t=+new Date,n=o.__jstorage_meta.TTL)n.hasOwnProperty(e)&&(n[e]<=t?(delete n[e],delete o[e],r=!0):n[e]<i&&(i=n[e]));i!=1/0&&(a=setTimeout(p,i-t)),r&&h()}}t.jStorage={version:"0.1.7.0",set:function(t,e,n){return d(t),n=n||{},u.isXML(e)?e={_is_xml:!0,xml:u.encode(e)}:"function"==typeof e?e=null:e&&"object"==typeof e&&(e=s(r(e))),o[t]=e,isNaN(n.TTL)?h():this.setTTL(t,n.TTL),e},get:function(t,e){return d(t),t in o?o[t]&&"object"==typeof o[t]&&o[t]._is_xml&&o[t]._is_xml?u.decode(o[t].xml):o[t]:void 0===e?null:e},deleteKey:function(t){return d(t),t in o&&(delete o[t],o.__jstorage_meta&&"object"==typeof o.__jstorage_meta.TTL&&t in o.__jstorage_meta.TTL&&delete o.__jstorage_meta.TTL[t],h(),!0)},setTTL:function(t,e){var n=+new Date;return d(t),e=Number(e)||0,t in o&&(o.__jstorage_meta||(o.__jstorage_meta={}),o.__jstorage_meta.TTL||(o.__jstorage_meta.TTL={}),0<e?o.__jstorage_meta.TTL[t]=n+e:delete o.__jstorage_meta.TTL[t],h(),p(),!0)},flush:function(){return o={},h(),!0},storageObj:function(){function t(){}return t.prototype=o,new t},index:function(){var t,e=[];for(t in o)o.hasOwnProperty(t)&&"__jstorage_meta"!=t&&e.push(t);return e},storageSize:function(){return e},currentBackend:function(){return l},storageAvailable:function(){return!!l},reInit:function(){var t,e;if(i&&i.addBehavior){t=document.createElement("link"),i.parentNode.replaceChild(t,i),(i=t).style.behavior="url(#default#userData)",document.getElementsByTagName("head")[0].appendChild(i),i.load("jStorage"),e="{}";try{e=i.getAttribute("jStorage")}catch(t){}n.jStorage=e,l="userDataBehavior"}c()}},function(){var t=!1;if("localStorage"in window)try{window.localStorage.setItem("_tmptest","tmpval"),t=!0,window.localStorage.removeItem("_tmptest")}catch(t){}if(t)try{window.localStorage&&(n=window.localStorage,l="localStorage")}catch(t){}else if("globalStorage"in window)try{window.globalStorage&&(n=window.globalStorage[window.location.hostname],l="globalStorage")}catch(t){}else{if(!(i=document.createElement("link")).addBehavior)return i=null;i.style.behavior="url(#default#userData)",document.getElementsByTagName("head")[0].appendChild(i),i.load("jStorage");var e="{}";try{e=i.getAttribute("jStorage")}catch(t){}n.jStorage=e,l="userDataBehavior"}c(),p()}()}(window.$||window.jQuery),function(s,t){var e,n,i=0,r=/^ui-id-\d+$/;(s.ui=s.ui||{},s.ui.version)||(s.extend(s.ui,{version:"1.9.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),s.fn.extend({_focus:s.fn.focus,focus:function(e,n){return"number"==typeof e?this.each(function(){var t=this;setTimeout(function(){s(t).focus(),n&&n.call(t)},e)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return t=s.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(s.css(this,"position"))&&/(auto|scroll)/.test(s.css(this,"overflow")+s.css(this,"overflow-y")+s.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(s.css(this,"overflow")+s.css(this,"overflow-y")+s.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?s(document):t},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var e,n,i=s(this[0]);i.length&&i[0]!==document;){if(("absolute"===(e=i.css("position"))||"relative"===e||"fixed"===e)&&(n=parseInt(i.css("zIndex"),10),!isNaN(n)&&0!==n))return n;i=i.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++i)})},removeUniqueId:function(){return this.each(function(){r.test(this.id)&&s(this).removeAttr("id")})}}),s.extend(s.expr[":"],{data:s.expr.createPseudo?s.expr.createPseudo(function(e){return function(t){return!!s.data(t,e)}}):function(t,e,n){return!!s.data(t,n[3])},focusable:function(t){return a(t,!isNaN(s.attr(t,"tabindex")))},tabbable:function(t){var e=s.attr(t,"tabindex"),n=isNaN(e);return(n||0<=e)&&a(t,!n)}}),s(function(){var t=document.body,e=t.appendChild(e=document.createElement("div"));e.offsetHeight,s.extend(e.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),s.support.minHeight=100===e.offsetHeight,s.support.selectstart="onselectstart"in e,t.removeChild(e).style.display="none"}),s("<a>").outerWidth(1).jquery||s.each(["Width","Height"],function(t,n){var r="Width"===n?["Left","Right"]:["Top","Bottom"],i=n.toLowerCase(),a={innerWidth:s.fn.innerWidth,innerHeight:s.fn.innerHeight,outerWidth:s.fn.outerWidth,outerHeight:s.fn.outerHeight};function o(t,e,n,i){return s.each(r,function(){e-=parseFloat(s.css(t,"padding"+this))||0,n&&(e-=parseFloat(s.css(t,"border"+this+"Width"))||0),i&&(e-=parseFloat(s.css(t,"margin"+this))||0)}),e}s.fn["inner"+n]=function(t){return void 0===t?a["inner"+n].call(this):this.each(function(){s(this).css(i,o(this,t)+"px")})},s.fn["outer"+n]=function(t,e){return"number"!=typeof t?a["outer"+n].call(this,t):this.each(function(){s(this).css(i,o(this,t,!0,e)+"px")})}}),s("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(s.fn.removeData=(e=s.fn.removeData,function(t){return arguments.length?e.call(this,s.camelCase(t)):e.call(this)})),n=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[],s.ui.ie=!!n.length,s.ui.ie6=6===parseFloat(n[1],10),s.fn.extend({disableSelection:function(){return this.bind((s.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),s.extend(s.ui,{plugin:{add:function(t,e,n){var i,r=s.ui[t].prototype;for(i in n)r.plugins[i]=r.plugins[i]||[],r.plugins[i].push([e,n[i]])},call:function(t,e,n){var i,r=t.plugins[e];if(r&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(i=0;i<r.length;i++)t.options[r[i][0]]&&r[i][1].apply(t.element,n)}},contains:s.contains,hasScroll:function(t,e){if("hidden"===s(t).css("overflow"))return!1;var n,i=e&&"left"===e?"scrollLeft":"scrollTop";return 0<t[i]||(t[i]=1,n=0<t[i],t[i]=0,n)},isOverAxis:function(t,e,n){return e<t&&t<e+n},isOver:function(t,e,n,i,r,a){return s.ui.isOverAxis(t,n,r)&&s.ui.isOverAxis(e,i,a)}}));function a(t,e){var n,i,r,a=t.nodeName.toLowerCase();return"area"===a?(i=(n=t.parentNode).name,!(!t.href||!i||"map"!==n.nodeName.toLowerCase())&&(!!(r=s("img[usemap=#"+i+"]")[0])&&o(r))):(/input|select|textarea|button|object/.test(a)?!t.disabled:"a"===a&&t.href||e)&&o(t)}function o(t){return s.expr.filters.visible(t)&&!s(t).parents().andSelf().filter(function(){return"hidden"===s.css(this,"visibility")}).length}}(jQuery),function(c,s){var n=0,l=Array.prototype.slice,i=c.cleanData;c.cleanData=function(t){for(var e,n=0;null!=(e=t[n]);n++)try{c(e).triggerHandler("remove")}catch(t){}i(t)},c.widget=function(t,n,o){var e,i,r,a,s=t.split(".")[0];t=t.split(".")[1],e=s+"-"+t,o||(o=n,n=c.Widget),c.expr[":"][e.toLowerCase()]=function(t){return!!c.data(t,e)},c[s]=c[s]||{},i=c[s][t],r=c[s][t]=function(t,e){if(!this._createWidget)return new r(t,e);arguments.length&&this._createWidget(t,e)},c.extend(r,i,{version:o.version,_proto:c.extend({},o),_childConstructors:[]}),(a=new n).options=c.widget.extend({},a.options),c.each(o,function(e,i){var r,a;c.isFunction(i)&&(o[e]=(r=function(){return n.prototype[e].apply(this,arguments)},a=function(t){return n.prototype[e].apply(this,t)},function(){var t,e=this._super,n=this._superApply;return this._super=r,this._superApply=a,t=i.apply(this,arguments),this._super=e,this._superApply=n,t}))}),r.prototype=c.widget.extend(a,{widgetEventPrefix:i?a.widgetEventPrefix:t},o,{constructor:r,namespace:s,widgetName:t,widgetBaseClass:e,widgetFullName:e}),i?(c.each(i._childConstructors,function(t,e){var n=e.prototype;c.widget(n.namespace+"."+n.widgetName,r,e._proto)}),delete i._childConstructors):n._childConstructors.push(r),c.widget.bridge(t,r)},c.widget.extend=function(t){for(var e,n,i=l.call(arguments,1),r=0,a=i.length;r<a;r++)for(e in i[r])n=i[r][e],i[r].hasOwnProperty(e)&&n!==s&&(c.isPlainObject(n)?t[e]=c.isPlainObject(t[e])?c.widget.extend({},t[e],n):c.widget.extend({},n):t[e]=n);return t},c.widget.bridge=function(a,e){var o=e.prototype.widgetFullName||a;c.fn[a]=function(n){var t="string"==typeof n,i=l.call(arguments,1),r=this;return n=!t&&i.length?c.widget.extend.apply(null,[n].concat(i)):n,t?this.each(function(){var t,e=c.data(this,o);return e?c.isFunction(e[n])&&"_"!==n.charAt(0)?(t=e[n].apply(e,i))!==e&&t!==s?(r=t&&t.jquery?r.pushStack(t.get()):t,!1):void 0:c.error("no such method '"+n+"' for "+a+" widget instance"):c.error("cannot call methods on "+a+" prior to initialization; attempted to call method '"+n+"'")}):this.each(function(){var t=c.data(this,o);t?t.option(n||{})._init():c.data(this,o,new e(n,this))}),r}},c.Widget=function(){},c.Widget._childConstructors=[],c.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,e){e=c(e||this.defaultElement||this)[0],this.element=c(e),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=c.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=c(),this.hoverable=c(),this.focusable=c(),e!==this&&(c.data(e,this.widgetName,this),c.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===e&&this.destroy()}}),this.document=c(e.style?e.ownerDocument:e.document||e),this.window=c(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:c.noop,_getCreateEventData:c.noop,_create:c.noop,_init:c.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(c.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:c.noop,widget:function(){return this.element},option:function(t,e){var n,i,r,a=t;if(0===arguments.length)return c.widget.extend({},this.options);if("string"==typeof t)if(a={},t=(n=t.split(".")).shift(),n.length){for(i=a[t]=c.widget.extend({},this.options[t]),r=0;r<n.length-1;r++)i[n[r]]=i[n[r]]||{},i=i[n[r]];if(t=n.pop(),e===s)return i[t]===s?null:i[t];i[t]=e}else{if(e===s)return this.options[t]===s?null:this.options[t];a[t]=e}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(o,s,t){var l,u=this;"boolean"!=typeof o&&(t=s,s=o,o=!1),t?(s=l=c(s),this.bindings=this.bindings.add(s)):(t=s,s=this.element,l=this.widget()),c.each(t,function(t,e){function n(){if(o||!0!==u.options.disabled&&!c(this).hasClass("ui-state-disabled"))return("string"==typeof e?u[e]:e).apply(u,arguments)}"string"!=typeof e&&(n.guid=e.guid=e.guid||n.guid||c.guid++);var i=t.match(/^(\w+)\s*(.*)$/),r=i[1]+u.eventNamespace,a=i[2];a?l.delegate(a,r,n):s.bind(r,n)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){var n=this;return setTimeout(function(){return("string"==typeof t?n[t]:t).apply(n,arguments)},e||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){c(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){c(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){c(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){c(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,e,n){var i,r,a=this.options[t];if(n=n||{},(e=c.Event(e)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),e.target=this.element[0],r=e.originalEvent)for(i in r)i in e||(e[i]=r[i]);return this.element.trigger(e,n),!(c.isFunction(a)&&!1===a.apply(this.element[0],[e].concat(n))||e.isDefaultPrevented())}},c.each({show:"fadeIn",hide:"fadeOut"},function(a,o){c.Widget.prototype["_"+a]=function(e,t,n){"string"==typeof t&&(t={effect:t});var i,r=t?!0===t||"number"==typeof t?o:t.effect||o:a;"number"==typeof(t=t||{})&&(t={duration:t}),i=!c.isEmptyObject(t),t.complete=n,t.delay&&e.delay(t.delay),i&&c.effects&&(c.effects.effect[r]||!1!==c.uiBackCompat&&c.effects[r])?e[a](t):r!==a&&e[r]?e[r](t.duration,t.easing,n):e.queue(function(t){c(this)[a](),n&&n.call(e[0]),t()})}}),!1!==c.uiBackCompat&&(c.Widget.prototype._getCreateOptions=function(){return c.metadata&&c.metadata.get(this.element[0])[this.widgetName]})}(jQuery),function(r,t){var a=!1;r(document).mouseup(function(t){a=!1}),r.widget("ui.mouse",{version:"1.9.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(t){if(!0===r.data(t.target,e.widgetName+".preventClickEvent"))return r.removeData(t.target,e.widgetName+".preventClickEvent"),t.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&r(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!a){this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var e=this,n=1===t.which,i=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&r(t.target).closest(this.options.cancel).length;return!(n&&!i&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),!0):(!0===r.data(t.target,this.widgetName+".preventClickEvent")&&r.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return e._mouseMove(t)},this._mouseUpDelegate=function(t){return e._mouseUp(t)},r(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),a=!0))}},_mouseMove:function(t){return!r.ui.ie||9<=document.documentMode||t.button?this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted):this._mouseUp(t)},_mouseUp:function(t){return r(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&r.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(t){return this.mouseDelayMet},_mouseStart:function(t){},_mouseDrag:function(t){},_mouseStop:function(t){},_mouseCapture:function(t){return!0}})}(jQuery),function(b,t){b.widget("ui.draggable",b.ui.mouse,{version:"1.9.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"!=this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var e=this.options;return!(this.helper||e.disabled||b(t.target).is(".ui-resizable-handle"))&&(this.handle=this._getHandle(t),!!this.handle&&(b(!0===e.iframeFix?"iframe":e.iframeFix).each(function(){b('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(b(this).offset()).appendTo("body")}),!0))},_mouseStart:function(t){var e=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),b.ui.ddmanager&&(b.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},b.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt),e.containment&&this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),b.ui.ddmanager&&!e.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),b.ui.ddmanager&&b.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,e){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!e){var n=this._uiHash();if(!1===this._trigger("drag",t,n))return this._mouseUp({}),!1;this.position=n.position}return this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),b.ui.ddmanager&&b.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var e=!1;b.ui.ddmanager&&!this.options.dropBehaviour&&(e=b.ui.ddmanager.drop(this,t)),this.dropped&&(e=this.dropped,this.dropped=!1);for(var n=this.element[0],i=!1;n&&(n=n.parentNode);)n==document&&(i=!0);if(!i&&"original"===this.options.helper)return!1;if("invalid"==this.options.revert&&!e||"valid"==this.options.revert&&e||!0===this.options.revert||b.isFunction(this.options.revert)&&this.options.revert.call(this.element,e)){var r=this;b(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==r._trigger("stop",t)&&r._clear()})}else!1!==this._trigger("stop",t)&&this._clear();return!1},_mouseUp:function(t){return b("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),b.ui.ddmanager&&b.ui.ddmanager.dragStop(this,t),b.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){var e=!this.options.handle||!b(this.options.handle,this.element).length;return b(this.options.handle,this.element).find("*").andSelf().each(function(){this==t.target&&(e=!0)}),e},_createHelper:function(t){var e=this.options,n=b.isFunction(e.helper)?b(e.helper.apply(this.element[0],[t])):"clone"==e.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"==e.appendTo?this.element[0].parentNode:e.appendTo),n[0]==this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),b.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&b.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&b.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!=this.cssPosition)return{top:0,left:0};var t=this.element.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;if("parent"==t.containment&&(t.containment=this.helper[0].parentNode),"document"!=t.containment&&"window"!=t.containment||(this.containment=["document"==t.containment?0:b(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==t.containment?0:b(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==t.containment?0:b(window).scrollLeft())+b("document"==t.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==t.containment?0:b(window).scrollTop())+(b("document"==t.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(t.containment)||t.containment.constructor==Array)t.containment.constructor==Array&&(this.containment=t.containment);else{var e=b(t.containment),n=e[0];if(!n)return;e.offset();var i="hidden"!=b(n).css("overflow");this.containment=[(parseInt(b(n).css("borderLeftWidth"),10)||0)+(parseInt(b(n).css("paddingLeft"),10)||0),(parseInt(b(n).css("borderTopWidth"),10)||0)+(parseInt(b(n).css("paddingTop"),10)||0),(i?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(b(n).css("borderLeftWidth"),10)||0)-(parseInt(b(n).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(i?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(b(n).css("borderTopWidth"),10)||0)-(parseInt(b(n).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=e}},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"==t?1:-1,i=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),r=/(html|body)/i.test(i[0].tagName);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"==this.cssPosition?-this.scrollParent.scrollTop():r?0:i.scrollTop())*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():r?0:i.scrollLeft())*n}},_generatePosition:function(t){var e=this.options,n="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(n[0].tagName),r=t.pageX,a=t.pageY;if(this.originalPosition){var o;if(this.containment){if(this.relative_container){var s=this.relative_container.offset();o=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]}else o=this.containment;t.pageX-this.offset.click.left<o[0]&&(r=o[0]+this.offset.click.left),t.pageY-this.offset.click.top<o[1]&&(a=o[1]+this.offset.click.top),t.pageX-this.offset.click.left>o[2]&&(r=o[2]+this.offset.click.left),t.pageY-this.offset.click.top>o[3]&&(a=o[3]+this.offset.click.top)}if(e.grid){var l=e.grid[1]?this.originalPageY+Math.round((a-this.originalPageY)/e.grid[1])*e.grid[1]:this.originalPageY;a=o&&(l-this.offset.click.top<o[1]||l-this.offset.click.top>o[3])?l-this.offset.click.top<o[1]?l+e.grid[1]:l-e.grid[1]:l;var u=e.grid[0]?this.originalPageX+Math.round((r-this.originalPageX)/e.grid[0])*e.grid[0]:this.originalPageX;r=o&&(u-this.offset.click.left<o[0]||u-this.offset.click.left>o[2])?u-this.offset.click.left<o[0]?u+e.grid[0]:u-e.grid[0]:u}}return{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition?-this.scrollParent.scrollTop():i?0:n.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():i?0:n.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]==this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,e,n){return n=n||this._uiHash(),b.ui.plugin.call(this,t,[e,n]),"drag"==t&&(this.positionAbs=this._convertPositionTo("absolute")),b.Widget.prototype._trigger.call(this,t,e,n)},plugins:{},_uiHash:function(t){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),b.ui.plugin.add("draggable","connectToSortable",{start:function(e,t){var n=b(this).data("draggable"),i=n.options,r=b.extend({},t,{item:n.element});n.sortables=[],b(i.connectToSortable).each(function(){var t=b.data(this,"sortable");t&&!t.options.disabled&&(n.sortables.push({instance:t,shouldRevert:t.options.revert}),t.refreshPositions(),t._trigger("activate",e,r))})},stop:function(t,e){var n=b(this).data("draggable"),i=b.extend({},e,{item:n.element});b.each(n.sortables,function(){this.instance.isOver?(this.instance.isOver=0,n.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"==n.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,i))})},drag:function(i,r){var a=b(this).data("draggable"),o=this;b.each(a.sortables,function(t){var e=!1,n=this;this.instance.positionAbs=a.positionAbs,this.instance.helperProportions=a.helperProportions,this.instance.offset.click=a.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(e=!0,b.each(a.sortables,function(){return this.instance.positionAbs=a.positionAbs,this.instance.helperProportions=a.helperProportions,this.instance.offset.click=a.offset.click,this!=n&&this.instance._intersectsWith(this.instance.containerCache)&&b.ui.contains(n.instance.element[0],this.instance.element[0])&&(e=!1),e})),e?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=b(o).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return r.helper[0]},i.target=this.instance.currentItem[0],this.instance._mouseCapture(i,!0),this.instance._mouseStart(i,!0,!0),this.instance.offset.click.top=a.offset.click.top,this.instance.offset.click.left=a.offset.click.left,this.instance.offset.parent.left-=a.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=a.offset.parent.top-this.instance.offset.parent.top,a._trigger("toSortable",i),a.dropped=this.instance.element,a.currentItem=a.element,this.instance.fromOutside=a),this.instance.currentItem&&this.instance._mouseDrag(i)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",i,this.instance._uiHash(this.instance)),this.instance._mouseStop(i,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),a._trigger("fromSortable",i),a.dropped=!1)})}}),b.ui.plugin.add("draggable","cursor",{start:function(t,e){var n=b("body"),i=b(this).data("draggable").options;n.css("cursor")&&(i._cursor=n.css("cursor")),n.css("cursor",i.cursor)},stop:function(t,e){var n=b(this).data("draggable").options;n._cursor&&b("body").css("cursor",n._cursor)}}),b.ui.plugin.add("draggable","opacity",{start:function(t,e){var n=b(e.helper),i=b(this).data("draggable").options;n.css("opacity")&&(i._opacity=n.css("opacity")),n.css("opacity",i.opacity)},stop:function(t,e){var n=b(this).data("draggable").options;n._opacity&&b(e.helper).css("opacity",n._opacity)}}),b.ui.plugin.add("draggable","scroll",{start:function(t,e){var n=b(this).data("draggable");n.scrollParent[0]!=document&&"HTML"!=n.scrollParent[0].tagName&&(n.overflowOffset=n.scrollParent.offset())},drag:function(t,e){var n=b(this).data("draggable"),i=n.options,r=!1;n.scrollParent[0]!=document&&"HTML"!=n.scrollParent[0].tagName?(i.axis&&"x"==i.axis||(n.overflowOffset.top+n.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?n.scrollParent[0].scrollTop=r=n.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-n.overflowOffset.top<i.scrollSensitivity&&(n.scrollParent[0].scrollTop=r=n.scrollParent[0].scrollTop-i.scrollSpeed)),i.axis&&"y"==i.axis||(n.overflowOffset.left+n.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?n.scrollParent[0].scrollLeft=r=n.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-n.overflowOffset.left<i.scrollSensitivity&&(n.scrollParent[0].scrollLeft=r=n.scrollParent[0].scrollLeft-i.scrollSpeed))):(i.axis&&"x"==i.axis||(t.pageY-b(document).scrollTop()<i.scrollSensitivity?r=b(document).scrollTop(b(document).scrollTop()-i.scrollSpeed):b(window).height()-(t.pageY-b(document).scrollTop())<i.scrollSensitivity&&(r=b(document).scrollTop(b(document).scrollTop()+i.scrollSpeed))),i.axis&&"y"==i.axis||(t.pageX-b(document).scrollLeft()<i.scrollSensitivity?r=b(document).scrollLeft(b(document).scrollLeft()-i.scrollSpeed):b(window).width()-(t.pageX-b(document).scrollLeft())<i.scrollSensitivity&&(r=b(document).scrollLeft(b(document).scrollLeft()+i.scrollSpeed)))),!1!==r&&b.ui.ddmanager&&!i.dropBehaviour&&b.ui.ddmanager.prepareOffsets(n,t)}}),b.ui.plugin.add("draggable","snap",{start:function(t,e){var n=b(this).data("draggable"),i=n.options;n.snapElements=[],b(i.snap.constructor!=String?i.snap.items||":data(draggable)":i.snap).each(function(){var t=b(this),e=t.offset();this!=n.element[0]&&n.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:e.top,left:e.left})})},drag:function(t,e){for(var n=b(this).data("draggable"),i=n.options,r=i.snapTolerance,a=e.offset.left,o=a+n.helperProportions.width,s=e.offset.top,l=s+n.helperProportions.height,u=n.snapElements.length-1;0<=u;u--){var c=n.snapElements[u].left,h=c+n.snapElements[u].width,d=n.snapElements[u].top,p=d+n.snapElements[u].height;if(c-r<a&&a<h+r&&d-r<s&&s<p+r||c-r<a&&a<h+r&&d-r<l&&l<p+r||c-r<o&&o<h+r&&d-r<s&&s<p+r||c-r<o&&o<h+r&&d-r<l&&l<p+r){if("inner"!=i.snapMode){var f=Math.abs(d-l)<=r,g=Math.abs(p-s)<=r,m=Math.abs(c-o)<=r,v=Math.abs(h-a)<=r;f&&(e.position.top=n._convertPositionTo("relative",{top:d-n.helperProportions.height,left:0}).top-n.margins.top),g&&(e.position.top=n._convertPositionTo("relative",{top:p,left:0}).top-n.margins.top),m&&(e.position.left=n._convertPositionTo("relative",{top:0,left:c-n.helperProportions.width}).left-n.margins.left),v&&(e.position.left=n._convertPositionTo("relative",{top:0,left:h}).left-n.margins.left)}var y=f||g||m||v;if("outer"!=i.snapMode){f=Math.abs(d-s)<=r,g=Math.abs(p-l)<=r,m=Math.abs(c-a)<=r,v=Math.abs(h-o)<=r;f&&(e.position.top=n._convertPositionTo("relative",{top:d,left:0}).top-n.margins.top),g&&(e.position.top=n._convertPositionTo("relative",{top:p-n.helperProportions.height,left:0}).top-n.margins.top),m&&(e.position.left=n._convertPositionTo("relative",{top:0,left:c}).left-n.margins.left),v&&(e.position.left=n._convertPositionTo("relative",{top:0,left:h-n.helperProportions.width}).left-n.margins.left)}!n.snapElements[u].snapping&&(f||g||m||v||y)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,t,b.extend(n._uiHash(),{snapItem:n.snapElements[u].item})),n.snapElements[u].snapping=f||g||m||v||y}else n.snapElements[u].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,t,b.extend(n._uiHash(),{snapItem:n.snapElements[u].item})),n.snapElements[u].snapping=!1}}}),b.ui.plugin.add("draggable","stack",{start:function(t,e){var n=b(this).data("draggable").options,i=b.makeArray(b(n.stack)).sort(function(t,e){return(parseInt(b(t).css("zIndex"),10)||0)-(parseInt(b(e).css("zIndex"),10)||0)});if(i.length){var r=parseInt(i[0].style.zIndex)||0;b(i).each(function(t){this.style.zIndex=r+t}),this[0].style.zIndex=r+i.length}}}),b.ui.plugin.add("draggable","zIndex",{start:function(t,e){var n=b(e.helper),i=b(this).data("draggable").options;n.css("zIndex")&&(i._zIndex=n.css("zIndex")),n.css("zIndex",i.zIndex)},stop:function(t,e){var n=b(this).data("draggable").options;n._zIndex&&b(e.helper).css("zIndex",n._zIndex)}})}(jQuery),function(p,t){p.widget("ui.droppable",{version:"1.9.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var t=this.options,e=t.accept;this.isover=0,this.isout=1,this.accept=p.isFunction(e)?e:function(t){return t.is(e)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},p.ui.ddmanager.droppables[t.scope]=p.ui.ddmanager.droppables[t.scope]||[],p.ui.ddmanager.droppables[t.scope].push(this),t.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var t=p.ui.ddmanager.droppables[this.options.scope],e=0;e<t.length;e++)t[e]==this&&t.splice(e,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,e){"accept"==t&&(this.accept=p.isFunction(e)?e:function(t){return t.is(e)}),p.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var e=p.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),e&&this._trigger("activate",t,this.ui(e))},_deactivate:function(t){var e=p.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),e&&this._trigger("deactivate",t,this.ui(e))},_over:function(t){var e=p.ui.ddmanager.current;e&&(e.currentItem||e.element)[0]!=this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(e)))},_out:function(t){var e=p.ui.ddmanager.current;e&&(e.currentItem||e.element)[0]!=this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(e)))},_drop:function(t,e){var n=e||p.ui.ddmanager.current;if(!n||(n.currentItem||n.element)[0]==this.element[0])return!1;var i=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var t=p.data(this,"droppable");if(t.options.greedy&&!t.options.disabled&&t.options.scope==n.options.scope&&t.accept.call(t.element[0],n.currentItem||n.element)&&p.ui.intersect(n,p.extend(t,{offset:t.element.offset()}),t.options.tolerance))return!(i=!0)}),!i&&(!!this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(n)),this.element))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),p.ui.intersect=function(t,e,n){if(!e.offset)return!1;var i=(t.positionAbs||t.position.absolute).left,r=i+t.helperProportions.width,a=(t.positionAbs||t.position.absolute).top,o=a+t.helperProportions.height,s=e.offset.left,l=s+e.proportions.width,u=e.offset.top,c=u+e.proportions.height;switch(n){case"fit":return s<=i&&r<=l&&u<=a&&o<=c;case"intersect":return s<i+t.helperProportions.width/2&&r-t.helperProportions.width/2<l&&u<a+t.helperProportions.height/2&&o-t.helperProportions.height/2<c;case"pointer":var h=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,d=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top;return p.ui.isOver(d,h,u,s,e.proportions.height,e.proportions.width);case"touch":return(u<=a&&a<=c||u<=o&&o<=c||a<u&&c<o)&&(s<=i&&i<=l||s<=r&&r<=l||i<s&&l<r);default:return!1}},p.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,e){var n=p.ui.ddmanager.droppables[t.options.scope]||[],i=e?e.type:null,r=(t.currentItem||t.element).find(":data(droppable)").andSelf();t:for(var a=0;a<n.length;a++)if(!(n[a].options.disabled||t&&!n[a].accept.call(n[a].element[0],t.currentItem||t.element))){for(var o=0;o<r.length;o++)if(r[o]==n[a].element[0]){n[a].proportions.height=0;continue t}n[a].visible="none"!=n[a].element.css("display"),n[a].visible&&("mousedown"==i&&n[a]._activate.call(n[a],e),n[a].offset=n[a].element.offset(),n[a].proportions={width:n[a].element[0].offsetWidth,height:n[a].element[0].offsetHeight})}},drop:function(t,e){var n=!1;return p.each(p.ui.ddmanager.droppables[t.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&p.ui.intersect(t,this,this.options.tolerance)&&(n=this._drop.call(this,e)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,e)))}),n},dragStart:function(t,e){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||p.ui.ddmanager.prepareOffsets(t,e)})},drag:function(a,o){a.options.refreshPositions&&p.ui.ddmanager.prepareOffsets(a,o),p.each(p.ui.ddmanager.droppables[a.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var t=p.ui.intersect(a,this,this.options.tolerance),e=t||1!=this.isover?t&&0==this.isover?"isover":null:"isout";if(e){var n;if(this.options.greedy){var i=this.options.scope,r=this.element.parents(":data(droppable)").filter(function(){return p.data(this,"droppable").options.scope===i});r.length&&((n=p.data(r[0],"droppable")).greedyChild="isover"==e?1:0)}n&&"isover"==e&&(n.isover=0,n.isout=1,n._out.call(n,o)),this[e]=1,this["isout"==e?"isover":"isout"]=0,this["isover"==e?"_over":"_out"].call(this,o),n&&"isout"==e&&(n.isout=0,n.isover=1,n._over.call(n,o))}}})},dragStop:function(t,e){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||p.ui.ddmanager.prepareOffsets(t,e)}}}(jQuery),function(f,t){f.widget("ui.resizable",f.ui.mouse,{version:"1.9.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var e=this,t=this.options;if(this.element.addClass("ui-resizable"),f.extend(this,{_aspectRatio:!!t.aspectRatio,aspectRatio:t.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:t.helper||t.ghost||t.animate?t.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(f('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=t.handles||(f(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor==String){"all"==this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var n=this.handles.split(",");this.handles={};for(var i=0;i<n.length;i++){var r=f.trim(n[i]),a=f('<div class="ui-resizable-handle '+("ui-resizable-"+r)+'"></div>');a.css({zIndex:t.zIndex}),"se"==r&&a.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[r]=".ui-resizable-"+r,this.element.append(a)}}this._renderAxis=function(t){for(var e in t=t||this.element,this.handles){if(this.handles[e].constructor==String&&(this.handles[e]=f(this.handles[e],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var n,i=f(this.handles[e],this.element);n=/sw|ne|nw|se|n|s/.test(e)?i.outerHeight():i.outerWidth();var r=["padding",/ne|nw|n/.test(e)?"Top":/se|sw|s/.test(e)?"Bottom":/^e$/.test(e)?"Right":"Left"].join("");t.css(r,n),this._proportionallyResize()}f(this.handles[e]).length}},this._renderAxis(this.element),this._handles=f(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!e.resizing){if(this.className)var t=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);e.axis=t&&t[1]?t[1]:"se"}}),t.autoHide&&(this._handles.hide(),f(this.element).addClass("ui-resizable-autohide").mouseenter(function(){t.disabled||(f(this).removeClass("ui-resizable-autohide"),e._handles.show())}).mouseleave(function(){t.disabled||e.resizing||(f(this).addClass("ui-resizable-autohide"),e._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t=function(t){f(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){t(this.element);var e=this.element;this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()}return this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_mouseCapture:function(t){var e=!1;for(var n in this.handles)f(this.handles[n])[0]==t.target&&(e=!0);return!this.options.disabled&&e},_mouseStart:function(t){var e=this.options,n=this.element.position(),i=this.element;this.resizing=!0,this.documentScroll={top:f(document).scrollTop(),left:f(document).scrollLeft()},(i.is(".ui-draggable")||/absolute/.test(i.css("position")))&&i.css({position:"absolute",top:n.top,left:n.left}),this._renderProxy();var r=g(this.helper.css("left")),a=g(this.helper.css("top"));e.containment&&(r+=f(e.containment).scrollLeft()||0,a+=f(e.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:r,top:a},this.size=this._helper?{width:i.outerWidth(),height:i.outerHeight()}:{width:i.width(),height:i.height()},this.originalSize=this._helper?{width:i.outerWidth(),height:i.outerHeight()}:{width:i.width(),height:i.height()},this.originalPosition={left:r,top:a},this.sizeDiff={width:i.outerWidth()-i.width(),height:i.outerHeight()-i.height()},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof e.aspectRatio?e.aspectRatio:this.originalSize.width/this.originalSize.height||1;var o=f(".ui-resizable-"+this.axis).css("cursor");return f("body").css("cursor","auto"==o?this.axis+"-resize":o),i.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var e=this.helper,n=(this.options,this.originalMousePosition),i=this.axis,r=t.pageX-n.left||0,a=t.pageY-n.top||0,o=this._change[i];if(!o)return!1;var s=o.apply(this,[t,r,a]);return this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(s=this._updateRatio(s,t)),s=this._respectSize(s,t),this._propagate("resize",t),e.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(s),this._trigger("resize",t,this.ui()),!1},_mouseStop:function(t){this.resizing=!1;var e=this.options,n=this;if(this._helper){var i=this._proportionallyResizeElements,r=i.length&&/textarea/i.test(i[0].nodeName),a=r&&f.ui.hasScroll(i[0],"left")?0:n.sizeDiff.height,o=r?0:n.sizeDiff.width,s={width:n.helper.width()-o,height:n.helper.height()-a},l=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,u=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;e.animate||this.element.css(f.extend(s,{top:u,left:l})),n.helper.height(n.size.height),n.helper.width(n.size.width),this._helper&&!e.animate&&this._proportionallyResize()}return f("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(t){var e,n,i,r,a,o=this.options;a={minWidth:p(o.minWidth)?o.minWidth:0,maxWidth:p(o.maxWidth)?o.maxWidth:1/0,minHeight:p(o.minHeight)?o.minHeight:0,maxHeight:p(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||t)&&(e=a.minHeight*this.aspectRatio,i=a.minWidth/this.aspectRatio,n=a.maxHeight*this.aspectRatio,r=a.maxWidth/this.aspectRatio,e>a.minWidth&&(a.minWidth=e),i>a.minHeight&&(a.minHeight=i),n<a.maxWidth&&(a.maxWidth=n),r<a.maxHeight&&(a.maxHeight=r)),this._vBoundaries=a},_updateCache:function(t){this.options;this.offset=this.helper.offset(),p(t.left)&&(this.position.left=t.left),p(t.top)&&(this.position.top=t.top),p(t.height)&&(this.size.height=t.height),p(t.width)&&(this.size.width=t.width)},_updateRatio:function(t,e){this.options;var n=this.position,i=this.size,r=this.axis;return p(t.height)?t.width=t.height*this.aspectRatio:p(t.width)&&(t.height=t.width/this.aspectRatio),"sw"==r&&(t.left=n.left+(i.width-t.width),t.top=null),"nw"==r&&(t.top=n.top+(i.height-t.height),t.left=n.left+(i.width-t.width)),t},_respectSize:function(t,e){this.helper;var n=this._vBoundaries,i=(this._aspectRatio||e.shiftKey,this.axis),r=p(t.width)&&n.maxWidth&&n.maxWidth<t.width,a=p(t.height)&&n.maxHeight&&n.maxHeight<t.height,o=p(t.width)&&n.minWidth&&n.minWidth>t.width,s=p(t.height)&&n.minHeight&&n.minHeight>t.height;o&&(t.width=n.minWidth),s&&(t.height=n.minHeight),r&&(t.width=n.maxWidth),a&&(t.height=n.maxHeight);var l=this.originalPosition.left+this.originalSize.width,u=this.position.top+this.size.height,c=/sw|nw|w/.test(i),h=/nw|ne|n/.test(i);o&&c&&(t.left=l-n.minWidth),r&&c&&(t.left=l-n.maxWidth),s&&h&&(t.top=u-n.minHeight),a&&h&&(t.top=u-n.maxHeight);var d=!t.width&&!t.height;return d&&!t.left&&t.top?t.top=null:d&&!t.top&&t.left&&(t.left=null),t},_proportionallyResize:function(){this.options;if(this._proportionallyResizeElements.length)for(var t=this.helper||this.element,e=0;e<this._proportionallyResizeElements.length;e++){var n=this._proportionallyResizeElements[e];if(!this.borderDif){var i=[n.css("borderTopWidth"),n.css("borderRightWidth"),n.css("borderBottomWidth"),n.css("borderLeftWidth")],r=[n.css("paddingTop"),n.css("paddingRight"),n.css("paddingBottom"),n.css("paddingLeft")];this.borderDif=f.map(i,function(t,e){return(parseInt(t,10)||0)+(parseInt(r[e],10)||0)})}n.css({height:t.height()-this.borderDif[0]-this.borderDif[2]||0,width:t.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var t=this.element,e=this.options;if(this.elementOffset=t.offset(),this._helper){this.helper=this.helper||f('<div style="overflow:hidden;"></div>');var n=f.ui.ie6?1:0,i=f.ui.ie6?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+i,height:this.element.outerHeight()+i,position:"absolute",left:this.elementOffset.left-n+"px",top:this.elementOffset.top-n+"px",zIndex:++e.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(t,e,n){return{width:this.originalSize.width+e}},w:function(t,e,n){this.options;var i=this.originalSize;return{left:this.originalPosition.left+e,width:i.width-e}},n:function(t,e,n){this.options;var i=this.originalSize;return{top:this.originalPosition.top+n,height:i.height-n}},s:function(t,e,n){return{height:this.originalSize.height+n}},se:function(t,e,n){return f.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,e,n]))},sw:function(t,e,n){return f.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,e,n]))},ne:function(t,e,n){return f.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,e,n]))},nw:function(t,e,n){return f.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,e,n]))}},_propagate:function(t,e){f.ui.plugin.call(this,t,[e,this.ui()]),"resize"!=t&&this._trigger(t,e,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),f.ui.plugin.add("resizable","alsoResize",{start:function(t,e){var n=f(this).data("resizable").options,i=function(t){f(t).each(function(){var t=f(this);t.data("resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof n.alsoResize||n.alsoResize.parentNode?i(n.alsoResize):n.alsoResize.length?(n.alsoResize=n.alsoResize[0],i(n.alsoResize)):f.each(n.alsoResize,function(t){i(t)})},resize:function(t,a){var e=f(this).data("resizable"),n=e.options,i=e.originalSize,r=e.originalPosition,o={height:e.size.height-i.height||0,width:e.size.width-i.width||0,top:e.position.top-r.top||0,left:e.position.left-r.left||0},s=function(t,n){f(t).each(function(){var t=f(this),i=f(this).data("resizable-alsoresize"),r={},e=n&&n.length?n:t.parents(a.originalElement[0]).length?["width","height"]:["width","height","top","left"];f.each(e,function(t,e){var n=(i[e]||0)+(o[e]||0);n&&0<=n&&(r[e]=n||null)}),t.css(r)})};"object"!=typeof n.alsoResize||n.alsoResize.nodeType?s(n.alsoResize):f.each(n.alsoResize,function(t,e){s(t,e)})},stop:function(t,e){f(this).removeData("resizable-alsoresize")}}),f.ui.plugin.add("resizable","animate",{stop:function(e,t){var n=f(this).data("resizable"),i=n.options,r=n._proportionallyResizeElements,a=r.length&&/textarea/i.test(r[0].nodeName),o=a&&f.ui.hasScroll(r[0],"left")?0:n.sizeDiff.height,s=a?0:n.sizeDiff.width,l={width:n.size.width-s,height:n.size.height-o},u=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,c=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(f.extend(l,c&&u?{top:c,left:u}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var t={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};r&&r.length&&f(r[0]).css({width:t.width,height:t.height}),n._updateCache(t),n._propagate("resize",e)}})}}),f.ui.plugin.add("resizable","containment",{start:function(t,e){var n=f(this).data("resizable"),i=n.options,r=n.element,a=i.containment,o=a instanceof f?a.get(0):/parent/.test(a)?r.parent().get(0):a;if(o)if(n.containerElement=f(o),/document/.test(a)||a==document)n.containerOffset={left:0,top:0},n.containerPosition={left:0,top:0},n.parentData={element:f(document),left:0,top:0,width:f(document).width(),height:f(document).height()||document.body.parentNode.scrollHeight};else{var s=f(o),l=[];f(["Top","Right","Left","Bottom"]).each(function(t,e){l[t]=g(s.css("padding"+e))}),n.containerOffset=s.offset(),n.containerPosition=s.position(),n.containerSize={height:s.innerHeight()-l[3],width:s.innerWidth()-l[1]};var u=n.containerOffset,c=n.containerSize.height,h=n.containerSize.width,d=f.ui.hasScroll(o,"left")?o.scrollWidth:h,p=f.ui.hasScroll(o)?o.scrollHeight:c;n.parentData={element:o,left:u.left,top:u.top,width:d,height:p}}},resize:function(t,e){var n=f(this).data("resizable"),i=n.options,r=(n.containerSize,n.containerOffset),a=(n.size,n.position),o=n._aspectRatio||t.shiftKey,s={top:0,left:0},l=n.containerElement;l[0]!=document&&/static/.test(l.css("position"))&&(s=r),a.left<(n._helper?r.left:0)&&(n.size.width=n.size.width+(n._helper?n.position.left-r.left:n.position.left-s.left),o&&(n.size.height=n.size.width/n.aspectRatio),n.position.left=i.helper?r.left:0),a.top<(n._helper?r.top:0)&&(n.size.height=n.size.height+(n._helper?n.position.top-r.top:n.position.top),o&&(n.size.width=n.size.height*n.aspectRatio),n.position.top=n._helper?r.top:0),n.offset.left=n.parentData.left+n.position.left,n.offset.top=n.parentData.top+n.position.top;var u=Math.abs((n._helper,n.offset.left-s.left+n.sizeDiff.width)),c=Math.abs((n._helper?n.offset.top-s.top:n.offset.top-r.top)+n.sizeDiff.height),h=n.containerElement.get(0)==n.element.parent().get(0),d=/relative|absolute/.test(n.containerElement.css("position"));h&&d&&(u-=n.parentData.left),u+n.size.width>=n.parentData.width&&(n.size.width=n.parentData.width-u,o&&(n.size.height=n.size.width/n.aspectRatio)),c+n.size.height>=n.parentData.height&&(n.size.height=n.parentData.height-c,o&&(n.size.width=n.size.height*n.aspectRatio))},stop:function(t,e){var n=f(this).data("resizable"),i=n.options,r=(n.position,n.containerOffset),a=n.containerPosition,o=n.containerElement,s=f(n.helper),l=s.offset(),u=s.outerWidth()-n.sizeDiff.width,c=s.outerHeight()-n.sizeDiff.height;n._helper&&!i.animate&&/relative/.test(o.css("position"))&&f(this).css({left:l.left-a.left-r.left,width:u,height:c}),n._helper&&!i.animate&&/static/.test(o.css("position"))&&f(this).css({left:l.left-a.left-r.left,width:u,height:c})}}),f.ui.plugin.add("resizable","ghost",{start:function(t,e){var n=f(this).data("resizable"),i=n.options,r=n.size;n.ghost=n.originalElement.clone(),n.ghost.css({opacity:.25,display:"block",position:"relative",height:r.height,width:r.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),n.ghost.appendTo(n.helper)},resize:function(t,e){var n=f(this).data("resizable");n.options;n.ghost&&n.ghost.css({position:"relative",height:n.size.height,width:n.size.width})},stop:function(t,e){var n=f(this).data("resizable");n.options;n.ghost&&n.helper&&n.helper.get(0).removeChild(n.ghost.get(0))}}),f.ui.plugin.add("resizable","grid",{resize:function(t,e){var n=f(this).data("resizable"),i=n.options,r=n.size,a=n.originalSize,o=n.originalPosition,s=n.axis;i._aspectRatio||t.shiftKey;i.grid="number"==typeof i.grid?[i.grid,i.grid]:i.grid;var l=Math.round((r.width-a.width)/(i.grid[0]||1))*(i.grid[0]||1),u=Math.round((r.height-a.height)/(i.grid[1]||1))*(i.grid[1]||1);/^(se|s|e)$/.test(s)?(n.size.width=a.width+l,n.size.height=a.height+u):/^(ne)$/.test(s)?(n.size.width=a.width+l,n.size.height=a.height+u,n.position.top=o.top-u):(/^(sw)$/.test(s)?(n.size.width=a.width+l,n.size.height=a.height+u):(n.size.width=a.width+l,n.size.height=a.height+u,n.position.top=o.top-u),n.position.left=o.left-l)}});var g=function(t){return parseInt(t,10)||0},p=function(t){return!isNaN(parseInt(t,10))}}(jQuery),function(u,t){u.widget("ui.selectable",u.ui.mouse,{version:"1.9.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var t,e=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){(t=u(e.options.filter,e.element[0])).addClass("ui-selectee"),t.each(function(){var t=u(this),e=t.offset();u.data(this,"selectable-item",{element:this,$element:t,left:e.left,top:e.top,right:e.left+t.outerWidth(),bottom:e.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=u("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(n){var i=this;if(this.opos=[n.pageX,n.pageY],!this.options.disabled){var t=this.options;this.selectees=u(t.filter,this.element[0]),this._trigger("start",n),u(t.appendTo).append(this.helper),this.helper.css({left:n.clientX,top:n.clientY,width:0,height:0}),t.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var t=u.data(this,"selectable-item");t.startselected=!0,n.metaKey||n.ctrlKey||(t.$element.removeClass("ui-selected"),t.selected=!1,t.$element.addClass("ui-unselecting"),t.unselecting=!0,i._trigger("unselecting",n,{unselecting:t.element}))}),u(n.target).parents().andSelf().each(function(){var t=u.data(this,"selectable-item");if(t){var e=!n.metaKey&&!n.ctrlKey||!t.$element.hasClass("ui-selected");return t.$element.removeClass(e?"ui-unselecting":"ui-selected").addClass(e?"ui-selecting":"ui-unselecting"),t.unselecting=!e,t.selecting=e,(t.selected=e)?i._trigger("selecting",n,{selecting:t.element}):i._trigger("unselecting",n,{unselecting:t.element}),!1}})}},_mouseDrag:function(n){var i=this;if(this.dragged=!0,!this.options.disabled){var r=this.options,a=this.opos[0],o=this.opos[1],s=n.pageX,l=n.pageY;if(s<a){var t=s;s=a,a=t}if(l<o){t=l;l=o,o=t}return this.helper.css({left:a,top:o,width:s-a,height:l-o}),this.selectees.each(function(){var t=u.data(this,"selectable-item");if(t&&t.element!=i.element[0]){var e=!1;"touch"==r.tolerance?e=!(t.left>s||t.right<a||t.top>l||t.bottom<o):"fit"==r.tolerance&&(e=t.left>a&&t.right<s&&t.top>o&&t.bottom<l),e?(t.selected&&(t.$element.removeClass("ui-selected"),t.selected=!1),t.unselecting&&(t.$element.removeClass("ui-unselecting"),t.unselecting=!1),t.selecting||(t.$element.addClass("ui-selecting"),t.selecting=!0,i._trigger("selecting",n,{selecting:t.element}))):(t.selecting&&((n.metaKey||n.ctrlKey)&&t.startselected?(t.$element.removeClass("ui-selecting"),t.selecting=!1,t.$element.addClass("ui-selected"),t.selected=!0):(t.$element.removeClass("ui-selecting"),t.selecting=!1,t.startselected&&(t.$element.addClass("ui-unselecting"),t.unselecting=!0),i._trigger("unselecting",n,{unselecting:t.element}))),t.selected&&(n.metaKey||n.ctrlKey||t.startselected||(t.$element.removeClass("ui-selected"),t.selected=!1,t.$element.addClass("ui-unselecting"),t.unselecting=!0,i._trigger("unselecting",n,{unselecting:t.element}))))}}),!1}},_mouseStop:function(e){var n=this;this.dragged=!1;this.options;return u(".ui-unselecting",this.element[0]).each(function(){var t=u.data(this,"selectable-item");t.$element.removeClass("ui-unselecting"),t.unselecting=!1,t.startselected=!1,n._trigger("unselected",e,{unselected:t.element})}),u(".ui-selecting",this.element[0]).each(function(){var t=u.data(this,"selectable-item");t.$element.removeClass("ui-selecting").addClass("ui-selected"),t.selecting=!1,t.selected=!0,t.startselected=!0,n._trigger("selected",e,{selected:t.element})}),this._trigger("stop",e),this.helper.remove(),!1}})}(jQuery),function(d,t){d.widget("ui.sortable",d.ui.mouse,{version:"1.9.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===t.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display"))),this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var t=this.items.length-1;0<=t;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,e){"disabled"===t?(this.options[t]=e,this.widget().toggleClass("ui-sortable-disabled",!!e)):d.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,e){var n=this;if(this.reverting)return!1;if(this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(t);var i=null;d(t.target).parents().each(function(){if(d.data(this,n.widgetName+"-item")==n)return i=d(this),!1});if(d.data(t.target,n.widgetName+"-item")==n&&(i=d(t.target)),!i)return!1;if(this.options.handle&&!e){var r=!1;if(d(this.options.handle,i).find("*").andSelf().each(function(){this==t.target&&(r=!0)}),!r)return!1}return this.currentItem=i,this._removeCurrentsFromItems(),!0},_mouseStart:function(t,e,n){var i=this.options;if((this.currentContainer=this).refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},d.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),i.containment&&this._setContainment(),i.cursor&&(d("body").css("cursor")&&(this._storedCursor=d("body").css("cursor")),d("body").css("cursor",i.cursor)),i.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",i.opacity)),i.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",i.zIndex)),this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(var r=this.containers.length-1;0<=r;r--)this.containers[r]._trigger("activate",t,this._uiHash(this));return d.ui.ddmanager&&(d.ui.ddmanager.current=this),d.ui.ddmanager&&!i.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll){var e=this.options,n=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<e.scrollSensitivity?this.scrollParent[0].scrollTop=n=this.scrollParent[0].scrollTop+e.scrollSpeed:t.pageY-this.overflowOffset.top<e.scrollSensitivity&&(this.scrollParent[0].scrollTop=n=this.scrollParent[0].scrollTop-e.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<e.scrollSensitivity?this.scrollParent[0].scrollLeft=n=this.scrollParent[0].scrollLeft+e.scrollSpeed:t.pageX-this.overflowOffset.left<e.scrollSensitivity&&(this.scrollParent[0].scrollLeft=n=this.scrollParent[0].scrollLeft-e.scrollSpeed)):(t.pageY-d(document).scrollTop()<e.scrollSensitivity?n=d(document).scrollTop(d(document).scrollTop()-e.scrollSpeed):d(window).height()-(t.pageY-d(document).scrollTop())<e.scrollSensitivity&&(n=d(document).scrollTop(d(document).scrollTop()+e.scrollSpeed)),t.pageX-d(document).scrollLeft()<e.scrollSensitivity?n=d(document).scrollLeft(d(document).scrollLeft()-e.scrollSpeed):d(window).width()-(t.pageX-d(document).scrollLeft())<e.scrollSensitivity&&(n=d(document).scrollLeft(d(document).scrollLeft()+e.scrollSpeed))),!1!==n&&d.ui.ddmanager&&!e.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,t)}this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(var i=this.items.length-1;0<=i;i--){var r=this.items[i],a=r.item[0],o=this._intersectsWithPointer(r);if(o&&(r.instance===this.currentContainer&&!(a==this.currentItem[0]||this.placeholder[1==o?"next":"prev"]()[0]==a||d.contains(this.placeholder[0],a)||"semi-dynamic"==this.options.type&&d.contains(this.element[0],a)))){if(this.direction=1==o?"down":"up","pointer"!=this.options.tolerance&&!this._intersectsWithSides(r))break;this._rearrange(t,r),this._trigger("change",t,this._uiHash());break}}return this._contactContainers(t),d.ui.ddmanager&&d.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,e){if(t){if(d.ui.ddmanager&&!this.options.dropBehaviour&&d.ui.ddmanager.drop(this,t),this.options.revert){var n=this,i=this.placeholder.offset();this.reverting=!0,d(this.helper).animate({left:i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){n._clear(t)})}else this._clear(t,e);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;0<=t;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),d.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?d(this.domPosition.prev).after(this.currentItem):d(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var t=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},d(t).each(function(){var t=(d(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[-=_](.+)/);t&&n.push((e.key||t[1]+"[]")+"="+(e.key&&e.expression?t[1]:t[2]))}),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(t){var e=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e.each(function(){n.push(d(t.item||this).attr(t.attribute||"id")||"")}),n},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,a=t.left,o=a+t.width,s=t.top,l=s+t.height,u=this.offset.click.top,c=this.offset.click.left,h=s<i+u&&i+u<l&&a<e+c&&e+c<o;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?h:a<e+this.helperProportions.width/2&&n-this.helperProportions.width/2<o&&s<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e="x"===this.options.axis||d.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||d.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),i=e&&n,r=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return!!i&&(this.floating?a&&"right"==a||"down"==r?2:1:r&&("down"==r?2:1))},_intersectsWithSides:function(t){var e=d.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=d.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"==r&&n||"left"==r&&!n:i&&("down"==i&&e||"up"==i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!=t&&(0<t?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!=t&&(0<t?"right":"left")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor==String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(t){var e=[],n=[],i=this._connectWith();if(i&&t)for(var r=i.length-1;0<=r;r--)for(var a=d(i[r]),o=a.length-1;0<=o;o--){var s=d.data(a[o],this.widgetName);s&&s!=this&&!s.options.disabled&&n.push([d.isFunction(s.options.items)?s.options.items.call(s.element):d(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s])}n.push([d.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):d(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(r=n.length-1;0<=r;r--)n[r][0].each(function(){e.push(this)});return d(e)},_removeCurrentsFromItems:function(){var n=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=d.grep(this.items,function(t){for(var e=0;e<n.length;e++)if(n[e]==t.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var e=this.items,n=[[d.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):d(this.options.items,this.element),this]],i=this._connectWith();if(i&&this.ready)for(var r=i.length-1;0<=r;r--)for(var a=d(i[r]),o=a.length-1;0<=o;o--){var s=d.data(a[o],this.widgetName);s&&s!=this&&!s.options.disabled&&(n.push([d.isFunction(s.options.items)?s.options.items.call(s.element[0],t,{item:this.currentItem}):d(s.options.items,s.element),s]),this.containers.push(s))}for(r=n.length-1;0<=r;r--)for(var l=n[r][1],u=n[r][0],c=(o=0,u.length);o<c;o++){var h=d(u[o]);h.data(this.widgetName+"-item",l),e.push({item:h,instance:l,width:0,height:0,left:0,top:0})}},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var e=this.items.length-1;0<=e;e--){var n=this.items[e];if(n.instance==this.currentContainer||!this.currentContainer||n.item[0]==this.currentItem[0]){var i=this.options.toleranceElement?d(this.options.toleranceElement,n.item):n.item;t||(n.width=i.outerWidth(),n.height=i.outerHeight());var r=i.offset();n.left=r.left,n.top=r.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(e=this.containers.length-1;0<=e;e--){r=this.containers[e].element.offset();this.containers[e].containerCache.left=r.left,this.containers[e].containerCache.top=r.top,this.containers[e].containerCache.width=this.containers[e].element.outerWidth(),this.containers[e].containerCache.height=this.containers[e].element.outerHeight()}return this},_createPlaceholder:function(n){var i=(n=n||this).options;if(!i.placeholder||i.placeholder.constructor==String){var r=i.placeholder;i.placeholder={element:function(){var t=d(document.createElement(n.currentItem[0].nodeName)).addClass(r||n.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return r||(t.style.visibility="hidden"),t},update:function(t,e){r&&!i.forcePlaceholderSize||(e.height()||e.height(n.currentItem.innerHeight()-parseInt(n.currentItem.css("paddingTop")||0,10)-parseInt(n.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(n.currentItem.innerWidth()-parseInt(n.currentItem.css("paddingLeft")||0,10)-parseInt(n.currentItem.css("paddingRight")||0,10)))}}}n.placeholder=d(i.placeholder.element.call(n.element,n.currentItem)),n.currentItem.after(n.placeholder),i.placeholder.update(n,n.placeholder)},_contactContainers:function(t){for(var e=null,n=null,i=this.containers.length-1;0<=i;i--)if(!d.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(e&&d.contains(this.containers[i].element[0],e.element[0]))continue;e=this.containers[i],n=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(e)if(1===this.containers.length)this.containers[n]._trigger("over",t,this._uiHash(this)),this.containers[n].containerCache.over=1;else{for(var r=1e4,a=null,o=this.containers[n].floating?"left":"top",s=this.containers[n].floating?"width":"height",l=this.positionAbs[o]+this.offset.click[o],u=this.items.length-1;0<=u;u--)if(d.contains(this.containers[n].element[0],this.items[u].item[0])&&this.items[u].item[0]!=this.currentItem[0]){var c=this.items[u].item.offset()[o],h=!1;Math.abs(c-l)>Math.abs(c+this.items[u][s]-l)&&(h=!0,c+=this.items[u][s]),Math.abs(c-l)<r&&(r=Math.abs(c-l),a=this.items[u],this.direction=h?"up":"down")}if(!a&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[n],a?this._rearrange(t,a,null,!0):this._rearrange(t,null,this.containers[n].element,!0),this._trigger("change",t,this._uiHash()),this.containers[n]._trigger("change",t,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[n]._trigger("over",t,this._uiHash(this)),this.containers[n].containerCache.over=1}},_createHelper:function(t){var e=this.options,n=d.isFunction(e.helper)?d(e.helper.apply(this.element[0],[t,this.currentItem])):"clone"==e.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||d("parent"!=e.appendTo?e.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(""==n[0].style.width||e.forceHelperSize)&&n.width(this.currentItem.width()),(""==n[0].style.height||e.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),d.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&d.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&d.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!=this.cssPosition)return{top:0,left:0};var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;if("parent"==t.containment&&(t.containment=this.helper[0].parentNode),"document"!=t.containment&&"window"!=t.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,d("document"==t.containment?document:window).width()-this.helperProportions.width-this.margins.left,(d("document"==t.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),!/^(document|window|parent)$/.test(t.containment)){var e=d(t.containment)[0],n=d(t.containment).offset(),i="hidden"!=d(e).css("overflow");this.containment=[n.left+(parseInt(d(e).css("borderLeftWidth"),10)||0)+(parseInt(d(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(d(e).css("borderTopWidth"),10)||0)+(parseInt(d(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(d(e).css("borderLeftWidth"),10)||0)-(parseInt(d(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(d(e).css("borderTopWidth"),10)||0)-(parseInt(d(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"==t?1:-1,i=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&d.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),r=/(html|body)/i.test(i[0].tagName);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"==this.cssPosition?-this.scrollParent.scrollTop():r?0:i.scrollTop())*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():r?0:i.scrollLeft())*n}},_generatePosition:function(t){var e=this.options,n="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&d.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(n[0].tagName);"relative"!=this.cssPosition||this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());var r=t.pageX,a=t.pageY;if(this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),e.grid)){var o=this.originalPageY+Math.round((a-this.originalPageY)/e.grid[1])*e.grid[1];a=this.containment&&(o-this.offset.click.top<this.containment[1]||o-this.offset.click.top>this.containment[3])?o-this.offset.click.top<this.containment[1]?o+e.grid[1]:o-e.grid[1]:o;var s=this.originalPageX+Math.round((r-this.originalPageX)/e.grid[0])*e.grid[0];r=this.containment&&(s-this.offset.click.left<this.containment[0]||s-this.offset.click.left>this.containment[2])?s-this.offset.click.left<this.containment[0]?s+e.grid[0]:s-e.grid[0]:s}return{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition?-this.scrollParent.scrollTop():i?0:n.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():i?0:n.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r==this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){this.reverting=!1;var n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(var i in this._storedCSS)"auto"!=this._storedCSS[i]&&"static"!=this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev==this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent==this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer))));for(i=this.containers.length-1;0<=i;i--)e||n.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over&&(n.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over=0);if(this._storedCursor&&d("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){this._trigger("beforeStop",t,this._uiHash());for(i=0;i<n.length;i++)n[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1}if(e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(i=0;i<n.length;i++)n[i].call(this,t);this._trigger("stop",t,this._uiHash())}return!(this.fromOutside=!1)},_trigger:function(){!1===d.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var e=t||this;return{helper:e.helper,placeholder:e.placeholder||d([]),position:e.position,originalPosition:e.originalPosition,offset:e.positionAbs,item:e.currentItem,sender:t?t.element:null}}})}(jQuery),jQuery.effects||function(y,t){var n,s=!1!==y.uiBackCompat,a="ui-effects-";y.effects={effect:{}},function(c,h){var u,t="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor".split(" "),d=/^([\-+])=\s*(\d+\.?\d*)/,e=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],p=c.Color=function(t,e,n,i){return new c.Color.fn.parse(t,e,n,i)},f={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},g={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},o=p.support={},n=c("<p>")[0],m=c.each;function v(t,e,n){var i=g[e.type]||{};return null==t?n||!e.def?null:e.def:(t=i.floor?~~t:parseFloat(t),isNaN(t)?e.def:i.mod?(t+i.mod)%i.mod:t<0?0:i.max<t?i.max:t)}function s(o){var s=p(),l=s._rgba=[];return o=o.toLowerCase(),m(e,function(t,e){var n,i=e.re.exec(o),r=i&&e.parse(i),a=e.space||"rgba";if(r)return n=s[a](r),s[f[a].cache]=n[f[a].cache],l=s._rgba=n._rgba,!1}),l.length?("0,0,0,0"===l.join()&&c.extend(l,u.transparent),s):u[o]}function l(t,e,n){return 6*(n=(n+1)%1)<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}n.style.cssText="background-color:rgba(1,1,1,.5)",o.rgba=-1<n.style.backgroundColor.indexOf("rgba"),m(f,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),p.fn=c.extend(p.prototype,{parse:function(r,t,e,n){if(r===h)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=c(r).css(t),t=h);var a=this,i=c.type(r),o=this._rgba=[];return t!==h&&(r=[r,t,e,n],i="array"),"string"===i?this.parse(s(r)||u._default):"array"===i?(m(f.rgba.props,function(t,e){o[e.idx]=v(r[e.idx],e)}),this):"object"===i?(m(f,r instanceof p?function(t,e){r[e.cache]&&(a[e.cache]=r[e.cache].slice())}:function(t,n){var i=n.cache;m(n.props,function(t,e){if(!a[i]&&n.to){if("alpha"===t||null==r[t])return;a[i]=n.to(a._rgba)}a[i][e.idx]=v(r[t],e,!0)}),a[i]&&y.inArray(null,a[i].slice(0,3))<0&&(a[i][3]=1,n.from&&(a._rgba=n.from(a[i])))}),this):void 0},is:function(t){var r=p(t),a=!0,o=this;return m(f,function(t,e){var n,i=r[e.cache];return i&&(n=o[e.cache]||e.to&&e.to(o._rgba)||[],m(e.props,function(t,e){if(null!=i[e.idx])return a=i[e.idx]===n[e.idx]})),a}),a},_space:function(){var n=[],i=this;return m(f,function(t,e){i[e.cache]&&n.push(t)}),n.pop()},transition:function(t,o){var s=p(t),e=s._space(),n=f[e],i=0===this.alpha()?p("transparent"):this,l=i[n.cache]||n.to(i._rgba),u=l.slice();return s=s[n.cache],m(n.props,function(t,e){var n=e.idx,i=l[n],r=s[n],a=g[e.type]||{};null!==r&&(u[n]=null===i?r:(a.mod&&(r-i>a.mod/2?i+=a.mod:i-r>a.mod/2&&(i-=a.mod)),v((r-i)*o+i,e)))}),this[e](u)},blend:function(t){if(1===this._rgba[3])return this;var e=this._rgba.slice(),n=e.pop(),i=p(t)._rgba;return p(c.map(e,function(t,e){return(1-n)*i[e]+n*t}))},toRgbaString:function(){var t="rgba(",e=c.map(this._rgba,function(t,e){return null==t?2<e?1:0:t});return 1===e[3]&&(e.pop(),t="rgb("),t+e.join()+")"},toHslaString:function(){var t="hsla(",e=c.map(this.hsla(),function(t,e){return null==t&&(t=2<e?1:0),e&&e<3&&(t=Math.round(100*t)+"%"),t});return 1===e[3]&&(e.pop(),t="hsl("),t+e.join()+")"},toHexString:function(t){var e=this._rgba.slice(),n=e.pop();return t&&e.push(~~(255*n)),"#"+c.map(e,function(t){return 1===(t=(t||0).toString(16)).length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),p.fn.parse.prototype=p.fn,f.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,n,i=t[0]/255,r=t[1]/255,a=t[2]/255,o=t[3],s=Math.max(i,r,a),l=Math.min(i,r,a),u=s-l,c=s+l,h=.5*c;return e=l===s?0:i===s?60*(r-a)/u+360:r===s?60*(a-i)/u+120:60*(i-r)/u+240,n=0===h||1===h?h:h<=.5?u/c:u/(2-c),[Math.round(e)%360,n,h,null==o?1:o]},f.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,n=t[1],i=t[2],r=t[3],a=i<=.5?i*(1+n):i+n-i*n,o=2*i-a;return[Math.round(255*l(o,a,e+1/3)),Math.round(255*l(o,a,e)),Math.round(255*l(o,a,e-1/3)),r]},m(f,function(l,t){var n=t.props,o=t.cache,s=t.to,u=t.from;p.fn[l]=function(t){if(s&&!this[o]&&(this[o]=s(this._rgba)),t===h)return this[o].slice();var e,i=c.type(t),r="array"===i||"object"===i?t:arguments,a=this[o].slice();return m(n,function(t,e){var n=r["object"===i?t:e.idx];null==n&&(n=a[e.idx]),a[e.idx]=v(n,e)}),u?((e=p(u(a)))[o]=a,e):p(a)},m(n,function(o,s){p.fn[o]||(p.fn[o]=function(t){var e,n=c.type(t),i="alpha"===o?this._hsla?"hsla":"rgba":l,r=this[i](),a=r[s.idx];return"undefined"===n?a:("function"===n&&(t=t.call(this,a),n=c.type(t)),null==t&&s.empty?this:("string"===n&&(e=d.exec(t))&&(t=a+parseFloat(e[2])*("+"===e[1]?1:-1)),r[s.idx]=t,this[i](r)))})})}),m(t,function(t,a){c.cssHooks[a]={set:function(t,e){var n,i,r="";if("string"!==c.type(e)||(n=s(e))){if(e=p(n||e),!o.rgba&&1!==e._rgba[3]){for(i="backgroundColor"===a?t.parentNode:t;(""===r||"transparent"===r)&&i&&i.style;)try{r=c.css(i,"backgroundColor"),i=i.parentNode}catch(t){}e=e.blend(r&&"transparent"!==r?r:"_default")}e=e.toRgbaString()}try{t.style[a]=e}catch(t){}}},c.fx.step[a]=function(t){t.colorInit||(t.start=p(t.elem,a),t.end=p(t.end),t.colorInit=!0),c.cssHooks[a].set(t.elem,t.start.transition(t.end,t.pos))}}),c.cssHooks.borderColor={expand:function(n){var i={};return m(["Top","Right","Bottom","Left"],function(t,e){i["border"+e+"Color"]=n}),i}},u=c.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){var o=["add","remove","toggle"],s={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function l(){var t,e,n=this.ownerDocument.defaultView?this.ownerDocument.defaultView.getComputedStyle(this,null):this.currentStyle,i={};if(n&&n.length&&n[0]&&n[n[0]])for(e=n.length;e--;)"string"==typeof n[t=n[e]]&&(i[y.camelCase(t)]=n[t]);else for(t in n)"string"==typeof n[t]&&(i[t]=n[t]);return i}y.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,e){y.fx.step[e]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(jQuery.style(t.elem,e,t.end),t.setAttr=!0)}}),y.effects.animateClass=function(r,t,e,n){var a=y.speed(t,e,n);return this.queue(function(){var t,n=y(this),e=n.attr("class")||"",i=a.children?n.find("*").andSelf():n;i=i.map(function(){return{el:y(this),start:l.call(this)}}),(t=function(){y.each(o,function(t,e){r[e]&&n[e+"Class"](r[e])})})(),i=i.map(function(){return this.end=l.call(this.el[0]),this.diff=function(t,e){var n,i,r={};for(n in e)i=e[n],t[n]!==i&&(s[n]||!y.fx.step[n]&&isNaN(parseFloat(i))||(r[n]=i));return r}(this.start,this.end),this}),n.attr("class",e),i=i.map(function(){var t=this,e=y.Deferred(),n=jQuery.extend({},a,{queue:!1,complete:function(){e.resolve(t)}});return this.el.animate(this.diff,n),e.promise()}),y.when.apply(y,i.get()).done(function(){t(),y.each(arguments,function(){var e=this.el;y.each(this.diff,function(t){e.css(t,"")})}),a.complete.call(n[0])})})},y.fn.extend({_addClass:y.fn.addClass,addClass:function(t,e,n,i){return e?y.effects.animateClass.call(this,{add:t},e,n,i):this._addClass(t)},_removeClass:y.fn.removeClass,removeClass:function(t,e,n,i){return e?y.effects.animateClass.call(this,{remove:t},e,n,i):this._removeClass(t)},_toggleClass:y.fn.toggleClass,toggleClass:function(t,e,n,i,r){return"boolean"==typeof e||void 0===e?n?y.effects.animateClass.call(this,e?{add:t}:{remove:t},n,i,r):this._toggleClass(t,e):y.effects.animateClass.call(this,{toggle:t},e,n,i)},switchClass:function(t,e,n,i,r){return y.effects.animateClass.call(this,{add:e,remove:t},n,i,r)}})}(),function(){function r(t,e,n,i){return y.isPlainObject(t)&&(t=(e=t).effect),t={effect:t},null==e&&(e={}),y.isFunction(e)&&(i=e,n=null,e={}),("number"==typeof e||y.fx.speeds[e])&&(i=n,n=e,e={}),y.isFunction(n)&&(i=n,n=null),e&&y.extend(t,e),n=n||e.duration,t.duration=y.fx.off?0:"number"==typeof n?n:n in y.fx.speeds?y.fx.speeds[n]:y.fx.speeds._default,t.complete=i||e.complete,t}function n(t){return!(t&&"number"!=typeof t&&!y.fx.speeds[t])||"string"==typeof t&&!y.effects.effect[t]&&(!s||!y.effects[t])}y.extend(y.effects,{version:"1.9.2",save:function(t,e){for(var n=0;n<e.length;n++)null!==e[n]&&t.data(a+e[n],t[0].style[e[n]])},restore:function(t,e){var n,i;for(i=0;i<e.length;i++)null!==e[i]&&(void 0===(n=t.data(a+e[i]))&&(n=""),t.css(e[i],n))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var n,i;switch(t[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=t[0]/e.height}switch(t[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=t[1]/e.width}return{x:i,y:n}},createWrapper:function(n){if(n.parent().is(".ui-effects-wrapper"))return n.parent();var i={width:n.outerWidth(!0),height:n.outerHeight(!0),float:n.css("float")},t=y("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e={width:n.width(),height:n.height()},r=document.activeElement;try{r.id}catch(t){r=document.body}return n.wrap(t),(n[0]===r||y.contains(n[0],r))&&y(r).focus(),t=n.parent(),"static"===n.css("position")?(t.css({position:"relative"}),n.css({position:"relative"})):(y.extend(i,{position:n.css("position"),zIndex:n.css("z-index")}),y.each(["top","left","bottom","right"],function(t,e){i[e]=n.css(e),isNaN(parseInt(i[e],10))&&(i[e]="auto")}),n.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),n.css(e),t.css(i).show()},removeWrapper:function(t){var e=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===e||y.contains(t[0],e))&&y(e).focus()),t},setTransition:function(i,t,r,a){return a=a||{},y.each(t,function(t,e){var n=i.cssUnit(e);0<n[0]&&(a[e]=n[0]*r+n[1])}),a}}),y.fn.extend({effect:function(){var a=r.apply(this,arguments),t=a.mode,e=a.queue,o=y.effects.effect[a.effect],n=!o&&s&&y.effects[a.effect];if(y.fx.off||!o&&!n)return t?this[t](a.duration,a.complete):this.each(function(){a.complete&&a.complete.call(this)});function i(t){var e=y(this),n=a.complete,i=a.mode;function r(){y.isFunction(n)&&n.call(e[0]),y.isFunction(t)&&t()}(e.is(":hidden")?"hide"===i:"show"===i)?r():o.call(e[0],a,r)}return o?!1===e?this.each(i):this.queue(e||"fx",i):n.call(this,{options:a,duration:a.duration,callback:a.complete,mode:a.mode})},_show:y.fn.show,show:function(t){if(n(t))return this._show.apply(this,arguments);var e=r.apply(this,arguments);return e.mode="show",this.effect.call(this,e)},_hide:y.fn.hide,hide:function(t){if(n(t))return this._hide.apply(this,arguments);var e=r.apply(this,arguments);return e.mode="hide",this.effect.call(this,e)},__toggle:y.fn.toggle,toggle:function(t){if(n(t)||"boolean"==typeof t||y.isFunction(t))return this.__toggle.apply(this,arguments);var e=r.apply(this,arguments);return e.mode="toggle",this.effect.call(this,e)},cssUnit:function(t){var n=this.css(t),i=[];return y.each(["em","px","%","pt"],function(t,e){0<n.indexOf(e)&&(i=[parseFloat(n),e])}),i}})}(),n={},y.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,t){n[t]=function(t){return Math.pow(t,e+2)}}),y.extend(n,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),y.each(n,function(t,e){y.easing["easeIn"+t]=e,y.easing["easeOut"+t]=function(t){return 1-e(1-t)},y.easing["easeInOut"+t]=function(t){return t<.5?e(2*t)/2:1-e(-2*t+2)/2}})}(jQuery),function(u,t){var e=0,d={},p={};d.height=d.paddingTop=d.paddingBottom=d.borderTopWidth=d.borderBottomWidth="hide",p.height=p.paddingTop=p.paddingBottom=p.borderTopWidth=p.borderBottomWidth="show",u.widget("ui.accordion",{version:"1.9.2",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var a=this.accordionId="ui-accordion-"+(this.element.attr("id")||++e),t=this.options;this.prevShow=this.prevHide=u(),this.element.addClass("ui-accordion ui-widget ui-helper-reset"),this.headers=this.element.find(t.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this._hoverable(this.headers),this._focusable(this.headers),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").hide(),t.collapsible||!1!==t.active&&null!=t.active||(t.active=0),t.active<0&&(t.active+=this.headers.length),this.active=this._findActive(t.active).addClass("ui-accordion-header-active ui-state-active").toggleClass("ui-corner-all ui-corner-top"),this.active.next().addClass("ui-accordion-content-active").show(),this._createIcons(),this.refresh(),this.element.attr("role","tablist"),this.headers.attr("role","tab").each(function(t){var e=u(this),n=e.attr("id"),i=e.next(),r=i.attr("id");n||(n=a+"-header-"+t,e.attr("id",n)),r||(r=a+"-panel-"+t,i.attr("id",r)),e.attr("aria-controls",r),i.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._on(this.headers,{keydown:"_keydown"}),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._setupEvents(t.event)},_getCreateEventData:function(){return{header:this.active,content:this.active.length?this.active.next():u()}},_createIcons:function(){var t=this.options.icons;t&&(u("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){"active"!==t?("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||!1!==this.options.active||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),"disabled"===t&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!e)):this._activate(e)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var e=u.ui.keyCode,n=this.headers.length,i=this.headers.index(t.target),r=!1;switch(t.keyCode){case e.RIGHT:case e.DOWN:r=this.headers[(i+1)%n];break;case e.LEFT:case e.UP:r=this.headers[(i-1+n)%n];break;case e.SPACE:case e.ENTER:this._eventHandler(t);break;case e.HOME:r=this.headers[0];break;case e.END:r=this.headers[n-1]}r&&(u(t.target).attr("tabIndex",-1),u(r).attr("tabIndex",0),r.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===u.ui.keyCode.UP&&t.ctrlKey&&u(t.currentTarget).prev().focus()},refresh:function(){var n,t,e=this.options.heightStyle,i=this.element.parent();"fill"===e?(u.support.minHeight||(t=i.css("overflow"),i.css("overflow","hidden")),n=i.height(),this.element.siblings(":visible").each(function(){var t=u(this),e=t.css("position");"absolute"!==e&&"fixed"!==e&&(n-=t.outerHeight(!0))}),t&&i.css("overflow",t),this.headers.each(function(){n-=u(this).outerHeight(!0)}),this.headers.next().each(function(){u(this).height(Math.max(0,n-u(this).innerHeight()+u(this).height()))}).css("overflow","auto")):"auto"===e&&(n=0,this.headers.next().each(function(){n=Math.max(n,u(this).css("height","").height())}).height(n))},_activate:function(t){var e=this._findActive(t)[0];e!==this.active[0]&&(e=e||this.active[0],this._eventHandler({target:e,currentTarget:e,preventDefault:u.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):u()},_setupEvents:function(t){var n={};t&&(u.each(t.split(" "),function(t,e){n[e]="_eventHandler"}),this._on(this.headers,n))},_eventHandler:function(t){var e=this.options,n=this.active,i=u(t.currentTarget),r=i[0]===n[0],a=r&&e.collapsible,o=a?u():i.next(),s=n.next(),l={oldHeader:n,oldPanel:s,newHeader:a?u():i,newPanel:o};t.preventDefault(),r&&!e.collapsible||!1===this._trigger("beforeActivate",t,l)||(e.active=!a&&this.headers.index(i),this.active=r?u():i,this._toggle(l),n.removeClass("ui-accordion-header-active ui-state-active"),e.icons&&n.children(".ui-accordion-header-icon").removeClass(e.icons.activeHeader).addClass(e.icons.header),r||(i.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),e.icons&&i.children(".ui-accordion-header-icon").removeClass(e.icons.header).addClass(e.icons.activeHeader),i.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var e=t.newPanel,n=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=e,this.prevHide=n,this.options.animate?this._animate(e,n,t):(n.hide(),e.show(),this._toggleComplete(t)),n.attr({"aria-expanded":"false","aria-hidden":"true"}),n.prev().attr("aria-selected","false"),e.length&&n.length?n.prev().attr("tabIndex",-1):e.length&&this.headers.filter(function(){return 0===u(this).attr("tabIndex")}).attr("tabIndex",-1),e.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(t,n,e){var i,r,a,o=this,s=0,l=t.length&&(!n.length||t.index()<n.index()),u=this.options.animate||{},c=l&&u.down||u,h=function(){o._toggleComplete(e)};return"number"==typeof c&&(a=c),"string"==typeof c&&(r=c),r=r||c.easing||u.easing,a=a||c.duration||u.duration,n.length?t.length?(i=t.show().outerHeight(),n.animate(d,{duration:a,easing:r,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(p,{duration:a,easing:r,complete:h,step:function(t,e){e.now=Math.round(t),"height"!==e.prop?s+=e.now:"content"!==o.options.heightStyle&&(e.now=Math.round(i-n.outerHeight()-s),s=0)}})):n.animate(d,a,r,h):t.animate(p,a,r,h)},_toggleComplete:function(t){var e=t.oldPanel;e.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),!1!==u.uiBackCompat&&(function(r,t){r.extend(t.options,{navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}});var a=t._create;t._create=function(){if(this.options.navigation){var e=this,t=this.element.find(this.options.header),n=t.next(),i=t.add(n).find("a").filter(this.options.navigationFilter)[0];i&&t.add(n).each(function(t){if(r.contains(this,i))return e.options.active=Math.floor(t/2),!1})}a.call(this)}}(jQuery,jQuery.ui.accordion.prototype),function(t,e){t.extend(e.options,{heightStyle:null,autoHeight:!0,clearStyle:!1,fillSpace:!1});var n=e._create,i=e._setOption;t.extend(e,{_create:function(){this.options.heightStyle=this.options.heightStyle||this._mergeHeightStyle(),n.call(this)},_setOption:function(t){"autoHeight"!==t&&"clearStyle"!==t&&"fillSpace"!==t||(this.options.heightStyle=this._mergeHeightStyle()),i.apply(this,arguments)},_mergeHeightStyle:function(){var t=this.options;return t.fillSpace?"fill":t.clearStyle?"content":t.autoHeight?"auto":void 0}})}(jQuery,jQuery.ui.accordion.prototype),function(t,e){t.extend(e.options.icons,{activeHeader:null,headerSelected:"ui-icon-triangle-1-s"});var n=e._createIcons;e._createIcons=function(){this.options.icons&&(this.options.icons.activeHeader=this.options.icons.activeHeader||this.options.icons.headerSelected),n.call(this)}}(jQuery,jQuery.ui.accordion.prototype),function(t,e){e.activate=e._activate;var n=e._findActive;e._findActive=function(t){return-1===t&&(t=!1),t&&"number"!=typeof t&&-1===(t=this.headers.index(this.headers.filter(t)))&&(t=!1),n.call(this,t)}}(jQuery,jQuery.ui.accordion.prototype),jQuery.ui.accordion.prototype.resize=jQuery.ui.accordion.prototype.refresh,function(t,e){t.extend(e.options,{change:null,changestart:null});var r=e._trigger;e._trigger=function(t,e,n){var i=r.apply(this,arguments);return!!i&&("beforeActivate"===t?i=r.call(this,"changestart",e,{oldHeader:n.oldHeader,oldContent:n.oldPanel,newHeader:n.newHeader,newContent:n.newPanel}):"activate"===t&&(i=r.call(this,"change",e,{oldHeader:n.oldHeader,oldContent:n.oldPanel,newHeader:n.newHeader,newContent:n.newPanel})),i)}}(jQuery,jQuery.ui.accordion.prototype),function(t,e){t.extend(e.options,{animate:null,animated:"slide"});var n=e._create;e._create=function(){var t=this.options;null===t.animate&&(t.animated?"slide"===t.animated?t.animate=300:"bounceslide"===t.animated?t.animate={duration:200,down:{easing:"easeOutBounce",duration:1e3}}:t.animate=t.animated:t.animate=!1),n.call(this)}}(jQuery,jQuery.ui.accordion.prototype))}(jQuery),function(a,t){var i=0;a.widget("ui.autocomplete",{version:"1.9.2",defaultElement:"<input>",options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var n,i,r;this.isMultiLine=this._isMultiLine(),this.valueMethod=this.element[this.element.is("input,textarea")?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(t){if(this.element.prop("readOnly"))i=r=n=!0;else{i=r=n=!1;var e=a.ui.keyCode;switch(t.keyCode){case e.PAGE_UP:n=!0,this._move("previousPage",t);break;case e.PAGE_DOWN:n=!0,this._move("nextPage",t);break;case e.UP:n=!0,this._keyEvent("previous",t);break;case e.DOWN:n=!0,this._keyEvent("next",t);break;case e.ENTER:case e.NUMPAD_ENTER:this.menu.active&&(n=!0,t.preventDefault(),this.menu.select(t));break;case e.TAB:this.menu.active&&this.menu.select(t);break;case e.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(t),t.preventDefault());break;default:i=!0,this._searchTimeout(t)}}},keypress:function(t){if(n)return n=!1,void t.preventDefault();if(!i){var e=a.ui.keyCode;switch(t.keyCode){case e.PAGE_UP:this._move("previousPage",t);break;case e.PAGE_DOWN:this._move("nextPage",t);break;case e.UP:this._keyEvent("previous",t);break;case e.DOWN:this._keyEvent("next",t)}}},input:function(t){if(r)return r=!1,void t.preventDefault();this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),this._change(t))}}),this._initSource(),this.menu=a("<ul>").addClass("ui-autocomplete").appendTo(this.document.find(this.options.appendTo||"body")[0]).menu({input:a(),role:null}).zIndex(this.element.zIndex()+1).hide().data("menu"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var n=this.menu.element[0];a(t.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;this.document.one("mousedown",function(t){t.target===e.element[0]||t.target===n||a.contains(n,t.target)||e.close()})})},menufocus:function(t,e){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){a(t.target).trigger(t.originalEvent)});var n=e.item.data("ui-autocomplete-item")||e.item.data("item.autocomplete");!1!==this._trigger("focus",t,{item:n})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(n.value):this.liveRegion.text(n.value)},menuselect:function(t,e){var n=e.item.data("ui-autocomplete-item")||e.item.data("item.autocomplete"),i=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i,this.selectedItem=n})),!1!==this._trigger("select",t,{item:n})&&this._value(n.value),this.term=this._value(),this.close(t),this.selectedItem=n}}),this.liveRegion=a("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element),a.fn.bgiframe&&this.menu.element.bgiframe(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this.document.find(e||"body")[0]),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isMultiLine:function(){return!!this.element.is("textarea")||!this.element.is("input")&&this.element.prop("isContentEditable")},_initSource:function(){var n,i,r=this;a.isArray(this.options.source)?(n=this.options.source,this.source=function(t,e){e(a.ui.autocomplete.filter(n,t.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,e){r.xhr&&r.xhr.abort(),r.xhr=a.ajax({url:i,data:t,dataType:"json",success:function(t){e(t)},error:function(){e([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=this,n=++i;return function(t){n===i&&e.__response(t),e.pending--,e.pending||e.element.removeClass("ui-autocomplete-loading")}},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:a.map(t,function(t){return"string"==typeof t?{label:t,value:t}:a.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var e=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(e,t),this.menu.refresh(),e.show(),this._resizeMenu(),e.position(a.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(n,t){var i=this;a.each(t,function(t,e){i._renderItemData(n,e)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(t,e){return a("<li>").append(a("<a>").text(e.label)).appendTo(t)},_move:function(t,e){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this._value(this.term),void this.menu.blur()):void this.menu[t](e);this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())}}),a.extend(a.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,e){var n=new RegExp(a.ui.autocomplete.escapeRegex(e),"i");return a.grep(t,function(t){return n.test(t.label||t.value||t)})}}),a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(1<t?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var e;this._superApply(arguments),this.options.disabled||this.cancelSearch||(e=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.text(e))}})}(jQuery),function(a,t){var o,s,l,u,c="ui-button ui-widget ui-state-default ui-corner-all",h="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",d=function(){var t=a(this).find(":ui-button");setTimeout(function(){t.button("refresh")},1)},p=function(t){var e=t.name,n=t.form,i=a([]);return e&&(i=n?a(n).find("[name='"+e+"']"):a("[name='"+e+"']",t.ownerDocument).filter(function(){return!this.form})),i};a.widget("ui.button",{version:"1.9.2",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,d),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var e=this,n=this.options,t="checkbox"===this.type||"radio"===this.type,i=t?"":"ui-state-active",r="ui-state-focus";null===n.label&&(n.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(c).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){n.disabled||this===o&&a(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){n.disabled||a(this).removeClass(i)}).bind("click"+this.eventNamespace,function(t){n.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){e.buttonElement.addClass(r)}).bind("blur"+this.eventNamespace,function(){e.buttonElement.removeClass(r)}),t&&(this.element.bind("change"+this.eventNamespace,function(){u||e.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(t){n.disabled||(u=!1,s=t.pageX,l=t.pageY)}).bind("mouseup"+this.eventNamespace,function(t){n.disabled||s===t.pageX&&l===t.pageY||(u=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(n.disabled||u)return!1;a(this).toggleClass("ui-state-active"),e.buttonElement.attr("aria-pressed",e.element[0].checked)}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(n.disabled||u)return!1;a(this).addClass("ui-state-active"),e.buttonElement.attr("aria-pressed","true");var t=e.element[0];p(t).not(t).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(n.disabled)return!1;a(this).addClass("ui-state-active"),o=this,e.document.one("mouseup",function(){o=null})}).bind("mouseup"+this.eventNamespace,function(){if(n.disabled)return!1;a(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(t){if(n.disabled)return!1;t.keyCode!==a.ui.keyCode.SPACE&&t.keyCode!==a.ui.keyCode.ENTER||a(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace,function(){a(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===a.ui.keyCode.SPACE&&a(this).click()})),this._setOption("disabled",n.disabled),this._resetButton()},_determineButtonType:function(){var t,e,n;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),(n=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",n)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(c+" ui-state-hover ui-state-active  "+h).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(t,e){this._super(t,e),"disabled"!==t?this._resetButton():e?this.element.prop("disabled",!0):this.element.prop("disabled",!1)},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?p(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"!==this.type){var t=this.buttonElement.removeClass(h),e=a("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),n=this.options.icons,i=n.primary&&n.secondary,r=[];n.primary||n.secondary?(this.options.text&&r.push("ui-button-text-icon"+(i?"s":n.primary?"-primary":"-secondary")),n.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(r.push(i?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",a.trim(e)))):r.push("ui-button-text-only"),t.addClass(r.join(" "))}else this.options.label&&this.element.val(this.options.label)}}),a.widget("ui.buttonset",{version:"1.9.2",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var t="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function($,undefined){$.extend($.ui,{datepicker:{version:"1.9.2"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function bindHover(t){var e="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(e,"mouseout",function(){$(this).removeClass("ui-state-hover"),-1!=this.className.indexOf("ui-datepicker-prev")&&$(this).removeClass("ui-datepicker-prev-hover"),-1!=this.className.indexOf("ui-datepicker-next")&&$(this).removeClass("ui-datepicker-next-hover")}).delegate(e,"mouseover",function(){$.datepicker._isDisabledDatepicker(instActive.inline?t.parent()[0]:instActive.input[0])||($(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),$(this).addClass("ui-state-hover"),-1!=this.className.indexOf("ui-datepicker-prev")&&$(this).addClass("ui-datepicker-prev-hover"),-1!=this.className.indexOf("ui-datepicker-next")&&$(this).addClass("ui-datepicker-next-hover"))})}function extendRemove(t,e){for(var n in $.extend(t,e),e)null!=e[n]&&e[n]!=undefined||(t[n]=e[n]);return t}$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return extendRemove(this._defaults,t||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(t){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline="div"==nodeName||"span"==nodeName;target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),"input"==nodeName?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(t,e){return{id:t[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:e,dpDiv:e?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(t,i){var e=$(t);i.append=$([]),i.trigger=$([]),e.hasClass(this.markerClassName)||(this._attachments(e,i),e.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(t,e,n){i.settings[e]=n}).bind("getData.datepicker",function(t,e){return this._get(i,e)}),this._autoSize(i),$.data(t,PROP_NAME,i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,e){var n=this._get(e,"appendText"),i=this._get(e,"isRTL");e.append&&e.append.remove(),n&&(e.append=$('<span class="'+this._appendClass+'">'+n+"</span>"),t[i?"before":"after"](e.append)),t.unbind("focus",this._showDatepicker),e.trigger&&e.trigger.remove();var r=this._get(e,"showOn");if("focus"!=r&&"both"!=r||t.focus(this._showDatepicker),"button"==r||"both"==r){var a=this._get(e,"buttonText"),o=this._get(e,"buttonImage");e.trigger=$(this._get(e,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:o,alt:a,title:a}):$('<button type="button"></button>').addClass(this._triggerClass).html(""==o?a:$("<img/>").attr({src:o,alt:a,title:a}))),t[i?"before":"after"](e.trigger),e.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==t[0]?$.datepicker._hideDatepicker():($.datepicker._datepickerShowing&&$.datepicker._lastInput!=t[0]&&$.datepicker._hideDatepicker(),$.datepicker._showDatepicker(t[0])),!1})}},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e=new Date(2009,11,20),n=this._get(t,"dateFormat");if(n.match(/[DM]/)){var i=function(t){for(var e=0,n=0,i=0;i<t.length;i++)t[i].length>e&&(e=t[i].length,n=i);return n};e.setMonth(i(this._get(t,n.match(/MM/)?"monthNames":"monthNamesShort"))),e.setDate(i(this._get(t,n.match(/DD/)?"dayNames":"dayNamesShort"))+20-e.getDay())}t.input.attr("size",this._formatDate(t,e).length)}},_inlineDatepicker:function(t,i){var e=$(t);e.hasClass(this.markerClassName)||(e.addClass(this.markerClassName).append(i.dpDiv).bind("setData.datepicker",function(t,e,n){i.settings[e]=n}).bind("getData.datepicker",function(t,e){return this._get(i,e)}),$.data(t,PROP_NAME,i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,e,n,i,r){var a=this._dialogInst;if(!a){this.uuid+=1;var o="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+o+'" style="position: absolute; top: -100px; width: 0px;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),(a=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},$.data(this._dialogInput[0],PROP_NAME,a)}if(extendRemove(a.settings,i||{}),e=e&&e.constructor==Date?this._formatDate(a,e):e,this._dialogInput.val(e),this._pos=r?r.length?r:[r.pageX,r.pageY]:null,!this._pos){var s=document.documentElement.clientWidth,l=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,c=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[s/2-100+u,l/2-150+c]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),a.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,a),this},_destroyDatepicker:function(t){var e=$(t),n=$.data(t,PROP_NAME);if(e.hasClass(this.markerClassName)){var i=t.nodeName.toLowerCase();$.removeData(t,PROP_NAME),"input"==i?(n.append.remove(),n.trigger.remove(),e.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!=i&&"span"!=i||e.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(e){var t=$(e),n=$.data(e,PROP_NAME);if(t.hasClass(this.markerClassName)){var i=e.nodeName.toLowerCase();if("input"==i)e.disabled=!1,n.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"==i||"span"==i){var r=t.children("."+this._inlineClass);r.children().removeClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)}this._disabledInputs=$.map(this._disabledInputs,function(t){return t==e?null:t})}},_disableDatepicker:function(e){var t=$(e),n=$.data(e,PROP_NAME);if(t.hasClass(this.markerClassName)){var i=e.nodeName.toLowerCase();if("input"==i)e.disabled=!0,n.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"==i||"span"==i){var r=t.children("."+this._inlineClass);r.children().addClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)}this._disabledInputs=$.map(this._disabledInputs,function(t){return t==e?null:t}),this._disabledInputs[this._disabledInputs.length]=e}},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]==t)return!0;return!1},_getInst:function(t){try{return $.data(t,PROP_NAME)}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,e,n){var i=this._getInst(t);if(2==arguments.length&&"string"==typeof e)return"defaults"==e?$.extend({},$.datepicker._defaults):i?"all"==e?$.extend({},i.settings):this._get(i,e):null;var r=e||{};if("string"==typeof e&&((r={})[e]=n),i){this._curInst==i&&this._hideDatepicker();var a=this._getDateDatepicker(t,!0),o=this._getMinMaxDate(i,"min"),s=this._getMinMaxDate(i,"max");extendRemove(i.settings,r),null!==o&&r.dateFormat!==undefined&&r.minDate===undefined&&(i.settings.minDate=this._formatDate(i,o)),null!==s&&r.dateFormat!==undefined&&r.maxDate===undefined&&(i.settings.maxDate=this._formatDate(i,s)),this._attachments($(t),i),this._autoSize(i),this._setDate(i,a),this._updateAlternate(i),this._updateDatepicker(i)}},_changeDatepicker:function(t,e,n){this._optionDatepicker(t,e,n)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var n=this._getInst(t);n&&(this._setDate(n,e),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(t,e){var n=this._getInst(t);return n&&!n.inline&&this._setDateFromField(n,e),n?this._getDate(n):null},_doKeyDown:function(t){var e=$.datepicker._getInst(t.target),n=!0,i=e.dpDiv.is(".ui-datepicker-rtl");if(e._keyEvent=!0,$.datepicker._datepickerShowing)switch(t.keyCode){case 9:$.datepicker._hideDatepicker(),n=!1;break;case 13:var r=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",e.dpDiv);r[0]&&$.datepicker._selectDay(t.target,e.selectedMonth,e.selectedYear,r[0]);var a=$.datepicker._get(e,"onSelect");if(a){var o=$.datepicker._formatDate(e);a.apply(e.input?e.input[0]:null,[o,e])}else $.datepicker._hideDatepicker();return!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(t.target,t.ctrlKey?-$.datepicker._get(e,"stepBigMonths"):-$.datepicker._get(e,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(t.target,t.ctrlKey?+$.datepicker._get(e,"stepBigMonths"):+$.datepicker._get(e,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&$.datepicker._clearDate(t.target),n=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&$.datepicker._gotoToday(t.target),n=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,i?1:-1,"D"),n=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&$.datepicker._adjustDate(t.target,t.ctrlKey?-$.datepicker._get(e,"stepBigMonths"):-$.datepicker._get(e,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,-7,"D"),n=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,i?-1:1,"D"),n=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&$.datepicker._adjustDate(t.target,t.ctrlKey?+$.datepicker._get(e,"stepBigMonths"):+$.datepicker._get(e,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,7,"D"),n=t.ctrlKey||t.metaKey;break;default:n=!1}else 36==t.keyCode&&t.ctrlKey?$.datepicker._showDatepicker(this):n=!1;n&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var e=$.datepicker._getInst(t.target);if($.datepicker._get(e,"constrainInput")){var n=$.datepicker._possibleChars($.datepicker._get(e,"dateFormat")),i=String.fromCharCode(t.charCode==undefined?t.keyCode:t.charCode);return t.ctrlKey||t.metaKey||i<" "||!n||-1<n.indexOf(i)}},_doKeyUp:function(t){var e=$.datepicker._getInst(t.target);if(e.input.val()!=e.lastVal)try{$.datepicker.parseDate($.datepicker._get(e,"dateFormat"),e.input?e.input.val():null,$.datepicker._getFormatConfig(e))&&($.datepicker._setDateFromField(e),$.datepicker._updateAlternate(e),$.datepicker._updateDatepicker(e))}catch(t){$.datepicker.log(t)}return!0},_showDatepicker:function(t){if("input"!=(t=t.target||t).nodeName.toLowerCase()&&(t=$("input",t.parentNode)[0]),!$.datepicker._isDisabledDatepicker(t)&&$.datepicker._lastInput!=t){var n=$.datepicker._getInst(t);$.datepicker._curInst&&$.datepicker._curInst!=n&&($.datepicker._curInst.dpDiv.stop(!0,!0),n&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var e=$.datepicker._get(n,"beforeShow"),i=e?e.apply(t,[t,n]):{};if(!1!==i){extendRemove(n.settings,i),n.lastVal=null,$.datepicker._lastInput=t,$.datepicker._setDateFromField(n),$.datepicker._inDialog&&(t.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(t),$.datepicker._pos[1]+=t.offsetHeight);var r=!1;$(t).parents().each(function(){return!(r|="fixed"==$(this).css("position"))});var a={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};if($.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(n),a=$.datepicker._checkOffset(n,a,r),n.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":r?"fixed":"absolute",display:"none",left:a.left+"px",top:a.top+"px"}),!n.inline){var o=$.datepicker._get(n,"showAnim"),s=$.datepicker._get(n,"duration"),l=function(){var t=n.dpDiv.find("iframe.ui-datepicker-cover");if(t.length){var e=$.datepicker._getBorders(n.dpDiv);t.css({left:-e[0],top:-e[1],width:n.dpDiv.outerWidth(),height:n.dpDiv.outerHeight()})}};n.dpDiv.zIndex($(t).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&($.effects.effect[o]||$.effects[o])?n.dpDiv.show(o,$.datepicker._get(n,"showOptions"),s,l):n.dpDiv[o||"show"](o?s:null,l),o&&s||l(),n.input.is(":visible")&&!n.input.is(":disabled")&&n.input.focus(),$.datepicker._curInst=n}}}},_updateDatepicker:function(t){this.maxRows=4;var e=$.datepicker._getBorders(t.dpDiv);(instActive=t).dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var n=t.dpDiv.find("iframe.ui-datepicker-cover");n.length&&n.css({left:-e[0],top:-e[1],width:t.dpDiv.outerWidth(),height:t.dpDiv.outerHeight()}),t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var i=this._getNumberOfMonths(t),r=i[1];if(t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),1<r&&t.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",17*r+"em"),t.dpDiv[(1!=i[0]||1!=i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t==$.datepicker._curInst&&$.datepicker._datepickerShowing&&t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&t.input[0]!=document.activeElement&&t.input.focus(),t.yearshtml){var a=t.yearshtml;setTimeout(function(){a===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),a=t.yearshtml=null},0)}},_getBorders:function(t){var e=function(t){return{thin:1,medium:2,thick:3}[t]||t};return[parseFloat(e(t.css("border-left-width"))),parseFloat(e(t.css("border-top-width")))]},_checkOffset:function(t,e,n){var i=t.dpDiv.outerWidth(),r=t.dpDiv.outerHeight(),a=t.input?t.input.outerWidth():0,o=t.input?t.input.outerHeight():0,s=document.documentElement.clientWidth+(n?0:$(document).scrollLeft()),l=document.documentElement.clientHeight+(n?0:$(document).scrollTop());return e.left-=this._get(t,"isRTL")?i-a:0,e.left-=n&&e.left==t.input.offset().left?$(document).scrollLeft():0,e.top-=n&&e.top==t.input.offset().top+o?$(document).scrollTop():0,e.left-=Math.min(e.left,e.left+i>s&&i<s?Math.abs(e.left+i-s):0),e.top-=Math.min(e.top,e.top+r>l&&r<l?Math.abs(r+o):0),e},_findPos:function(t){for(var e=this._getInst(t),n=this._get(e,"isRTL");t&&("hidden"==t.type||1!=t.nodeType||$.expr.filters.hidden(t));)t=t[n?"previousSibling":"nextSibling"];var i=$(t).offset();return[i.left,i.top]},_hideDatepicker:function(t){var e=this._curInst;if(e&&(!t||e==$.data(t,PROP_NAME))&&this._datepickerShowing){var n=this._get(e,"showAnim"),i=this._get(e,"duration"),r=function(){$.datepicker._tidyDialog(e)};$.effects&&($.effects.effect[n]||$.effects[n])?e.dpDiv.hide(n,$.datepicker._get(e,"showOptions"),i,r):e.dpDiv["slideDown"==n?"slideUp":"fadeIn"==n?"fadeOut":"hide"](n?i:null,r),n||r(),this._datepickerShowing=!1;var a=this._get(e,"onClose");a&&a.apply(e.input?e.input[0]:null,[e.input?e.input.val():"",e]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if($.datepicker._curInst){var e=$(t.target),n=$.datepicker._getInst(e[0]);(e[0].id==$.datepicker._mainDivId||0!=e.parents("#"+$.datepicker._mainDivId).length||e.hasClass($.datepicker.markerClassName)||e.closest("."+$.datepicker._triggerClass).length||!$.datepicker._datepickerShowing||$.datepicker._inDialog&&$.blockUI)&&(!e.hasClass($.datepicker.markerClassName)||$.datepicker._curInst==n)||$.datepicker._hideDatepicker()}},_adjustDate:function(t,e,n){var i=$(t),r=this._getInst(i[0]);this._isDisabledDatepicker(i[0])||(this._adjustInstDate(r,e+("M"==n?this._get(r,"showCurrentAtPos"):0),n),this._updateDatepicker(r))},_gotoToday:function(t){var e=$(t),n=this._getInst(e[0]);if(this._get(n,"gotoCurrent")&&n.currentDay)n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear;else{var i=new Date;n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()}this._notifyChange(n),this._adjustDate(e)},_selectMonthYear:function(t,e,n){var i=$(t),r=this._getInst(i[0]);r["selected"+("M"==n?"Month":"Year")]=r["draw"+("M"==n?"Month":"Year")]=parseInt(e.options[e.selectedIndex].value,10),this._notifyChange(r),this._adjustDate(i)},_selectDay:function(t,e,n,i){var r=$(t);if(!$(i).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(r[0])){var a=this._getInst(r[0]);a.selectedDay=a.currentDay=$("a",i).html(),a.selectedMonth=a.currentMonth=e,a.selectedYear=a.currentYear=n,this._selectDate(t,this._formatDate(a,a.currentDay,a.currentMonth,a.currentYear))}},_clearDate:function(t){var e=$(t);this._getInst(e[0]);this._selectDate(e,"")},_selectDate:function(t,e){var n=$(t),i=this._getInst(n[0]);e=null!=e?e:this._formatDate(i),i.input&&i.input.val(e),this._updateAlternate(i);var r=this._get(i,"onSelect");r?r.apply(i.input?i.input[0]:null,[e,i]):i.input&&i.input.trigger("change"),i.inline?this._updateDatepicker(i):(this._hideDatepicker(),this._lastInput=i.input[0],"object"!=typeof i.input[0]&&i.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var e=this._get(t,"altField");if(e){var n=this._get(t,"altFormat")||this._get(t,"dateFormat"),i=this._getDate(t),r=this.formatDate(n,i,this._getFormatConfig(t));$(e).each(function(){$(this).val(r)})}},noWeekends:function(t){var e=t.getDay();return[0<e&&e<6,""]},iso8601Week:function(t){var e=new Date(t.getTime());e.setDate(e.getDate()+4-(e.getDay()||7));var n=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((n-e)/864e5)/7)+1},parseDate:function(n,a,t){if(null==n||null==a)throw"Invalid arguments";if(""==(a="object"==typeof a?a.toString():a+""))return null;var e=(t?t.shortYearCutoff:null)||this._defaults.shortYearCutoff;e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10);for(var i=(t?t.dayNamesShort:null)||this._defaults.dayNamesShort,r=(t?t.dayNames:null)||this._defaults.dayNames,o=(t?t.monthNamesShort:null)||this._defaults.monthNamesShort,s=(t?t.monthNames:null)||this._defaults.monthNames,l=-1,u=-1,c=-1,h=-1,d=!1,p=function(t){var e=y+1<n.length&&n.charAt(y+1)==t;return e&&y++,e},f=function(t){var e=p(t),n=new RegExp("^\\d{1,"+("@"==t?14:"!"==t?20:"y"==t&&e?4:"o"==t?3:2)+"}"),i=a.substring(v).match(n);if(!i)throw"Missing number at position "+v;return v+=i[0].length,parseInt(i[0],10)},g=function(t,e,n){var i=$.map(p(t)?n:e,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)}),r=-1;if($.each(i,function(t,e){var n=e[1];if(a.substr(v,n.length).toLowerCase()==n.toLowerCase())return r=e[0],v+=n.length,!1}),-1!=r)return r+1;throw"Unknown name at position "+v},m=function(){if(a.charAt(v)!=n.charAt(y))throw"Unexpected literal at position "+v;v++},v=0,y=0;y<n.length;y++)if(d)"'"!=n.charAt(y)||p("'")?m():d=!1;else switch(n.charAt(y)){case"d":c=f("d");break;case"D":g("D",i,r);break;case"o":h=f("o");break;case"m":u=f("m");break;case"M":u=g("M",o,s);break;case"y":l=f("y");break;case"@":l=(b=new Date(f("@"))).getFullYear(),u=b.getMonth()+1,c=b.getDate();break;case"!":var b;l=(b=new Date((f("!")-this._ticksTo1970)/1e4)).getFullYear(),u=b.getMonth()+1,c=b.getDate();break;case"'":p("'")?m():d=!0;break;default:m()}if(v<a.length){var _=a.substr(v);if(!/^\s+/.test(_))throw"Extra/unparsed characters found in date: "+_}if(-1==l?l=(new Date).getFullYear():l<100&&(l+=(new Date).getFullYear()-(new Date).getFullYear()%100+(l<=e?0:-100)),-1<h)for(u=1,c=h;;){var w=this._getDaysInMonth(l,u-1);if(c<=w)break;u++,c-=w}if((b=this._daylightSavingAdjust(new Date(l,u-1,c))).getFullYear()!=l||b.getMonth()+1!=u||b.getDate()!=c)throw"Invalid date";return b},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(n,t,e){if(!t)return"";var i=(e?e.dayNamesShort:null)||this._defaults.dayNamesShort,r=(e?e.dayNames:null)||this._defaults.dayNames,a=(e?e.monthNamesShort:null)||this._defaults.monthNamesShort,o=(e?e.monthNames:null)||this._defaults.monthNames,s=function(t){var e=d+1<n.length&&n.charAt(d+1)==t;return e&&d++,e},l=function(t,e,n){var i=""+e;if(s(t))for(;i.length<n;)i="0"+i;return i},u=function(t,e,n,i){return s(t)?i[e]:n[e]},c="",h=!1;if(t)for(var d=0;d<n.length;d++)if(h)"'"!=n.charAt(d)||s("'")?c+=n.charAt(d):h=!1;else switch(n.charAt(d)){case"d":c+=l("d",t.getDate(),2);break;case"D":c+=u("D",t.getDay(),i,r);break;case"o":c+=l("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":c+=l("m",t.getMonth()+1,2);break;case"M":c+=u("M",t.getMonth(),a,o);break;case"y":c+=s("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":c+=t.getTime();break;case"!":c+=1e4*t.getTime()+this._ticksTo1970;break;case"'":s("'")?c+="'":h=!0;break;default:c+=n.charAt(d)}return c},_possibleChars:function(n){for(var t="",e=!1,i=function(t){var e=r+1<n.length&&n.charAt(r+1)==t;return e&&r++,e},r=0;r<n.length;r++)if(e)"'"!=n.charAt(r)||i("'")?t+=n.charAt(r):e=!1;else switch(n.charAt(r)){case"d":case"m":case"y":case"@":t+="0123456789";break;case"D":case"M":return null;case"'":i("'")?t+="'":e=!0;break;default:t+=n.charAt(r)}return t},_get:function(t,e){return t.settings[e]!==undefined?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!=t.lastVal){var n,i,r=this._get(t,"dateFormat"),a=t.lastVal=t.input?t.input.val():null;n=i=this._getDefaultDate(t);var o=this._getFormatConfig(t);try{n=this.parseDate(r,a,o)||i}catch(t){this.log(t),a=e?"":a}t.selectedDay=n.getDate(),t.drawMonth=t.selectedMonth=n.getMonth(),t.drawYear=t.selectedYear=n.getFullYear(),t.currentDay=a?n.getDate():0,t.currentMonth=a?n.getMonth():0,t.currentYear=a?n.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(s,t,e){var n,i,r=null==t||""===t?e:"string"==typeof t?function(t){try{return $.datepicker.parseDate($.datepicker._get(s,"dateFormat"),t,$.datepicker._getFormatConfig(s))}catch(t){}for(var e=(t.toLowerCase().match(/^c/)?$.datepicker._getDate(s):null)||new Date,n=e.getFullYear(),i=e.getMonth(),r=e.getDate(),a=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,o=a.exec(t);o;){switch(o[2]||"d"){case"d":case"D":r+=parseInt(o[1],10);break;case"w":case"W":r+=7*parseInt(o[1],10);break;case"m":case"M":i+=parseInt(o[1],10),r=Math.min(r,$.datepicker._getDaysInMonth(n,i));break;case"y":case"Y":n+=parseInt(o[1],10),r=Math.min(r,$.datepicker._getDaysInMonth(n,i))}o=a.exec(t)}return new Date(n,i,r)}(t):"number"==typeof t?isNaN(t)?e:(n=t,(i=new Date).setDate(i.getDate()+n),i):new Date(t.getTime());return(r=r&&"Invalid Date"==r.toString()?e:r)&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(t){return t?(t.setHours(12<t.getHours()?t.getHours()+2:0),t):null},_setDate:function(t,e,n){var i=!e,r=t.selectedMonth,a=t.selectedYear,o=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=o.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=o.getMonth(),t.drawYear=t.selectedYear=t.currentYear=o.getFullYear(),r==t.selectedMonth&&a==t.selectedYear||n||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(i?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""==t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(t){var e=this._get(t,"stepMonths"),n="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(n,-e,"M")},next:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(n,+e,"M")},hide:function(){window["DP_jQuery_"+dpuuid].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+dpuuid].datepicker._gotoToday(n)},selectDay:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(n,this,"Y"),!1}};$(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e=new Date;e=this._daylightSavingAdjust(new Date(e.getFullYear(),e.getMonth(),e.getDate()));var n=this._get(t,"isRTL"),i=this._get(t,"showButtonPanel"),r=this._get(t,"hideIfNoPrevNext"),a=this._get(t,"navigationAsDateFormat"),o=this._getNumberOfMonths(t),s=this._get(t,"showCurrentAtPos"),l=this._get(t,"stepMonths"),u=1!=o[0]||1!=o[1],c=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),h=this._getMinMaxDate(t,"min"),d=this._getMinMaxDate(t,"max"),p=t.drawMonth-s,f=t.drawYear;if(p<0&&(p+=12,f--),d){var g=this._daylightSavingAdjust(new Date(d.getFullYear(),d.getMonth()-o[0]*o[1]+1,d.getDate()));for(g=h&&g<h?h:g;this._daylightSavingAdjust(new Date(f,p,1))>g;)--p<0&&(p=11,f--)}t.drawMonth=p,t.drawYear=f;var m=this._get(t,"prevText");m=a?this.formatDate(m,this._daylightSavingAdjust(new Date(f,p-l,1)),this._getFormatConfig(t)):m;var v=this._canAdjustMonth(t,-1,f,p)?'<a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click" title="'+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"e":"w")+'">'+m+"</span></a>":r?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"e":"w")+'">'+m+"</span></a>",y=this._get(t,"nextText");y=a?this.formatDate(y,this._daylightSavingAdjust(new Date(f,p+l,1)),this._getFormatConfig(t)):y;var b=this._canAdjustMonth(t,1,f,p)?'<a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click" title="'+y+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"w":"e")+'">'+y+"</span></a>":r?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+y+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"w":"e")+'">'+y+"</span></a>",_=this._get(t,"currentText"),w=this._get(t,"gotoCurrent")&&t.currentDay?c:e;_=a?this.formatDate(_,w,this._getFormatConfig(t)):_;var C=t.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">'+this._get(t,"closeText")+"</button>",S=i?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(n?C:"")+(this._isInRange(t,w)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler="today" data-event="click">'+_+"</button>":"")+(n?"":C)+"</div>":"",x=parseInt(this._get(t,"firstDay"),10);x=isNaN(x)?0:x;for(var T=this._get(t,"showWeek"),A=this._get(t,"dayNames"),D=(this._get(t,"dayNamesShort"),this._get(t,"dayNamesMin")),k=this._get(t,"monthNames"),E=this._get(t,"monthNamesShort"),M=this._get(t,"beforeShowDay"),P=this._get(t,"showOtherMonths"),N=this._get(t,"selectOtherMonths"),I=(this._get(t,"calculateWeek")||this.iso8601Week,this._getDefaultDate(t)),L="",O=0;O<o[0];O++){var R="";this.maxRows=4;for(var H=0;H<o[1];H++){var W=this._daylightSavingAdjust(new Date(f,p,t.selectedDay)),U=" ui-corner-all",F="";if(u){if(F+='<div class="ui-datepicker-group',1<o[1])switch(H){case 0:F+=" ui-datepicker-group-first",U=" ui-corner-"+(n?"right":"left");break;case o[1]-1:F+=" ui-datepicker-group-last",U=" ui-corner-"+(n?"left":"right");break;default:F+=" ui-datepicker-group-middle",U=""}F+='">'}F+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+U+'">'+(/all|left/.test(U)&&0==O?n?b:v:"")+(/all|right/.test(U)&&0==O?n?v:b:"")+this._generateMonthYearHeader(t,p,f,h,d,0<O||0<H,k,E)+'</div><table class="ui-datepicker-calendar"><thead><tr>';for(var j=T?'<th class="ui-datepicker-week-col">'+this._get(t,"weekHeader")+"</th>":"",z=0;z<7;z++){var V=(z+x)%7;j+="<th"+(5<=(z+x+6)%7?' class="ui-datepicker-week-end"':"")+'><span title="'+A[V]+'">'+D[V]+"</span></th>"}F+=j+"</tr></thead><tbody>";var B=this._getDaysInMonth(f,p);f==t.selectedYear&&p==t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,B));var Y=(this._getFirstDayOfMonth(f,p)-x+7)%7,q=Math.ceil((Y+B)/7),G=u&&this.maxRows>q?this.maxRows:q;this.maxRows=G;for(var K=this._daylightSavingAdjust(new Date(f,p,1-Y)),Q=0;Q<G;Q++){F+="<tr>";var X=T?'<td class="ui-datepicker-week-col">'+this._get(t,"calculateWeek")(K)+"</td>":"";for(z=0;z<7;z++){var Z=M?M.apply(t.input?t.input[0]:null,[K]):[!0,""],J=K.getMonth()!=p,tt=J&&!N||!Z[0]||h&&K<h||d&&d<K;X+='<td class="'+(5<=(z+x+6)%7?" ui-datepicker-week-end":"")+(J?" ui-datepicker-other-month":"")+(K.getTime()==W.getTime()&&p==t.selectedMonth&&t._keyEvent||I.getTime()==K.getTime()&&I.getTime()==W.getTime()?" "+this._dayOverClass:"")+(tt?" "+this._unselectableClass+" ui-state-disabled":"")+(J&&!P?"":" "+Z[1]+(K.getTime()==c.getTime()?" "+this._currentClass:"")+(K.getTime()==e.getTime()?" ui-datepicker-today":""))+'"'+(J&&!P||!Z[2]?"":' title="'+Z[2]+'"')+(tt?"":' data-handler="selectDay" data-event="click" data-month="'+K.getMonth()+'" data-year="'+K.getFullYear()+'"')+">"+(J&&!P?"&#xa0;":tt?'<span class="ui-state-default">'+K.getDate()+"</span>":'<a class="ui-state-default'+(K.getTime()==e.getTime()?" ui-state-highlight":"")+(K.getTime()==c.getTime()?" ui-state-active":"")+(J?" ui-priority-secondary":"")+'" href="#">'+K.getDate()+"</a>")+"</td>",K.setDate(K.getDate()+1),K=this._daylightSavingAdjust(K)}F+=X+"</tr>"}11<++p&&(p=0,f++),R+=F+="</tbody></table>"+(u?"</div>"+(0<o[0]&&H==o[1]-1?'<div class="ui-datepicker-row-break"></div>':""):"")}L+=R}return L+=S+($.ui.ie6&&!t.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),t._keyEvent=!1,L},_generateMonthYearHeader:function(t,e,n,i,r,a,o,s){var l=this._get(t,"changeMonth"),u=this._get(t,"changeYear"),c=this._get(t,"showMonthAfterYear"),h='<div class="ui-datepicker-title">',d="";if(a||!l)d+='<span class="ui-datepicker-month">'+o[e]+"</span>";else{var p=i&&i.getFullYear()==n,f=r&&r.getFullYear()==n;d+='<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">';for(var g=0;g<12;g++)(!p||g>=i.getMonth())&&(!f||g<=r.getMonth())&&(d+='<option value="'+g+'"'+(g==e?' selected="selected"':"")+">"+s[g]+"</option>");d+="</select>"}if(c||(h+=d+(!a&&l&&u?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",a||!u)h+='<span class="ui-datepicker-year">'+n+"</span>";else{var m=this._get(t,"yearRange").split(":"),v=(new Date).getFullYear(),y=function(t){var e=t.match(/c[+-].*/)?n+parseInt(t.substring(1),10):t.match(/[+-].*/)?v+parseInt(t,10):parseInt(t,10);return isNaN(e)?v:e},b=y(m[0]),_=Math.max(b,y(m[1]||""));for(b=i?Math.max(b,i.getFullYear()):b,_=r?Math.min(_,r.getFullYear()):_,t.yearshtml+='<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">';b<=_;b++)t.yearshtml+='<option value="'+b+'"'+(b==n?' selected="selected"':"")+">"+b+"</option>";t.yearshtml+="</select>",h+=t.yearshtml,t.yearshtml=null}return h+=this._get(t,"yearSuffix"),c&&(h+=(!a&&l&&u?"":"&#xa0;")+d),h+="</div>"},_adjustInstDate:function(t,e,n){var i=t.drawYear+("Y"==n?e:0),r=t.drawMonth+("M"==n?e:0),a=Math.min(t.selectedDay,this._getDaysInMonth(i,r))+("D"==n?e:0),o=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(i,r,a)));t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),"M"!=n&&"Y"!=n||this._notifyChange(t)},_restrictMinMax:function(t,e){var n=this._getMinMaxDate(t,"min"),i=this._getMinMaxDate(t,"max"),r=n&&e<n?n:e;return r=i&&i<r?i:r},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,n,i){var r=this._getNumberOfMonths(t),a=this._daylightSavingAdjust(new Date(n,i+(e<0?e:r[0]*r[1]),1));return e<0&&a.setDate(this._getDaysInMonth(a.getFullYear(),a.getMonth())),this._isInRange(t,a)},_isInRange:function(t,e){var n=this._getMinMaxDate(t,"min"),i=this._getMinMaxDate(t,"max");return(!n||e.getTime()>=n.getTime())&&(!i||e.getTime()<=i.getTime())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return{shortYearCutoff:e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,n,i){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var r=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(i,n,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),r,this._getFormatConfig(t))}}),$.fn.datepicker=function(t){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find(document.body).append($.datepicker.dpDiv),$.datepicker.initialized=!0);var e=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!=t&&"getDate"!=t&&"widget"!=t?"option"==t&&2==arguments.length&&"string"==typeof arguments[1]?$.datepicker["_"+t+"Datepicker"].apply($.datepicker,[this[0]].concat(e)):this.each(function(){"string"==typeof t?$.datepicker["_"+t+"Datepicker"].apply($.datepicker,[this].concat(e)):$.datepicker._attachDatepicker(this,t)}):$.datepicker["_"+t+"Datepicker"].apply($.datepicker,[this[0]].concat(e))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.9.2",window["DP_jQuery_"+dpuuid]=$}(jQuery),function(l,t){var u="ui-dialog ui-widget ui-widget-content ui-corner-all ",a={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},o={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};l.widget("ui.dialog",{version:"1.9.2",options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var e=l(this).css(t).offset().top;e<0&&l(this).css("top",t.top-e)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),"string"!=typeof this.originalTitle&&(this.originalTitle=""),this.oldPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.options.title=this.options.title||this.originalTitle;var r,t,e,n,i,a=this,o=this.options,s=o.title||"&#160;";r=(this.uiDialog=l("<div>")).addClass(u+o.dialogClass).css({display:"none",outline:0,zIndex:o.zIndex}).attr("tabIndex",-1).keydown(function(t){o.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===l.ui.keyCode.ESCAPE&&(a.close(t),t.preventDefault())}).mousedown(function(t){a.moveToTop(!1,t)}).appendTo("body"),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(r),t=(this.uiDialogTitlebar=l("<div>")).addClass("ui-dialog-titlebar  ui-widget-header  ui-corner-all  ui-helper-clearfix").bind("mousedown",function(){r.focus()}).prependTo(r),e=l("<a href='#'></a>").addClass("ui-dialog-titlebar-close  ui-corner-all").attr("role","button").click(function(t){t.preventDefault(),a.close(t)}).appendTo(t),(this.uiDialogTitlebarCloseText=l("<span>")).addClass("ui-icon ui-icon-closethick").text(o.closeText).appendTo(e),n=l("<span>").uniqueId().addClass("ui-dialog-title").html(s).prependTo(t),i=(this.uiDialogButtonPane=l("<div>")).addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),(this.uiButtonSet=l("<div>")).addClass("ui-dialog-buttonset").appendTo(i),r.attr({role:"dialog","aria-labelledby":n.attr("id")}),t.find("*").add(t).disableSelection(),this._hoverable(e),this._focusable(e),o.draggable&&l.fn.draggable&&this._makeDraggable(),o.resizable&&l.fn.resizable&&this._makeResizable(),this._createButtons(o.buttons),this._isOpen=!1,l.fn.bgiframe&&r.bgiframe(),this._on(r,{keydown:function(t){if(o.modal&&t.keyCode===l.ui.keyCode.TAB){var e=l(":tabbable",r),n=e.filter(":first"),i=e.filter(":last");return t.target!==i[0]||t.shiftKey?t.target===n[0]&&t.shiftKey?(i.focus(1),!1):void 0:(n.focus(1),!1)}}})},_init:function(){this.options.autoOpen&&this.open()},_destroy:function(){var t,e=this.oldPosition;this.overlay&&this.overlay.destroy(),this.uiDialog.hide(),this.element.removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(t=e.parent.children().eq(e.index)).length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},close:function(t){var e,n,i=this;if(this._isOpen&&!1!==this._trigger("beforeClose",t))return this._isOpen=!1,this.overlay&&this.overlay.destroy(),this.options.hide?this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",t)}):(this.uiDialog.hide(),this._trigger("close",t)),l.ui.dialog.overlay.resize(),this.options.modal&&(e=0,l(".ui-dialog").each(function(){this!==i.uiDialog[0]&&(n=l(this).css("z-index"),isNaN(n)||(e=Math.max(e,n)))}),l.ui.dialog.maxZ=e),this},isOpen:function(){return this._isOpen},moveToTop:function(t,e){var n,i=this.options;return i.modal&&!t||!i.stack&&!i.modal?this._trigger("focus",e):(i.zIndex>l.ui.dialog.maxZ&&(l.ui.dialog.maxZ=i.zIndex),this.overlay&&(l.ui.dialog.maxZ+=1,l.ui.dialog.overlay.maxZ=l.ui.dialog.maxZ,this.overlay.$el.css("z-index",l.ui.dialog.overlay.maxZ)),n={scrollTop:this.element.scrollTop(),scrollLeft:this.element.scrollLeft()},l.ui.dialog.maxZ+=1,this.uiDialog.css("z-index",l.ui.dialog.maxZ),this.element.attr(n),this._trigger("focus",e),this)},open:function(){if(!this._isOpen){var t,e=this.options,n=this.uiDialog;return this._size(),this._position(e.position),n.show(e.show),this.overlay=e.modal?new l.ui.dialog.overlay(this):null,this.moveToTop(!0),(t=this.element.find(":tabbable")).length||(t=this.uiDialogButtonPane.find(":tabbable")).length||(t=n),t.eq(0).focus(),this._isOpen=!0,this._trigger("open"),this}},_createButtons:function(t){var r=this,e=!1;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),"object"==typeof t&&null!==t&&l.each(t,function(){return!(e=!0)}),e?(l.each(t,function(t,e){var n,i;e=l.isFunction(e)?{click:e,text:t}:e,e=l.extend({type:"button"},e),i=e.click,e.click=function(){i.apply(r.element[0],arguments)},n=l("<button></button>",e).appendTo(r.uiButtonSet),l.fn.button&&n.button()}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog)):this.uiDialog.removeClass("ui-dialog-buttons")},_makeDraggable:function(){var n=this,i=this.options;function r(t){return{position:t.position,offset:t.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(t,e){l(this).addClass("ui-dialog-dragging"),n._trigger("dragStart",t,r(e))},drag:function(t,e){n._trigger("drag",t,r(e))},stop:function(t,e){i.position=[e.position.left-n.document.scrollLeft(),e.position.top-n.document.scrollTop()],l(this).removeClass("ui-dialog-dragging"),n._trigger("dragStop",t,r(e)),l.ui.dialog.overlay.resize()}})},_makeResizable:function(t){t=void 0===t?this.options.resizable:t;var n=this,i=this.options,e=this.uiDialog.css("position"),r="string"==typeof t?t:"n,e,s,w,se,sw,ne,nw";function a(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:r,start:function(t,e){l(this).addClass("ui-dialog-resizing"),n._trigger("resizeStart",t,a(e))},resize:function(t,e){n._trigger("resize",t,a(e))},stop:function(t,e){l(this).removeClass("ui-dialog-resizing"),i.height=l(this).height(),i.width=l(this).width(),n._trigger("resizeStop",t,a(e)),l.ui.dialog.overlay.resize()}}).css("position",e).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(t){var e,n=[],i=[0,0];t=t?(("string"==typeof t||"object"==typeof t&&"0"in t)&&(1===(n=t.split?t.split(" "):[t[0],t[1]]).length&&(n[1]=n[0]),l.each(["left","top"],function(t,e){+n[t]===n[t]&&(i[t]=n[t],n[t]=e)}),t={my:n[0]+(i[0]<0?i[0]:"+"+i[0])+" "+n[1]+(i[1]<0?i[1]:"+"+i[1]),at:n.join(" ")}),l.extend({},l.ui.dialog.prototype.options.position,t)):l.ui.dialog.prototype.options.position,(e=this.uiDialog.is(":visible"))||this.uiDialog.show(),this.uiDialog.position(t),e||this.uiDialog.hide()},_setOptions:function(t){var n=this,i={},r=!1;l.each(t,function(t,e){n._setOption(t,e),t in a&&(r=!0),t in o&&(i[t]=e)}),r&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",i)},_setOption:function(t,e){var n,i,r=this.uiDialog;switch(t){case"buttons":this._createButtons(e);break;case"closeText":this.uiDialogTitlebarCloseText.text(""+e);break;case"dialogClass":r.removeClass(this.options.dialogClass).addClass(u+e);break;case"disabled":e?r.addClass("ui-dialog-disabled"):r.removeClass("ui-dialog-disabled");break;case"draggable":(n=r.is(":data(draggable)"))&&!e&&r.draggable("destroy"),!n&&e&&this._makeDraggable();break;case"position":this._position(e);break;case"resizable":(i=r.is(":data(resizable)"))&&!e&&r.resizable("destroy"),i&&"string"==typeof e&&r.resizable("option","handles",e),i||!1===e||this._makeResizable(e);break;case"title":l(".ui-dialog-title",this.uiDialogTitlebar).html(""+(e||"&#160;"))}this._super(t,e)},_size:function(){var t,e,n,i=this.options,r=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0}),i.minWidth>i.width&&(i.width=i.minWidth),t=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),e=Math.max(0,i.minHeight-t),"auto"===i.height?l.support.minHeight?this.element.css({minHeight:e,height:"auto"}):(this.uiDialog.show(),n=this.element.css("height","auto").height(),r||this.uiDialog.hide(),this.element.height(Math.max(n,e))):this.element.height(Math.max(i.height-t,0)),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),l.extend(l.ui.dialog,{uuid:0,maxZ:0,getTitleId:function(t){var e=t.attr("id");return e||(this.uuid+=1,e=this.uuid),"ui-dialog-title-"+e},overlay:function(t){this.$el=l.ui.dialog.overlay.create(t)}}),l.extend(l.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:l.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(t){return t+".dialog-overlay"}).join(" "),create:function(n){0===this.instances.length&&(setTimeout(function(){l.ui.dialog.overlay.instances.length&&l(document).bind(l.ui.dialog.overlay.events,function(t){if(l(t.target).zIndex()<l.ui.dialog.overlay.maxZ)return!1})},1),l(window).bind("resize.dialog-overlay",l.ui.dialog.overlay.resize));var i=this.oldInstances.pop()||l("<div>").addClass("ui-widget-overlay");return l(document).bind("keydown.dialog-overlay",function(t){var e=l.ui.dialog.overlay.instances;0!==e.length&&e[e.length-1]===i&&n.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===l.ui.keyCode.ESCAPE&&(n.close(t),t.preventDefault())}),i.appendTo(document.body).css({width:this.width(),height:this.height()}),l.fn.bgiframe&&i.bgiframe(),this.instances.push(i),i},destroy:function(t){var e=l.inArray(t,this.instances),n=0;-1!==e&&this.oldInstances.push(this.instances.splice(e,1)[0]),0===this.instances.length&&l([document,window]).unbind(".dialog-overlay"),t.height(0).width(0).remove(),l.each(this.instances,function(){n=Math.max(n,this.css("z-index"))}),this.maxZ=n},height:function(){var t;return l.ui.ie?(t=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight))<Math.max(document.documentElement.offsetHeight,document.body.offsetHeight)?l(window).height()+"px":t+"px":l(document).height()+"px"},width:function(){var t;return l.ui.ie?(t=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth))<Math.max(document.documentElement.offsetWidth,document.body.offsetWidth)?l(window).width()+"px":t+"px":l(document).width()+"px"},resize:function(){var t=l([]);l.each(l.ui.dialog.overlay.instances,function(){t=t.add(this)}),t.css({width:0,height:0}).css({width:l.ui.dialog.overlay.width(),height:l.ui.dialog.overlay.height()})}}),l.extend(l.ui.dialog.overlay.prototype,{destroy:function(){l.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),function(g,t){var m=/up|down|vertical/,v=/up|left|vertical|horizontal/;g.effects.effect.blind=function(t,e){var n,i,r,a=g(this),o=["position","top","bottom","left","right","height","width"],s=g.effects.setMode(a,t.mode||"hide"),l=t.direction||"up",u=m.test(l),c=u?"height":"width",h=u?"top":"left",d=v.test(l),p={},f="show"===s;a.parent().is(".ui-effects-wrapper")?g.effects.save(a.parent(),o):g.effects.save(a,o),a.show(),i=(n=g.effects.createWrapper(a).css({overflow:"hidden"}))[c](),r=parseFloat(n.css(h))||0,p[c]=f?i:0,d||(a.css(u?"bottom":"right",0).css(u?"top":"left","auto").css({position:"absolute"}),p[h]=f?r:i+r),f&&(n.css(c,0),d||n.css(h,r+i)),n.animate(p,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===s&&a.hide(),g.effects.restore(a,o),g.effects.removeWrapper(a),e()}})}}(jQuery),function(_,t){_.effects.effect.bounce=function(t,e){var n,i,r,a=_(this),o=["position","top","bottom","left","right","height","width"],s=_.effects.setMode(a,t.mode||"effect"),l="hide"===s,u="show"===s,c=t.direction||"up",h=t.distance,d=t.times||5,p=2*d+(u||l?1:0),f=t.duration/p,g=t.easing,m="up"===c||"down"===c?"top":"left",v="up"===c||"left"===c,y=a.queue(),b=y.length;for((u||l)&&o.push("opacity"),_.effects.save(a,o),a.show(),_.effects.createWrapper(a),h||(h=a["top"===m?"outerHeight":"outerWidth"]()/3),u&&((r={opacity:1})[m]=0,a.css("opacity",0).css(m,v?2*-h:2*h).animate(r,f,g)),l&&(h/=Math.pow(2,d-1)),n=(r={})[m]=0;n<d;n++)(i={})[m]=(v?"-=":"+=")+h,a.animate(i,f,g).animate(r,f,g),h=l?2*h:h/2;l&&((i={opacity:0})[m]=(v?"-=":"+=")+h,a.animate(i,f,g)),a.queue(function(){l&&a.hide(),_.effects.restore(a,o),_.effects.removeWrapper(a),e()}),1<b&&y.splice.apply(y,[1,0].concat(y.splice(b,p+1))),a.dequeue()}}(jQuery),function(d,t){d.effects.effect.clip=function(t,e){var n,i,r,a=d(this),o=["position","top","bottom","left","right","height","width"],s="show"===d.effects.setMode(a,t.mode||"hide"),l="vertical"===(t.direction||"vertical"),u=l?"height":"width",c=l?"top":"left",h={};d.effects.save(a,o),a.show(),n=d.effects.createWrapper(a).css({overflow:"hidden"}),r=(i="IMG"===a[0].tagName?n:a)[u](),s&&(i.css(u,0),i.css(c,r/2)),h[u]=s?r:0,h[c]=s?0:r/2,i.animate(h,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){s||a.hide(),d.effects.restore(a,o),d.effects.removeWrapper(a),e()}})}}(jQuery),function(h,t){h.effects.effect.drop=function(t,e){var n,i=h(this),r=["position","top","bottom","left","right","opacity","height","width"],a=h.effects.setMode(i,t.mode||"hide"),o="show"===a,s=t.direction||"left",l="up"===s||"down"===s?"top":"left",u="up"===s||"left"===s?"pos":"neg",c={opacity:o?1:0};h.effects.save(i,r),i.show(),h.effects.createWrapper(i),n=t.distance||i["top"===l?"outerHeight":"outerWidth"](!0)/2,o&&i.css("opacity",0).css(l,"pos"===u?-n:n),c[l]=(o?"pos"===u?"+=":"-=":"pos"===u?"-=":"+=")+n,i.animate(c,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===a&&i.hide(),h.effects.restore(i,r),h.effects.removeWrapper(i),e()}})}}(jQuery),function(v,t){v.effects.effect.explode=function(t,e){var n,i,r,a,o,s,l=t.pieces?Math.round(Math.sqrt(t.pieces)):3,u=l,c=v(this),h="show"===v.effects.setMode(c,t.mode||"hide"),d=c.show().css("visibility","hidden").offset(),p=Math.ceil(c.outerWidth()/u),f=Math.ceil(c.outerHeight()/l),g=[];function m(){g.push(this),g.length===l*u&&function(){c.css({visibility:"visible"}),v(g).remove(),h||c.hide();e()}()}for(n=0;n<l;n++)for(a=d.top+n*f,s=n-(l-1)/2,i=0;i<u;i++)r=d.left+i*p,o=i-(u-1)/2,c.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-i*p,top:-n*f}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:p,height:f,left:r+(h?o*p:0),top:a+(h?s*f:0),opacity:h?0:1}).animate({left:r+(h?0:o*p),top:a+(h?0:s*f),opacity:h?1:0},t.duration||500,t.easing,m)}}(jQuery),function(r,t){r.effects.effect.fade=function(t,e){var n=r(this),i=r.effects.setMode(n,t.mode||"toggle");n.animate({opacity:i},{queue:!1,duration:t.duration,easing:t.easing,complete:e})}}(jQuery),function(v,t){v.effects.effect.fold=function(t,e){var n,i,r=v(this),a=["position","top","bottom","left","right","height","width"],o=v.effects.setMode(r,t.mode||"hide"),s="show"===o,l="hide"===o,u=t.size||15,c=/([0-9]+)%/.exec(u),h=!!t.horizFirst,d=s!==h,p=d?["width","height"]:["height","width"],f=t.duration/2,g={},m={};v.effects.save(r,a),r.show(),n=v.effects.createWrapper(r).css({overflow:"hidden"}),i=d?[n.width(),n.height()]:[n.height(),n.width()],c&&(u=parseInt(c[1],10)/100*i[l?0:1]),s&&n.css(h?{height:0,width:u}:{height:u,width:0}),g[p[0]]=s?i[0]:u,m[p[1]]=s?i[1]:0,n.animate(g,f,t.easing).animate(m,f,t.easing,function(){l&&r.hide(),v.effects.restore(r,a),v.effects.removeWrapper(r),e()})}}(jQuery),function(o,t){o.effects.effect.highlight=function(t,e){var n=o(this),i=["backgroundImage","backgroundColor","opacity"],r=o.effects.setMode(n,t.mode||"show"),a={backgroundColor:n.css("backgroundColor")};"hide"===r&&(a.opacity=0),o.effects.save(n,i),n.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(a,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===r&&n.hide(),o.effects.restore(n,i),e()}})}}(jQuery),function(p,t){p.effects.effect.pulsate=function(t,e){var n,i=p(this),r=p.effects.setMode(i,t.mode||"show"),a="show"===r,o="hide"===r,s=a||"hide"===r,l=2*(t.times||5)+(s?1:0),u=t.duration/l,c=0,h=i.queue(),d=h.length;for(!a&&i.is(":visible")||(i.css("opacity",0).show(),c=1),n=1;n<l;n++)i.animate({opacity:c},u,t.easing),c=1-c;i.animate({opacity:c},u,t.easing),i.queue(function(){o&&i.hide(),e()}),1<d&&h.splice.apply(h,[1,0].concat(h.splice(d,l+1))),i.dequeue()}}(jQuery),function(y,t){y.effects.effect.puff=function(t,e){var n=y(this),i=y.effects.setMode(n,t.mode||"hide"),r="hide"===i,a=parseInt(t.percent,10)||150,o=a/100,s={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};y.extend(t,{effect:"scale",queue:!1,fade:!0,mode:i,complete:e,percent:r?a:100,from:r?s:{height:s.height*o,width:s.width*o,outerHeight:s.outerHeight*o,outerWidth:s.outerWidth*o}}),n.effect(t)},y.effects.effect.scale=function(t,e){var n=y(this),i=y.extend(!0,{},t),r=y.effects.setMode(n,t.mode||"effect"),a=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===r?0:100),o=t.direction||"both",s=t.origin,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},u="horizontal"!==o?a/100:1,c="vertical"!==o?a/100:1;i.effect="size",i.queue=!1,i.complete=e,"effect"!==r&&(i.origin=s||["middle","center"],i.restore=!0),i.from=t.from||("show"===r?{height:0,width:0,outerHeight:0,outerWidth:0}:l),i.to={height:l.height*u,width:l.width*c,outerHeight:l.outerHeight*u,outerWidth:l.outerWidth*c},i.fade&&("show"===r&&(i.from.opacity=0,i.to.opacity=1),"hide"===r&&(i.from.opacity=1,i.to.opacity=0)),n.effect(i)},y.effects.effect.size=function(a,t){var e,n,o,s=y(this),i=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["width","height","overflow"],r=["fontSize"],u=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],c=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],h=y.effects.setMode(s,a.mode||"effect"),d=a.restore||"effect"!==h,p=a.scale||"both",f=a.origin||["middle","center"],g=s.css("position"),m=d?i:["position","top","bottom","left","right","overflow","opacity"],v={height:0,width:0,outerHeight:0,outerWidth:0};"show"===h&&s.show(),e={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},"toggle"===a.mode&&"show"===h?(s.from=a.to||v,s.to=a.from||e):(s.from=a.from||("show"===h?v:e),s.to=a.to||("hide"===h?v:e)),o={from:{y:s.from.height/e.height,x:s.from.width/e.width},to:{y:s.to.height/e.height,x:s.to.width/e.width}},"box"!==p&&"both"!==p||(o.from.y!==o.to.y&&(m=m.concat(u),s.from=y.effects.setTransition(s,u,o.from.y,s.from),s.to=y.effects.setTransition(s,u,o.to.y,s.to)),o.from.x!==o.to.x&&(m=m.concat(c),s.from=y.effects.setTransition(s,c,o.from.x,s.from),s.to=y.effects.setTransition(s,c,o.to.x,s.to))),"content"!==p&&"both"!==p||o.from.y!==o.to.y&&(m=m.concat(r).concat(l),s.from=y.effects.setTransition(s,r,o.from.y,s.from),s.to=y.effects.setTransition(s,r,o.to.y,s.to)),y.effects.save(s,m),s.show(),y.effects.createWrapper(s),s.css("overflow","hidden").css(s.from),f&&(n=y.effects.getBaseline(f,e),s.from.top=(e.outerHeight-s.outerHeight())*n.y,s.from.left=(e.outerWidth-s.outerWidth())*n.x,s.to.top=(e.outerHeight-s.to.outerHeight)*n.y,s.to.left=(e.outerWidth-s.to.outerWidth)*n.x),s.css(s.from),"content"!==p&&"both"!==p||(u=u.concat(["marginTop","marginBottom"]).concat(r),c=c.concat(["marginLeft","marginRight"]),l=i.concat(u).concat(c),s.find("*[width]").each(function(){var t=y(this),e=t.height(),n=t.width(),i=t.outerHeight(),r=t.outerWidth();d&&y.effects.save(t,l),t.from={height:e*o.from.y,width:n*o.from.x,outerHeight:i*o.from.y,outerWidth:r*o.from.x},t.to={height:e*o.to.y,width:n*o.to.x,outerHeight:e*o.to.y,outerWidth:n*o.to.x},o.from.y!==o.to.y&&(t.from=y.effects.setTransition(t,u,o.from.y,t.from),t.to=y.effects.setTransition(t,u,o.to.y,t.to)),o.from.x!==o.to.x&&(t.from=y.effects.setTransition(t,c,o.from.x,t.from),t.to=y.effects.setTransition(t,c,o.to.x,t.to)),t.css(t.from),t.animate(t.to,a.duration,a.easing,function(){d&&y.effects.restore(t,l)})})),s.animate(s.to,{queue:!1,duration:a.duration,easing:a.easing,complete:function(){0===s.to.opacity&&s.css("opacity",s.from.opacity),"hide"===h&&s.hide(),y.effects.restore(s,m),d||("static"===g?s.css({position:"relative",top:s.to.top,left:s.to.left}):y.each(["top","left"],function(r,t){s.css(t,function(t,e){var n=parseInt(e,10),i=r?s.to.left:s.to.top;return"auto"===e?i+"px":n+i+"px"})})),y.effects.removeWrapper(s),t()}})}}(jQuery),function(y,t){y.effects.effect.shake=function(t,e){var n,i=y(this),r=["position","top","bottom","left","right","height","width"],a=y.effects.setMode(i,t.mode||"effect"),o=t.direction||"left",s=t.distance||20,l=t.times||3,u=2*l+1,c=Math.round(t.duration/u),h="up"===o||"down"===o?"top":"left",d="up"===o||"left"===o,p={},f={},g={},m=i.queue(),v=m.length;for(y.effects.save(i,r),i.show(),y.effects.createWrapper(i),p[h]=(d?"-=":"+=")+s,f[h]=(d?"+=":"-=")+2*s,g[h]=(d?"-=":"+=")+2*s,i.animate(p,c,t.easing),n=1;n<l;n++)i.animate(f,c,t.easing).animate(g,c,t.easing);i.animate(f,c,t.easing).animate(p,c/2,t.easing).queue(function(){"hide"===a&&i.hide(),y.effects.restore(i,r),y.effects.removeWrapper(i),e()}),1<v&&m.splice.apply(m,[1,0].concat(m.splice(v,u+1))),i.dequeue()}}(jQuery),function(h,t){h.effects.effect.slide=function(t,e){var n,i=h(this),r=["position","top","bottom","left","right","width","height"],a=h.effects.setMode(i,t.mode||"show"),o="show"===a,s=t.direction||"left",l="up"===s||"down"===s?"top":"left",u="up"===s||"left"===s,c={};h.effects.save(i,r),i.show(),n=t.distance||i["top"===l?"outerHeight":"outerWidth"](!0),h.effects.createWrapper(i).css({overflow:"hidden"}),o&&i.css(l,u?isNaN(n)?"-"+n:-n:n),c[l]=(o?u?"+=":"-=":u?"-=":"+=")+n,i.animate(c,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===a&&i.hide(),h.effects.restore(i,r),h.effects.removeWrapper(i),e()}})}}(jQuery),function(d,t){d.effects.effect.transfer=function(t,e){var n=d(this),i=d(t.to),r="fixed"===i.css("position"),a=d("body"),o=r?a.scrollTop():0,s=r?a.scrollLeft():0,l=i.offset(),u={top:l.top-o,left:l.left-s,height:i.innerHeight(),width:i.innerWidth()},c=n.offset(),h=d('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(t.className).css({top:c.top-o,left:c.left-s,height:n.innerHeight(),width:n.innerWidth(),position:r?"fixed":"absolute"}).animate(u,t.duration,t.easing,function(){h.remove(),e()})}}(jQuery),function(l,t){var n=!1;l.widget("ui.menu",{version:"1.9.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,l.proxy(function(t){this.options.disabled&&t.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(t){t.preventDefault()},"click .ui-state-disabled > a":function(t){t.preventDefault()},"click .ui-menu-item:has(a)":function(t){var e=l(t.target).closest(".ui-menu-item");!n&&e.not(".ui-state-disabled").length&&(n=!0,this.select(t),e.has(".ui-menu").length?this.expand(t):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var e=l(t.currentTarget);e.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(t,e)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var n=this.active||this.element.children(".ui-menu-item").eq(0);e||this.focus(t,n)},blur:function(t){this._delay(function(){l.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){l(t.target).closest(".ui-menu").length||this.collapseAll(t),n=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").andSelf().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=l(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){var e,n,i,r,a,o=!0;function s(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}switch(t.keyCode){case l.ui.keyCode.PAGE_UP:this.previousPage(t);break;case l.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case l.ui.keyCode.HOME:this._move("first","first",t);break;case l.ui.keyCode.END:this._move("last","last",t);break;case l.ui.keyCode.UP:this.previous(t);break;case l.ui.keyCode.DOWN:this.next(t);break;case l.ui.keyCode.LEFT:this.collapse(t);break;case l.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case l.ui.keyCode.ENTER:case l.ui.keyCode.SPACE:this._activate(t);break;case l.ui.keyCode.ESCAPE:this.collapse(t);break;default:o=!1,n=this.previousFilter||"",i=String.fromCharCode(t.keyCode),r=!1,clearTimeout(this.filterTimer),i===n?r=!0:i=n+i,a=new RegExp("^"+s(i),"i"),e=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(l(this).children("a").text())}),(e=r&&-1!==e.index(this.active.next())?this.active.nextAll(".ui-menu-item"):e).length||(i=String.fromCharCode(t.keyCode),a=new RegExp("^"+s(i),"i"),e=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(l(this).children("a").text())})),e.length?(this.focus(t,e),1<e.length?(this.previousFilter=i,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}o&&t.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var t,i=this.options.icons.submenu,e=this.element.find(this.options.menus);e.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=l(this),e=t.prev("a"),n=l("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);e.attr("aria-haspopup","true").prepend(n),t.attr("aria-labelledby",e.attr("id"))}),(t=e.add(this.element)).children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),t.children(":not(.ui-menu-item)").each(function(){var t=l(this);/[^\-\s]/.test(t.text())||t.addClass("ui-widget-content ui-menu-divider")}),t.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!l.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},focus:function(t,e){var n,i;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),i=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(n=e.children(".ui-menu")).length&&/^mouse/.test(t.type)&&this._startOpening(n),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(t){var e,n,i,r,a,o;this._hasScroll()&&(e=parseFloat(l.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(l.css(this.activeMenu[0],"paddingTop"))||0,i=t.offset().top-this.activeMenu.offset().top-e-n,r=this.activeMenu.scrollTop(),a=this.activeMenu.height(),o=t.height(),i<0?this.activeMenu.scrollTop(r+i):a<i+o&&this.activeMenu.scrollTop(r+i-a+o))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(t){var e=l.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(e)},collapseAll:function(e,n){clearTimeout(this.timer),this.timer=this._delay(function(){var t=n?this.element:l(e&&e.target).closest(this.element.find(".ui-menu"));t.length||(t=this.element),this._close(t),this.blur(e),this.activeMenu=t},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,n){var i;this.active&&(i="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.children(".ui-menu-item")[e]()),this.focus(n,i)},nextPage:function(t){var e,n,i;this.active?this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,i=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return(e=l(this)).offset().top-n-i<0}),this.focus(t,e)):this.focus(t,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())):this.next(t)},previousPage:function(t){var e,n,i;this.active?this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,i=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return 0<(e=l(this)).offset().top-n+i}),this.focus(t,e)):this.focus(t,this.activeMenu.children(".ui-menu-item").first())):this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||l(t.target).closest(".ui-menu-item");var e={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,e)}})}(jQuery),function(C,t){C.ui=C.ui||{};var r,i,a,S=Math.max,x=Math.abs,$=Math.round,o=/left|center|right/,s=/top|center|bottom/,l=/[\+\-]\d+%?/,u=/^\w+/,c=/%$/,e=C.fn.position;function T(t,e,n){return[parseInt(t[0],10)*(c.test(t[0])?e/100:1),parseInt(t[1],10)*(c.test(t[1])?n/100:1)]}function A(t,e){return parseInt(C.css(t,e),10)||0}C.position={scrollbarWidth:function(){if(void 0!==r)return r;var t,e,n=C("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),i=n.children()[0];return C("body").append(n),t=i.offsetWidth,n.css("overflow","scroll"),t===(e=i.offsetWidth)&&(e=n[0].clientWidth),n.remove(),r=t-e},getScrollInfo:function(t){var e=t.isWindow?"":t.element.css("overflow-x"),n=t.isWindow?"":t.element.css("overflow-y"),i="scroll"===e||"auto"===e&&t.width<t.element[0].scrollWidth,r="scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight;return{width:i?C.position.scrollbarWidth():0,height:r?C.position.scrollbarWidth():0}},getWithinInfo:function(t){var e=C(t||window),n=C.isWindow(e[0]);return{element:e,isWindow:n,offset:e.offset()||{left:0,top:0},scrollLeft:e.scrollLeft(),scrollTop:e.scrollTop(),width:n?e.width():e.outerWidth(),height:n?e.height():e.outerHeight()}}},C.fn.position=function(h){if(!h||!h.of)return e.apply(this,arguments);h=C.extend({},h);var d,p,f,g,m,v=C(h.of),y=C.position.getWithinInfo(h.within),b=C.position.getScrollInfo(y),t=v[0],_=(h.collision||"flip").split(" "),w={};return g=9===t.nodeType?(p=v.width(),f=v.height(),{top:0,left:0}):C.isWindow(t)?(p=v.width(),f=v.height(),{top:v.scrollTop(),left:v.scrollLeft()}):t.preventDefault?(h.at="left top",p=f=0,{top:t.pageY,left:t.pageX}):(p=v.outerWidth(),f=v.outerHeight(),v.offset()),m=C.extend({},g),C.each(["my","at"],function(){var t,e,n=(h[this]||"").split(" ");1===n.length&&(n=o.test(n[0])?n.concat(["center"]):s.test(n[0])?["center"].concat(n):["center","center"]),n[0]=o.test(n[0])?n[0]:"center",n[1]=s.test(n[1])?n[1]:"center",t=l.exec(n[0]),e=l.exec(n[1]),w[this]=[t?t[0]:0,e?e[0]:0],h[this]=[u.exec(n[0])[0],u.exec(n[1])[0]]}),1===_.length&&(_[1]=_[0]),"right"===h.at[0]?m.left+=p:"center"===h.at[0]&&(m.left+=p/2),"bottom"===h.at[1]?m.top+=f:"center"===h.at[1]&&(m.top+=f/2),d=T(w.at,p,f),m.left+=d[0],m.top+=d[1],this.each(function(){var n,t,o=C(this),s=o.outerWidth(),l=o.outerHeight(),e=A(this,"marginLeft"),i=A(this,"marginTop"),r=s+e+A(this,"marginRight")+b.width,a=l+i+A(this,"marginBottom")+b.height,u=C.extend({},m),c=T(w.my,o.outerWidth(),o.outerHeight());"right"===h.my[0]?u.left-=s:"center"===h.my[0]&&(u.left-=s/2),"bottom"===h.my[1]?u.top-=l:"center"===h.my[1]&&(u.top-=l/2),u.left+=c[0],u.top+=c[1],C.support.offsetFractions||(u.left=$(u.left),u.top=$(u.top)),n={marginLeft:e,marginTop:i},C.each(["left","top"],function(t,e){C.ui.position[_[t]]&&C.ui.position[_[t]][e](u,{targetWidth:p,targetHeight:f,elemWidth:s,elemHeight:l,collisionPosition:n,collisionWidth:r,collisionHeight:a,offset:[d[0]+c[0],d[1]+c[1]],my:h.my,at:h.at,within:y,elem:o})}),C.fn.bgiframe&&o.bgiframe(),h.using&&(t=function(t){var e=g.left-u.left,n=e+p-s,i=g.top-u.top,r=i+f-l,a={target:{element:v,left:g.left,top:g.top,width:p,height:f},element:{element:o,left:u.left,top:u.top,width:s,height:l},horizontal:n<0?"left":0<e?"right":"center",vertical:r<0?"top":0<i?"bottom":"middle"};p<s&&x(e+n)<p&&(a.horizontal="center"),f<l&&x(i+r)<f&&(a.vertical="middle"),S(x(e),x(n))>S(x(i),x(r))?a.important="horizontal":a.important="vertical",h.using.call(this,t,a)}),o.offset(C.extend(u,{using:t}))})},C.ui.position={fit:{left:function(t,e){var n,i=e.within,r=i.isWindow?i.scrollLeft:i.offset.left,a=i.width,o=t.left-e.collisionPosition.marginLeft,s=r-o,l=o+e.collisionWidth-a-r;e.collisionWidth>a?0<s&&l<=0?(n=t.left+s+e.collisionWidth-a-r,t.left+=s-n):t.left=0<l&&s<=0?r:l<s?r+a-e.collisionWidth:r:0<s?t.left+=s:0<l?t.left-=l:t.left=S(t.left-o,t.left)},top:function(t,e){var n,i=e.within,r=i.isWindow?i.scrollTop:i.offset.top,a=e.within.height,o=t.top-e.collisionPosition.marginTop,s=r-o,l=o+e.collisionHeight-a-r;e.collisionHeight>a?0<s&&l<=0?(n=t.top+s+e.collisionHeight-a-r,t.top+=s-n):t.top=0<l&&s<=0?r:l<s?r+a-e.collisionHeight:r:0<s?t.top+=s:0<l?t.top-=l:t.top=S(t.top-o,t.top)}},flip:{left:function(t,e){var n,i,r=e.within,a=r.offset.left+r.scrollLeft,o=r.width,s=r.isWindow?r.scrollLeft:r.offset.left,l=t.left-e.collisionPosition.marginLeft,u=l-s,c=l+e.collisionWidth-o-s,h="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,d="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,p=-2*e.offset[0];u<0?((n=t.left+h+d+p+e.collisionWidth-o-a)<0||n<x(u))&&(t.left+=h+d+p):0<c&&(0<(i=t.left-e.collisionPosition.marginLeft+h+d+p-s)||x(i)<c)&&(t.left+=h+d+p)},top:function(t,e){var n,i,r=e.within,a=r.offset.top+r.scrollTop,o=r.height,s=r.isWindow?r.scrollTop:r.offset.top,l=t.top-e.collisionPosition.marginTop,u=l-s,c=l+e.collisionHeight-o-s,h="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,d="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,p=-2*e.offset[1];u<0?(i=t.top+h+d+p+e.collisionHeight-o-a,t.top+h+d+p>u&&(i<0||i<x(u))&&(t.top+=h+d+p)):0<c&&(n=t.top-e.collisionPosition.marginTop+h+d+p-s,t.top+h+d+p>c&&(0<n||x(n)<c)&&(t.top+=h+d+p))}},flipfit:{left:function(){C.ui.position.flip.left.apply(this,arguments),C.ui.position.fit.left.apply(this,arguments)},top:function(){C.ui.position.flip.top.apply(this,arguments),C.ui.position.fit.top.apply(this,arguments)}}},function(){var t,e,n,i,r,a=document.getElementsByTagName("body")[0],o=document.createElement("div");for(r in t=document.createElement(a?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&C.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"}),n)t.style[r]=n[r];t.appendChild(o),(e=a||document.documentElement).insertBefore(t,e.firstChild),o.style.cssText="position: absolute; left: 10.7432222px;",i=C(o).offset().left,C.support.offsetFractions=10<i&&i<11,t.innerHTML="",e.removeChild(t)}(),!1!==C.uiBackCompat&&(i=jQuery,a=i.fn.position,i.fn.position=function(t){if(!t||!t.offset)return a.call(this,t);var e=t.offset.split(" "),n=t.at.split(" ");return 1===e.length&&(e[1]=e[0]),/^\d/.test(e[0])&&(e[0]="+"+e[0]),/^\d/.test(e[1])&&(e[1]="+"+e[1]),1===n.length&&(/left|center|right/.test(n[0])?n[1]="center":(n[1]=n[0],n[0]="center")),a.call(this,i.extend(t,{at:n[0]+e[0]+" "+n[1]+e[1],offset:void 0}))})}(jQuery),function(t,e){t.widget("ui.progressbar",{version:"1.9.2",options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(t){return void 0===t?this._value():(this._setOption("value",t),this)},_setOption:function(t,e){"value"===t&&(this.options.value=e,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),this._super(t,e)},_value:function(){var t=this.options.value;return"number"!=typeof t&&(t=0),Math.min(this.options.max,Math.max(this.min,t))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var t=this.value(),e=this._percentage();this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),this.valueDiv.toggle(t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(e.toFixed(0)+"%"),this.element.attr("aria-valuenow",t)}})}(jQuery),function(c,t){c.widget("ui.slider",c.ui.mouse,{version:"1.9.2",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var t,e,n=this.options,i=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),r=[];for(this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(n.disabled?" ui-slider-disabled ui-disabled":"")),this.range=c([]),n.range&&(!0===n.range&&(n.values||(n.values=[this._valueMin(),this._valueMin()]),n.values.length&&2!==n.values.length&&(n.values=[n.values[0],n.values[0]])),this.range=c("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+("min"===n.range||"max"===n.range?" ui-slider-range-"+n.range:""))),e=n.values&&n.values.length||1,t=i.length;t<e;t++)r.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");this.handles=i.add(c(r.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(t){t.preventDefault()}).mouseenter(function(){n.disabled||c(this).addClass("ui-state-hover")}).mouseleave(function(){c(this).removeClass("ui-state-hover")}).focus(function(){n.disabled?c(this).blur():(c(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),c(this).addClass("ui-state-focus"))}).blur(function(){c(this).removeClass("ui-state-focus")}),this.handles.each(function(t){c(this).data("ui-slider-handle-index",t)}),this._on(this.handles,{keydown:function(t){var e,n,i,r=c(t.target).data("ui-slider-handle-index");switch(t.keyCode){case c.ui.keyCode.HOME:case c.ui.keyCode.END:case c.ui.keyCode.PAGE_UP:case c.ui.keyCode.PAGE_DOWN:case c.ui.keyCode.UP:case c.ui.keyCode.RIGHT:case c.ui.keyCode.DOWN:case c.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,c(t.target).addClass("ui-state-active"),!1===this._start(t,r)))return}switch(i=this.options.step,e=n=this.options.values&&this.options.values.length?this.values(r):this.value(),t.keyCode){case c.ui.keyCode.HOME:n=this._valueMin();break;case c.ui.keyCode.END:n=this._valueMax();break;case c.ui.keyCode.PAGE_UP:n=this._trimAlignValue(e+(this._valueMax()-this._valueMin())/5);break;case c.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(e-(this._valueMax()-this._valueMin())/5);break;case c.ui.keyCode.UP:case c.ui.keyCode.RIGHT:if(e===this._valueMax())return;n=this._trimAlignValue(e+i);break;case c.ui.keyCode.DOWN:case c.ui.keyCode.LEFT:if(e===this._valueMin())return;n=this._trimAlignValue(e-i)}this._slide(t,r,n)},keyup:function(t){var e=c(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,e),this._change(t,e),c(t.target).removeClass("ui-state-active"))}}),this._refreshValue(),this._animateOff=!1},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var e,n,i,r,a,o,s,l=this,u=this.options;return!u.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),e={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(e),i=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var e=Math.abs(n-l.values(t));e<i&&(i=e,r=c(this),a=t)}),!0===u.range&&this.values(1)===u.min&&(a+=1,r=c(this.handles[a])),!1!==this._start(t,a)&&(this._mouseSliding=!0,this._handleIndex=a,r.addClass("ui-state-active").focus(),o=r.offset(),s=!c(t.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=s?{left:0,top:0}:{left:t.pageX-o.left-r.width()/2,top:t.pageY-o.top-r.height()/2-(parseInt(r.css("borderTopWidth"),10)||0)-(parseInt(r.css("borderBottomWidth"),10)||0)+(parseInt(r.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,a,n),this._animateOff=!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,n),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,n,i,r;return 1<(n=("horizontal"===this.orientation?(e=this.elementSize.width,t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)))/e)&&(n=1),n<0&&(n=0),"vertical"===this.orientation&&(n=1-n),i=this._valueMax()-this._valueMin(),r=this._valueMin()+n*i,this._trimAlignValue(r)},_start:function(t,e){var n={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._trigger("start",t,n)},_slide:function(t,e,n){var i,r,a;this.options.values&&this.options.values.length?(i=this.values(e?0:1),2===this.options.values.length&&!0===this.options.range&&(0===e&&i<n||1===e&&n<i)&&(n=i),n!==this.values(e)&&((r=this.values())[e]=n,a=this._trigger("slide",t,{handle:this.handles[e],value:n,values:r}),i=this.values(e?0:1),!1!==a&&this.values(e,n,!0))):n!==this.value()&&!1!==(a=this._trigger("slide",t,{handle:this.handles[e],value:n}))&&this.value(n)},_stop:function(t,e){var n={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._trigger("stop",t,n)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._trigger("change",t,n)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,e){var n,i,r;if(1<arguments.length)return this.options.values[t]=this._trimAlignValue(e),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!c.isArray(t))return this.options.values&&this.options.values.length?this._values(t):this.value();for(n=this.options.values,i=t,r=0;r<n.length;r+=1)n[r]=this._trimAlignValue(i[r]),this._change(null,r);this._refreshValue()},_setOption:function(t,e){var n,i=0;switch(c.isArray(this.options.values)&&(i=this.options.values.length),c.Widget.prototype._setOption.apply(this,arguments),t){case"disabled":e?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.prop("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.prop("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;n<i;n+=1)this._change(null,n);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,n,i;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=0<this.options.step?this.options.step:1,n=(t-this._valueMin())%e,i=t-n;return 2*Math.abs(n)>=e&&(i+=0<n?e:-e),parseFloat(i.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e,n,t,i,r,a=this.options.range,o=this.options,s=this,l=!this._animateOff&&o.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(t){n=(s.values(t)-s._valueMin())/(s._valueMax()-s._valueMin())*100,u["horizontal"===s.orientation?"left":"bottom"]=n+"%",c(this).stop(1,1)[l?"animate":"css"](u,o.animate),!0===s.options.range&&("horizontal"===s.orientation?(0===t&&s.range.stop(1,1)[l?"animate":"css"]({left:n+"%"},o.animate),1===t&&s.range[l?"animate":"css"]({width:n-e+"%"},{queue:!1,duration:o.animate})):(0===t&&s.range.stop(1,1)[l?"animate":"css"]({bottom:n+"%"},o.animate),1===t&&s.range[l?"animate":"css"]({height:n-e+"%"},{queue:!1,duration:o.animate}))),e=n}):(t=this.value(),i=this._valueMin(),r=this._valueMax(),n=r!==i?(t-i)/(r-i)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[l?"animate":"css"](u,o.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:n+"%"},o.animate),"max"===a&&"horizontal"===this.orientation&&this.range[l?"animate":"css"]({width:100-n+"%"},{queue:!1,duration:o.animate}),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:n+"%"},o.animate),"max"===a&&"vertical"===this.orientation&&this.range[l?"animate":"css"]({height:100-n+"%"},{queue:!1,duration:o.animate}))}})}(jQuery),function(a){function e(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}a.widget("ui.spinner",{version:"1.9.2",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var i={},r=this.element;return a.each(["min","max","step"],function(t,e){var n=r.attr(e);void 0!==n&&n.length&&(i[e]=n)}),i},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((0<e?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(t){var e;function n(){this.element[0]===this.document[0].activeElement||(this.element.focus(),this.previous=e,this._delay(function(){this.previous=e}))}e=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),n.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,n.call(this)}),!1!==this._start(t)&&this._repeat(null,a(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(a(t.currentTarget).hasClass("ui-state-active"))return!1!==this._start(t)&&void this._repeat(null,a(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var t=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=t.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*t.height())&&0<t.height()&&t.height(t.height()),this.options.disabled&&this.disable()},_keydown:function(t){var e=this.options,n=a.ui.keyCode;switch(t.keyCode){case n.UP:return this._repeat(null,1,t),!0;case n.DOWN:return this._repeat(null,-1,t),!0;case n.PAGE_UP:return this._repeat(null,e.page,t),!0;case n.PAGE_DOWN:return this._repeat(null,-e.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(t){return!(!this.spinning&&!1===this._trigger("start",t))&&(this.counter||(this.counter=1),this.spinning=!0)},_repeat:function(t,e,n){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,n)},t),this._spin(e*this.options.step,n)},_spin:function(t,e){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+t*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",e,{value:n})||(this._value(n),this.counter++)},_increment:function(t){var e=this.options.incremental;return e?a.isFunction(e)?e(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return-1===n?0:e.length-n-1},_adjustValue:function(t){var e,n,i=this.options;return n=t-(e=null!==i.min?i.min:0),t=e+(n=Math.round(n/i.step)*i.step),t=parseFloat(t.toFixed(this._precision())),null!==i.max&&t>i.max?i.max:null!==i.min&&t<i.min?i.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){if("culture"===t||"numberFormat"===t){var n=this._parse(this.element.val());return this.options[t]=e,void this.element.val(this._format(n))}"max"!==t&&"min"!==t&&"step"!==t||"string"==typeof e&&(e=this._parse(e)),this._super(t,e),"disabled"===t&&(e?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:e(function(t){this._super(t),this._value(this.element.val())}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(t,e){var n;""!==t&&null!==(n=this._parse(t))&&(e||(n=this._adjustValue(n)),t=this._format(n)),this.element.val(t),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:e(function(t){this._stepUp(t)}),_stepUp:function(t){this._spin((t||1)*this.options.step)},stepDown:e(function(t){this._stepDown(t)}),_stepDown:function(t){this._spin((t||1)*-this.options.step)},pageUp:e(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:e(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){if(!arguments.length)return this._parse(this.element.val());e(this._value).call(this,t)},widget:function(){return this.uiSpinner}})}(jQuery),function(u,l){var n,t=0,e=/#.*$/;function i(){return++t}function c(t){return 1<t.hash.length&&t.href.replace(e,"")===location.href.replace(e,"").replace(/\s/g,"%20")}u.widget("ui.tabs",{version:"1.9.2",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var e=this,t=this.options,n=t.active,i=location.hash.substring(1);this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",t.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(t){u(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){u(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),null===n&&(i&&this.tabs.each(function(t,e){if(u(e).attr("aria-controls")===i)return n=t,!1}),null===n&&(n=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==n&&-1!==n||(n=!!this.tabs.length&&0)),!1!==n&&-1===(n=this.tabs.index(this.tabs.eq(n)))&&(n=!t.collapsible&&0),t.active=n,!t.collapsible&&!1===t.active&&this.anchors.length&&(t.active=0),u.isArray(t.disabled)&&(t.disabled=u.unique(t.disabled.concat(u.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(this.options.active):this.active=u(),this._refresh(),this.active.length&&this.load(t.active)},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):u()}},_tabKeydown:function(t){var e=u(this.document[0].activeElement).closest("li"),n=this.tabs.index(e),i=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case u.ui.keyCode.RIGHT:case u.ui.keyCode.DOWN:n++;break;case u.ui.keyCode.UP:case u.ui.keyCode.LEFT:i=!1,n--;break;case u.ui.keyCode.END:n=this.anchors.length-1;break;case u.ui.keyCode.HOME:n=0;break;case u.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n);case u.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n!==this.options.active&&n);default:return}t.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,i),t.ctrlKey||(e.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===u.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===u.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===u.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,e){var n=this.tabs.length-1;for(;-1!==u.inArray((n<t&&(t=0),t<0&&(t=n),t),this.options.disabled);)t=e?t+1:t-1;return t},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).focus(),t},_setOption:function(t,e){"active"!==t?"disabled"!==t?(this._super(t,e),"collapsible"===t&&(this.element.toggleClass("ui-tabs-collapsible",e),e||!1!==this.options.active||this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e)):this._setupDisabled(e):this._activate(e)},_tabId:function(t){return t.attr("aria-controls")||"ui-tabs-"+i()},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,e=this.tablist.children(":has(a[href])");t.disabled=u.map(e.filter(".ui-state-disabled"),function(t){return e.index(t)}),this._processTabs(),!1!==t.active&&this.anchors.length?this.active.length&&!u.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=u()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=u()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var l=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return u("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=u(),this.anchors.each(function(t,e){var n,i,r,a=u(e).uniqueId().attr("id"),o=u(e).closest("li"),s=o.attr("aria-controls");c(e)?(n=e.hash,i=l.element.find(l._sanitizeSelector(n))):(n="#"+(r=l._tabId(o)),(i=l.element.find(n)).length||(i=l._createPanel(r)).insertAfter(l.panels[t-1]||l.tablist),i.attr("aria-live","polite")),i.length&&(l.panels=l.panels.add(i)),s&&o.data("ui-tabs-aria-controls",s),o.attr({"aria-controls":n.substring(1),"aria-labelledby":a}),i.attr("aria-labelledby",a)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(t){return u("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){u.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var e,n=0;e=this.tabs[n];n++)!0===t||-1!==u.inArray(n,t)?u(e).addClass("ui-state-disabled").attr("aria-disabled","true"):u(e).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var n={click:function(t){t.preventDefault()}};t&&u.each(t.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var n,e,i=this.element.parent();"fill"===t?(u.support.minHeight||(e=i.css("overflow"),i.css("overflow","hidden")),n=i.height(),this.element.siblings(":visible").each(function(){var t=u(this),e=t.css("position");"absolute"!==e&&"fixed"!==e&&(n-=t.outerHeight(!0))}),e&&i.css("overflow",e),this.element.children().not(this.panels).each(function(){n-=u(this).outerHeight(!0)}),this.panels.each(function(){u(this).height(Math.max(0,n-u(this).innerHeight()+u(this).height()))}).css("overflow","auto")):"auto"===t&&(n=0,this.panels.each(function(){n=Math.max(n,u(this).height("").height())}).height(n))},_eventHandler:function(t){var e=this.options,n=this.active,i=u(t.currentTarget).closest("li"),r=i[0]===n[0],a=r&&e.collapsible,o=a?u():this._getPanelForTab(i),s=n.length?this._getPanelForTab(n):u(),l={oldTab:n,oldPanel:s,newTab:a?u():i,newPanel:o};t.preventDefault(),i.hasClass("ui-state-disabled")||i.hasClass("ui-tabs-loading")||this.running||r&&!e.collapsible||!1===this._trigger("beforeActivate",t,l)||(e.active=!a&&this.tabs.index(i),this.active=r?u():i,this.xhr&&this.xhr.abort(),s.length||o.length||u.error("jQuery UI Tabs: Mismatching fragment identifier."),o.length&&this.load(this.tabs.index(i),t),this._toggle(t,l))},_toggle:function(t,e){var n=this,i=e.newPanel,r=e.oldPanel;function a(){n.running=!1,n._trigger("activate",t,e)}function o(){e.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),i.length&&n.options.show?n._show(i,n.options.show,a):(i.show(),a())}this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){e.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),o()}):(e.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r.hide(),o()),r.attr({"aria-expanded":"false","aria-hidden":"true"}),e.oldTab.attr("aria-selected","false"),i.length&&r.length?e.oldTab.attr("tabIndex",-1):i.length&&this.tabs.filter(function(){return 0===u(this).attr("tabIndex")}).attr("tabIndex",-1),i.attr({"aria-expanded":"true","aria-hidden":"false"}),e.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(t){var e,n=this._findActive(t);n[0]!==this.active[0]&&(n.length||(n=this.active),e=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:e,currentTarget:e,preventDefault:u.noop}))},_findActive:function(t){return!1===t?u():this.tabs.eq(t)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+t+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeData("href.tabs").removeData("load.tabs").removeUniqueId(),this.tabs.add(this.panels).each(function(){u.data(this,"ui-tabs-destroy")?u(this).remove():u(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=u(this),e=t.data("ui-tabs-aria-controls");e?t.attr("aria-controls",e):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(n){var t=this.options.disabled;!1!==t&&(t=n!==l&&(n=this._getIndex(n),u.isArray(t)?u.map(t,function(t){return t!==n?t:null}):u.map(this.tabs,function(t,e){return e!==n?e:null})),this._setupDisabled(t))},disable:function(t){var e=this.options.disabled;if(!0!==e){if(t===l)e=!0;else{if(t=this._getIndex(t),-1!==u.inArray(t,e))return;e=u.isArray(e)?u.merge([t],e).sort():[t]}this._setupDisabled(e)}},load:function(t,e){t=this._getIndex(t);var n=this,i=this.tabs.eq(t),r=i.find(".ui-tabs-anchor"),a=this._getPanelForTab(i),o={tab:i,panel:a};c(r[0])||(this.xhr=u.ajax(this._ajaxSettings(r,e,o)),this.xhr&&"canceled"!==this.xhr.statusText&&(i.addClass("ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.success(function(t){setTimeout(function(){a.html(t),n._trigger("load",e,o)},1)}).complete(function(t,e){setTimeout(function(){"abort"===e&&n.panels.stop(!1,!0),i.removeClass("ui-tabs-loading"),a.removeAttr("aria-busy"),t===n.xhr&&delete n.xhr},1)})))},_ajaxSettings:function(t,n,i){var r=this;return{url:t.attr("href"),beforeSend:function(t,e){return r._trigger("beforeLoad",n,u.extend({jqXHR:t,ajaxSettings:e},i))}}},_getPanelForTab:function(t){var e=u(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+e))}}),!1!==u.uiBackCompat&&(u.ui.tabs.prototype._ui=function(t,e){return{tab:t,panel:e,index:this.anchors.index(t)}},u.widget("ui.tabs",u.ui.tabs,{url:function(t,e){this.anchors.eq(t).attr("href",e)}}),u.widget("ui.tabs",u.ui.tabs,{options:{ajaxOptions:null,cache:!1},_create:function(){this._super();var n=this;this._on({tabsbeforeload:function(t,e){u.data(e.tab[0],"cache.tabs")?t.preventDefault():e.jqXHR.success(function(){n.options.cache&&u.data(e.tab[0],"cache.tabs",!0)})}})},_ajaxSettings:function(t,e,n){var i=this.options.ajaxOptions;return u.extend({},i,{error:function(t,e){try{i.error(t,e,n.tab.closest("li").index(),n.tab[0])}catch(t){}}},this._superApply(arguments))},_setOption:function(t,e){"cache"===t&&!1===e&&this.anchors.removeData("cache.tabs"),this._super(t,e)},_destroy:function(){this.anchors.removeData("cache.tabs"),this._super()},url:function(t){this.anchors.eq(t).removeData("cache.tabs"),this._superApply(arguments)}}),u.widget("ui.tabs",u.ui.tabs,{abort:function(){this.xhr&&this.xhr.abort()}}),u.widget("ui.tabs",u.ui.tabs,{options:{spinner:"<em>Loading&#8230;</em>"},_create:function(){this._super(),this._on({tabsbeforeload:function(t,e){if(t.target===this.element[0]&&this.options.spinner){var n=e.tab.find("span"),i=n.html();n.html(this.options.spinner),e.jqXHR.complete(function(){n.html(i)})}}})}}),u.widget("ui.tabs",u.ui.tabs,{options:{enable:null,disable:null},enable:function(t){var e,n=this.options;(t&&!0===n.disabled||u.isArray(n.disabled)&&-1!==u.inArray(t,n.disabled))&&(e=!0),this._superApply(arguments),e&&this._trigger("enable",null,this._ui(this.anchors[t],this.panels[t]))},disable:function(t){var e,n=this.options;(t&&!1===n.disabled||u.isArray(n.disabled)&&-1===u.inArray(t,n.disabled))&&(e=!0),this._superApply(arguments),e&&this._trigger("disable",null,this._ui(this.anchors[t],this.panels[t]))}}),u.widget("ui.tabs",u.ui.tabs,{options:{add:null,remove:null,tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},add:function(t,e,n){n===l&&(n=this.anchors.length);var i,r,a=this.options,o=u(a.tabTemplate.replace(/#\{href\}/g,t).replace(/#\{label\}/g,e)),s=t.indexOf("#")?this._tabId(o):t.replace("#","");return o.addClass("ui-state-default ui-corner-top").data("ui-tabs-destroy",!0),o.attr("aria-controls",s),i=n>=this.tabs.length,(r=this.element.find("#"+s)).length||(r=this._createPanel(s),i?0<n?r.insertAfter(this.panels.eq(-1)):r.appendTo(this.element):r.insertBefore(this.panels[n])),r.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").hide(),i?o.appendTo(this.tablist):o.insertBefore(this.tabs[n]),a.disabled=u.map(a.disabled,function(t){return n<=t?++t:t}),this.refresh(),1===this.tabs.length&&!1===a.active&&this.option("active",0),this._trigger("add",null,this._ui(this.anchors[n],this.panels[n])),this},remove:function(e){e=this._getIndex(e);var t=this.options,n=this.tabs.eq(e).remove(),i=this._getPanelForTab(n).remove();return n.hasClass("ui-tabs-active")&&2<this.anchors.length&&this._activate(e+(e+1<this.anchors.length?1:-1)),t.disabled=u.map(u.grep(t.disabled,function(t){return t!==e}),function(t){return e<=t?--t:t}),this.refresh(),this._trigger("remove",null,this._ui(n.find("a")[0],i[0])),this}}),u.widget("ui.tabs",u.ui.tabs,{length:function(){return this.anchors.length}}),u.widget("ui.tabs",u.ui.tabs,{options:{idPrefix:"ui-tabs-"},_tabId:function(t){var e=t.is("li")?t.find("a[href]"):t;return e=e[0],u(e).closest("li").attr("aria-controls")||e.title&&e.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF\-]/g,"")||this.options.idPrefix+i()}}),u.widget("ui.tabs",u.ui.tabs,{options:{panelTemplate:"<div></div>"},_createPanel:function(t){return u(this.options.panelTemplate).attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)}}),u.widget("ui.tabs",u.ui.tabs,{_create:function(){var t=this.options;null===t.active&&t.selected!==l&&(t.active=-1!==t.selected&&t.selected),this._super(),t.selected=t.active,!1===t.selected&&(t.selected=-1)},_setOption:function(t,e){if("selected"!==t)return this._super(t,e);var n=this.options;this._super("active",-1!==e&&e),n.selected=n.active,!1===n.selected&&(n.selected=-1)},_eventHandler:function(){this._superApply(arguments),this.options.selected=this.options.active,!1===this.options.selected&&(this.options.selected=-1)}}),u.widget("ui.tabs",u.ui.tabs,{options:{show:null,select:null},_create:function(){this._super(),!1!==this.options.active&&this._trigger("show",null,this._ui(this.active.find(".ui-tabs-anchor")[0],this._getPanelForTab(this.active)[0]))},_trigger:function(t,e,n){var i,r,a=this._superApply(arguments);return!!a&&("beforeActivate"===t?(i=n.newTab.length?n.newTab:n.oldTab,r=n.newPanel.length?n.newPanel:n.oldPanel,a=this._super("select",e,{tab:i.find(".ui-tabs-anchor")[0],panel:r[0],index:i.closest("li").index()})):"activate"===t&&n.newTab.length&&(a=this._super("show",e,{tab:n.newTab.find(".ui-tabs-anchor")[0],panel:n.newPanel[0],index:n.newTab.closest("li").index()})),a)}}),u.widget("ui.tabs",u.ui.tabs,{select:function(t){if(-1===(t=this._getIndex(t))){if(!this.options.collapsible||-1===this.options.selected)return;t=this.options.selected}this.anchors.eq(t).trigger(this.options.event+this.eventNamespace)}}),n=0,u.widget("ui.tabs",u.ui.tabs,{options:{cookie:null},_create:function(){var t,e=this.options;null==e.active&&e.cookie&&(-1===(t=parseInt(this._cookie(),10))&&(t=!1),e.active=t),this._super()},_cookie:function(t){var e=[this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+ ++n)];return arguments.length&&(e.push(!1===t?-1:t),e.push(this.options.cookie)),u.cookie.apply(null,e)},_refresh:function(){this._super(),this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_eventHandler:function(){this._superApply(arguments),this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_destroy:function(){this._super(),this.options.cookie&&this._cookie(null,this.options.cookie)}}),u.widget("ui.tabs",u.ui.tabs,{_trigger:function(t,e,n){var i=u.extend({},n);return"load"===t&&(i.panel=i.panel[0],i.tab=i.tab.find(".ui-tabs-anchor")[0]),this._super(t,e,i)}}),u.widget("ui.tabs",u.ui.tabs,{options:{fx:null},_getFx:function(){var t,e,n=this.options.fx;return n&&(u.isArray(n)?(t=n[0],e=n[1]):t=e=n),n?{show:e,hide:t}:null},_toggle:function(t,e){var n=this,i=e.newPanel,r=e.oldPanel,a=this._getFx();if(!a)return this._super(t,e);function o(){n.running=!1,n._trigger("activate",t,e)}function s(){e.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),i.length&&a.show?i.animate(a.show,a.show.duration,function(){o()}):(i.show(),o())}n.running=!0,r.length&&a.hide?r.animate(a.hide,a.hide.duration,function(){e.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),s()}):(e.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r.hide(),s())}}))}(jQuery),function(h){var i=0;h.widget("ui.tooltip",{version:"1.9.2",options:{content:function(){return h(this).attr("title")},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(t,e){var n=this;if("disabled"===t)return this[e?"_disable":"_enable"](),void(this.options[t]=e);this._super(t,e),"content"===t&&h.each(this.tooltips,function(t,e){n._updateContent(e)})},_disable:function(){var i=this;h.each(this.tooltips,function(t,e){var n=h.Event("blur");n.target=n.currentTarget=e[0],i.close(n,!0)}),this.element.find(this.options.items).andSelf().each(function(){var t=h(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).andSelf().each(function(){var t=h(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var n=this,e=h(t?t.target:this.element).closest(this.options.items);e.length&&!e.data("ui-tooltip-id")&&(e.attr("title")&&e.data("ui-tooltip-title",e.attr("title")),e.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&e.parents().each(function(){var t,e=h(this);e.data("ui-tooltip-open")&&((t=h.Event("blur")).target=t.currentTarget=this,n.close(t,!0)),e.attr("title")&&(e.uniqueId(),n.parents[this.id]={element:this,title:e.attr("title")},e.attr("title",""))}),this._updateContent(e,t))},_updateContent:function(e,n){var t,i=this.options.content,r=this,a=n?n.type:null;if("string"==typeof i)return this._open(n,e,i);(t=i.call(e[0],function(t){e.data("ui-tooltip-open")&&r._delay(function(){n&&(n.type=a),this._open(n,e,t)})}))&&this._open(n,e,t)},_open:function(t,n,e){var i,r,a,o,s,l,u=h.extend({},this.options.position);e&&((i=this._find(n)).length?i.find(".ui-tooltip-content").html(e):(n.is("[title]")&&(t&&"mouseover"===t.type?n.attr("title",""):n.removeAttr("title")),i=this._tooltip(n),o=n,s=i.attr("id"),(l=(o.attr("aria-describedby")||"").split(/\s+/)).push(s),o.data("ui-tooltip-id",s).attr("aria-describedby",h.trim(l.join(" "))),i.find(".ui-tooltip-content").html(e),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:c}),c(t)):i.position(h.extend({of:n},this.options.position)),i.hide(),this._show(i,this.options.show),this.options.show&&this.options.show.delay&&(a=setInterval(function(){i.is(":visible")&&(c(u.of),clearInterval(a))},h.fx.interval)),this._trigger("open",t,{tooltip:i}),r={keyup:function(t){if(t.keyCode===h.ui.keyCode.ESCAPE){var e=h.Event(t);e.currentTarget=n[0],this.close(e,!0)}},remove:function(){this._removeTooltip(i)}},t&&"mouseover"!==t.type||(r.mouseleave="close"),t&&"focusin"!==t.type||(r.focusout="close"),this._on(!0,n,r)));function c(t){u.of=t,i.is(":hidden")||i.position(u)}},close:function(t){var e,n,i,r,a=this,o=h(t?t.currentTarget:this.element),s=this._find(o);this.closing||(o.data("ui-tooltip-title")&&o.attr("title",o.data("ui-tooltip-title")),n=(e=o).data("ui-tooltip-id"),i=(e.attr("aria-describedby")||"").split(/\s+/),-1!==(r=h.inArray(n,i))&&i.splice(r,1),e.removeData("ui-tooltip-id"),(i=h.trim(i.join(" ")))?e.attr("aria-describedby",i):e.removeAttr("aria-describedby"),s.stop(!0),this._hide(s,this.options.hide,function(){a._removeTooltip(h(this))}),o.removeData("ui-tooltip-open"),this._off(o,"mouseleave focusout keyup"),o[0]!==this.element[0]&&this._off(o,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&h.each(this.parents,function(t,e){h(e.element).attr("title",e.title),delete a.parents[t]}),this.closing=!0,this._trigger("close",t,{tooltip:s}),this.closing=!1)},_tooltip:function(t){var e="ui-tooltip-"+i++,n=h("<div>").attr({id:e,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return h("<div>").addClass("ui-tooltip-content").appendTo(n),n.appendTo(this.document[0].body),h.fn.bgiframe&&n.bgiframe(),this.tooltips[e]=t,n},_find:function(t){var e=t.data("ui-tooltip-id");return e?h("#"+e):h()},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_destroy:function(){var i=this;h.each(this.tooltips,function(t,e){var n=h.Event("blur");n.target=n.currentTarget=e[0],i.close(n,!0),h("#"+t).remove(),e.data("ui-tooltip-title")&&(e.attr("title",e.data("ui-tooltip-title")),e.removeData("ui-tooltip-title"))})}})}(jQuery),d3=function(){var M={version:"3.3.7"};Date.now||(Date.now=function(){return+new Date});var a=[].slice,h=function(t){return a.call(t)},i=document,l=i.documentElement,P=window;try{h(l.childNodes)[0].nodeType}catch(t){h=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}try{i.createElement("div").style.setProperty("opacity",0,"")}catch(t){var e=P.Element.prototype,n=e.setAttribute,r=e.setAttributeNS,o=P.CSSStyleDeclaration.prototype,s=o.setProperty;e.setAttribute=function(t,e){n.call(this,t,e+"")},e.setAttributeNS=function(t,e,n){r.call(this,t,e,n+"")},o.setProperty=function(t,e,n){s.call(this,t,e+"",n)}}function u(t){return null!=t&&!isNaN(t)}M.ascending=function(t,e){return t<e?-1:e<t?1:e<=t?0:NaN},M.descending=function(t,e){return e<t?-1:t<e?1:t<=e?0:NaN},M.min=function(t,e){var n,i,r=-1,a=t.length;if(1===arguments.length){for(;++r<a&&!(null!=(n=t[r])&&n<=n);)n=void 0;for(;++r<a;)null!=(i=t[r])&&i<n&&(n=i)}else{for(;++r<a&&!(null!=(n=e.call(t,t[r],r))&&n<=n);)n=void 0;for(;++r<a;)null!=(i=e.call(t,t[r],r))&&i<n&&(n=i)}return n},M.max=function(t,e){var n,i,r=-1,a=t.length;if(1===arguments.length){for(;++r<a&&!(null!=(n=t[r])&&n<=n);)n=void 0;for(;++r<a;)null!=(i=t[r])&&n<i&&(n=i)}else{for(;++r<a&&!(null!=(n=e.call(t,t[r],r))&&n<=n);)n=void 0;for(;++r<a;)null!=(i=e.call(t,t[r],r))&&n<i&&(n=i)}return n},M.extent=function(t,e){var n,i,r,a=-1,o=t.length;if(1===arguments.length){for(;++a<o&&!(null!=(n=r=t[a])&&n<=n);)n=r=void 0;for(;++a<o;)null!=(i=t[a])&&(i<n&&(n=i),r<i&&(r=i))}else{for(;++a<o&&!(null!=(n=r=e.call(t,t[a],a))&&n<=n);)n=void 0;for(;++a<o;)null!=(i=e.call(t,t[a],a))&&(i<n&&(n=i),r<i&&(r=i))}return[n,r]},M.sum=function(t,e){var n,i=0,r=t.length,a=-1;if(1===arguments.length)for(;++a<r;)isNaN(n=+t[a])||(i+=n);else for(;++a<r;)isNaN(n=+e.call(t,t[a],a))||(i+=n);return i},M.mean=function(t,e){var n,i=t.length,r=0,a=-1,o=0;if(1===arguments.length)for(;++a<i;)u(n=t[a])&&(r+=(n-r)/++o);else for(;++a<i;)u(n=e.call(t,t[a],a))&&(r+=(n-r)/++o);return o?r:void 0},M.quantile=function(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),r=+t[i-1],a=n-i;return a?r+a*(t[i]-r):r},M.median=function(t,e){return 1<arguments.length&&(t=t.map(e)),(t=t.filter(u)).length?M.quantile(t.sort(M.ascending),.5):void 0},M.bisector=function(a){return{left:function(t,e,n,i){for(arguments.length<3&&(n=0),arguments.length<4&&(i=t.length);n<i;){var r=n+i>>>1;a.call(t,t[r],r)<e?n=r+1:i=r}return n},right:function(t,e,n,i){for(arguments.length<3&&(n=0),arguments.length<4&&(i=t.length);n<i;){var r=n+i>>>1;e<a.call(t,t[r],r)?i=r:n=r+1}return n}}};var t=M.bisector(function(t){return t});function c(t){return t.length}M.bisectLeft=t.left,M.bisect=M.bisectRight=t.right,M.shuffle=function(t){for(var e,n,i=t.length;i;)n=Math.random()*i--|0,e=t[i],t[i]=t[n],t[n]=e;return t},M.permute=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},M.pairs=function(t){for(var e=0,n=t.length-1,i=t[0],r=new Array(n<0?0:n);e<n;)r[e]=[i,i=t[++e]];return r},M.zip=function(){if(!(i=arguments.length))return[];for(var t=-1,e=M.min(arguments,c),n=new Array(e);++t<e;)for(var i,r=-1,a=n[t]=new Array(i);++r<i;)a[r]=arguments[r][t];return n},M.transpose=function(t){return M.zip.apply(M,t)},M.keys=function(t){var e=[];for(var n in t)e.push(n);return e},M.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},M.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},M.merge=function(t){for(var e,n,i,r=t.length,a=-1,o=0;++a<r;)o+=t[a].length;for(n=new Array(o);0<=--r;)for(e=(i=t[r]).length;0<=--e;)n[--o]=i[e];return n};var N=Math.abs;function d(e,n){try{for(var t in n)Object.defineProperty(e.prototype,t,{value:n[t],enumerable:!1})}catch(t){e.prototype=n}}function b(){}M.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("infinite range");var i,r=[],a=function(t){var e=1;for(;t*e%1;)e*=10;return e}(N(n)),o=-1;if(t*=a,e*=a,(n*=a)<0)for(;(i=t+n*++o)>e;)r.push(i/a);else for(;(i=t+n*++o)<e;)r.push(i/a);return r},M.map=function(t){var n=new b;if(t instanceof b)t.forEach(function(t,e){n.set(t,e)});else for(var e in t)n.set(e,t[e]);return n},d(b,{has:function(t){return p+t in this},get:function(t){return this[p+t]},set:function(t,e){return this[p+t]=e},remove:function(t){return(t=p+t)in this&&delete this[t]},keys:function(){var e=[];return this.forEach(function(t){e.push(t)}),e},values:function(){var n=[];return this.forEach(function(t,e){n.push(e)}),n},entries:function(){var n=[];return this.forEach(function(t,e){n.push({key:t,value:e})}),n},forEach:function(t){for(var e in this)e.charCodeAt(0)===f&&t.call(this,e.substring(1),this[e])}});var p="\0",f=p.charCodeAt(0);function g(){}function m(e,n,i){return function(){var t=i.apply(n,arguments);return t===n?e:t}}function v(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.substring(1);for(var n=0,i=y.length;n<i;++n){var r=y[n]+e;if(r in t)return r}}M.nest=function(){var h,d,p={},f=[],e=[];function g(n,t,i){if(i>=f.length)return d?d.call(p,t):h?t.sort(h):t;for(var e,r,a,o,s=-1,l=t.length,u=f[i++],c=new b;++s<l;)(o=c.get(e=u(r=t[s])))?o.push(r):c.set(e,[r]);return a=n?(r=n(),function(t,e){r.set(t,g(n,e,i))}):(r={},function(t,e){r[t]=g(n,e,i)}),c.forEach(a),r}return p.map=function(t,e){return g(e,t,0)},p.entries=function(t){return function n(t,i){if(i>=f.length)return t;var r=[],a=e[i++];return t.forEach(function(t,e){r.push({key:t,values:n(e,i)})}),a?r.sort(function(t,e){return a(t.key,e.key)}):r}(g(M.map,t,0),0)},p.key=function(t){return f.push(t),p},p.sortKeys=function(t){return e[f.length-1]=t,p},p.sortValues=function(t){return h=t,p},p.rollup=function(t){return d=t,p},p},M.set=function(t){var e=new g;if(t)for(var n=0,i=t.length;n<i;++n)e.add(t[n]);return e},d(g,{has:function(t){return p+t in this},add:function(t){return this[p+t]=!0,t},remove:function(t){return(t=p+t)in this&&delete this[t]},values:function(){var e=[];return this.forEach(function(t){e.push(t)}),e},forEach:function(t){for(var e in this)e.charCodeAt(0)===f&&t.call(this,e.substring(1))}}),M.behavior={},M.rebind=function(t,e){for(var n,i=1,r=arguments.length;++i<r;)t[n=arguments[i]]=m(t,e,e[n]);return t};var y=["webkit","ms","moz","Moz","o","O"];function _(){}function w(){}function C(r){var a=[],o=new b;function t(){for(var t,e=a,n=-1,i=e.length;++n<i;)(t=e[n].on)&&t.apply(this,arguments);return r}return t.on=function(t,e){var n,i=o.get(t);return arguments.length<2?i&&i.on:(i&&(i.on=null,a=a.slice(0,n=a.indexOf(i)).concat(a.slice(n+1)),o.remove(t)),e&&a.push(o.set(t,{on:e})),r)},t}function I(){M.event.preventDefault()}function S(){for(var t,e=M.event;t=e.sourceEvent;)e=t;return e}function L(r){for(var a=new w,t=0,e=arguments.length;++t<e;)a[arguments[t]]=C(a);return a.of=function(n,i){return function(t){try{var e=t.sourceEvent=M.event;t.target=r,M.event=t,a[t.type].apply(n,i)}finally{M.event=e}}},a}M.dispatch=function(){for(var t=new w,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=C(t);return t},w.prototype.on=function(t,e){var n=t.indexOf("."),i="";if(0<=n&&(i=t.substring(n+1),t=t.substring(0,n)),t)return arguments.length<2?this[t].on(i):this[t].on(i,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(i,null);return this}},M.event=null,M.requote=function(t){return t.replace(x,"\\$&")};var x=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,$={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]};function T(t){return $(t,O),t}var A=function(t,e){return e.querySelector(t)},D=function(t,e){return e.querySelectorAll(t)},k=l[v(l,"matchesSelector")],E=function(t,e){return k.call(t,e)};"function"==typeof Sizzle&&(A=function(t,e){return Sizzle(t,e)[0]||null},D=function(t,e){return Sizzle.uniqueSort(Sizzle(t,e))},E=Sizzle.matchesSelector),M.selection=function(){return tt};var O=M.selection.prototype=[];function R(t){return"function"==typeof t?t:function(){return A(t,this)}}function H(t){return"function"==typeof t?t:function(){return D(t,this)}}O.select=function(t){var e,n,i,r,a=[];t=R(t);for(var o=-1,s=this.length;++o<s;){a.push(e=[]),e.parentNode=(i=this[o]).parentNode;for(var l=-1,u=i.length;++l<u;)(r=i[l])?(e.push(n=t.call(r,r.__data__,l,o)),n&&"__data__"in r&&(n.__data__=r.__data__)):e.push(null)}return T(a)},O.selectAll=function(t){var e,n,i=[];t=H(t);for(var r=-1,a=this.length;++r<a;)for(var o=this[r],s=-1,l=o.length;++s<l;)(n=o[s])&&(i.push(e=h(t.call(n,n.__data__,s,r))),e.parentNode=n);return T(i)};var W={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function U(e,n){return e=M.ns.qualify(e),null==n?e.local?function(){this.removeAttributeNS(e.space,e.local)}:function(){this.removeAttribute(e)}:"function"==typeof n?e.local?function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}:function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}:e.local?function(){this.setAttributeNS(e.space,e.local,n)}:function(){this.setAttribute(e,n)}}function F(t){return t.trim().replace(/\s+/g," ")}function j(t){return new RegExp("(?:^|\\s+)"+M.requote(t)+"(?:\\s+|$)","g")}function z(n,i){var r=(n=n.trim().split(/\s+/).map(V)).length;return"function"==typeof i?function(){for(var t=-1,e=i.apply(this,arguments);++t<r;)n[t](this,e)}:function(){for(var t=-1;++t<r;)n[t](this,i)}}function V(i){var r=j(i);return function(t,e){if(n=t.classList)return e?n.add(i):n.remove(i);var n=t.getAttribute("class")||"";e?(r.lastIndex=0,r.test(n)||t.setAttribute("class",F(n+" "+i))):t.setAttribute("class",F(n.replace(r," ")))}}function B(e,n,i){return null==n?function(){this.style.removeProperty(e)}:"function"==typeof n?function(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,i)}:function(){this.style.setProperty(e,n,i)}}function Y(e,n){return null==n?function(){delete this[e]}:"function"==typeof n?function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}:function(){this[e]=n}}function q(t){return"function"==typeof t?t:(t=M.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,t)}}function G(t){return{__data__:t}}function K(t){return function(){return E(this,t)}}function Q(t,e){for(var n=0,i=t.length;n<i;n++)for(var r,a=t[n],o=0,s=a.length;o<s;o++)(r=a[o])&&e(r,o,n);return t}function X(t){return $(t,Z),t}M.ns={prefix:W,qualify:function(t){var e=t.indexOf(":"),n=t;return 0<=e&&(n=t.substring(0,e),t=t.substring(e+1)),W.hasOwnProperty(n)?{space:W[n],local:t}:t}},O.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return(t=M.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(U(e,t[e]));return this}return this.each(U(t,e))},O.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),i=(t=t.trim().split(/^|\s+/g)).length,r=-1;if(e=n.classList){for(;++r<i;)if(!e.contains(t[r]))return!1}else for(e=n.getAttribute("class");++r<i;)if(!j(t[r]).test(e))return!1;return!0}for(e in t)this.each(z(e,t[e]));return this}return this.each(z(t,e))},O.style=function(t,e,n){var i=arguments.length;if(i<3){if("string"!=typeof t){for(n in i<2&&(e=""),t)this.each(B(n,t[n],e));return this}if(i<2)return P.getComputedStyle(this.node(),null).getPropertyValue(t);n=""}return this.each(B(t,e,n))},O.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(Y(e,t[e]));return this}return this.each(Y(t,e))},O.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},O.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},O.append=function(t){return t=q(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},O.insert=function(t,e){return t=q(t),e=R(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},O.remove=function(){return this.each(function(){var t=this.parentNode;t&&t.removeChild(this)})},O.data=function(t,g){var e,n,i=-1,r=this.length;if(!arguments.length){for(t=new Array(r=(e=this[0]).length);++i<r;)(n=e[i])&&(t[i]=n.__data__);return t}function a(t,e){var n,i,r,a=t.length,o=e.length,s=Math.min(a,o),l=new Array(o),u=new Array(o),c=new Array(a);if(g){var h,d=new b,p=new b,f=[];for(n=-1;++n<a;)h=g.call(i=t[n],i.__data__,n),d.has(h)?c[n]=i:d.set(h,i),f.push(h);for(n=-1;++n<o;)h=g.call(e,r=e[n],n),(i=d.get(h))?(l[n]=i).__data__=r:p.has(h)||(u[n]=G(r)),p.set(h,r),d.remove(h);for(n=-1;++n<a;)d.has(f[n])&&(c[n]=t[n])}else{for(n=-1;++n<s;)i=t[n],r=e[n],i?(i.__data__=r,l[n]=i):u[n]=G(r);for(;n<o;++n)u[n]=G(e[n]);for(;n<a;++n)c[n]=t[n]}u.update=l,u.parentNode=l.parentNode=c.parentNode=t.parentNode,m.push(u),v.push(l),y.push(c)}var m=X([]),v=T([]),y=T([]);if("function"==typeof t)for(;++i<r;)a(e=this[i],t.call(e,e.parentNode.__data__,i));else for(;++i<r;)a(e=this[i],t);return v.enter=function(){return m},v.exit=function(){return y},v},O.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},O.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=K(t));for(var a=0,o=this.length;a<o;a++){r.push(e=[]),e.parentNode=(n=this[a]).parentNode;for(var s=0,l=n.length;s<l;s++)(i=n[s])&&t.call(i,i.__data__,s)&&e.push(i)}return T(r)},O.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,i=this[t],r=i.length-1,a=i[r];0<=--r;)(n=i[r])&&(a&&a!==n.nextSibling&&a.parentNode.insertBefore(n,a),a=n);return this},O.sort=function(t){t=function(n){arguments.length||(n=M.ascending);return function(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}}.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},O.each=function(i){return Q(this,function(t,e,n){i.call(t,t.__data__,e,n)})},O.call=function(t){var e=h(arguments);return t.apply(e[0]=this,e),this},O.empty=function(){return!this.node()},O.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],i=0,r=n.length;i<r;i++){var a=n[i];if(a)return a}return null},O.size=function(){var t=0;return this.each(function(){++t}),t};var Z=[];function J(){var t=this.__transition__;t&&++t.active}M.selection.enter=X,(M.selection.enter.prototype=Z).append=O.append,Z.empty=O.empty,Z.node=O.node,Z.call=O.call,Z.size=O.size,Z.select=function(t){for(var e,n,i,r,a,o=[],s=-1,l=this.length;++s<l;){i=(r=this[s]).update,o.push(e=[]),e.parentNode=r.parentNode;for(var u=-1,c=r.length;++u<c;)(a=r[u])?(e.push(i[u]=n=t.call(r.parentNode,a.__data__,u,s)),n.__data__=a.__data__):e.push(null)}return T(o)},Z.insert=function(t,e){var o,s,l;return arguments.length<2&&(o=this,e=function(t,e,n){var i,r=o[n].update,a=r.length;for(n!=l&&(l=n,s=0),s<=e&&(s=e+1);!(i=r[s])&&++s<a;);return i}),O.insert.call(this,t,e)},O.transition=function(){for(var t,e,n=_o||++So,i=[],r=wo||{time:Date.now(),ease:Nr,delay:0,duration:250},a=-1,o=this.length;++a<o;){i.push(t=[]);for(var s=this[a],l=-1,u=s.length;++l<u;)(e=s[l])&&To(e,l,n,r),t.push(e)}return bo(i,n)},O.interrupt=function(){return this.each(J)},M.select=function(t){var e=["string"==typeof t?A(t,i):t];return e.parentNode=l,T([e])},M.selectAll=function(t){var e=h("string"==typeof t?D(t,i):t);return e.parentNode=l,T([e])};var tt=M.select(l);function et(r,e,n){var i="__on"+r,t=r.indexOf("."),a=it;0<t&&(r=r.substring(0,t));var o=nt.get(r);function s(){var t=this[i];t&&(this.removeEventListener(r,t,t.$),delete this[i])}return o&&(r=o,a=rt),t?e?function(){var t=a(e,h(arguments));s.call(this),this.addEventListener(r,this[i]=t,t.$=n),t._=e}:s:e?_:function(){var t,e=new RegExp("^__on([^.]+)"+M.requote(r)+"$");for(var n in this)if(t=n.match(e)){var i=this[n];this.removeEventListener(t[1],i,i.$),delete this[n]}}}O.on=function(t,e,n){var i=arguments.length;if(i<3){if("string"!=typeof t){for(n in i<2&&(e=!1),t)this.each(et(n,t[n],e));return this}if(i<2)return(i=this.node()["__on"+t])&&i._;n=!1}return this.each(et(t,e,n))};var nt=M.map({mouseenter:"mouseover",mouseleave:"mouseout"});function it(n,i){return function(t){var e=M.event;M.event=t,i[0]=this.__data__;try{n.apply(this,i)}finally{M.event=e}}}function rt(t,e){var n=it(t,e);return function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}nt.forEach(function(t){"on"+t in i&&nt.remove(t)});var at=v(l.style,"userSelect"),ot=0;function st(){var n=".dragsuppress-"+ ++ot,t="touchmove"+n,e="selectstart"+n,i="dragstart"+n,r="click"+n,a=M.select(P).on(t,I).on(e,I).on(i,I),o=l.style,s=o[at];return o[at]="none",function(t){if(a.on(n,null),o[at]=s,t){function e(){a.on(r,null)}a.on(r,function(){I(),e()},!0),setTimeout(e,0)}}}M.mouse=function(t){return ut(t,S())};var lt=/WebKit/.test(P.navigator.userAgent)?-1:0;function ut(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();if(lt<0&&(P.scrollX||P.scrollY)){var r=(n=M.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();lt=!(r.f||r.e),n.remove()}return i.y=lt?(i.x=e.pageX,e.pageY):(i.x=e.clientX,e.clientY),[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}M.touches=function(n,t){return arguments.length<2&&(t=S().touches),t?h(t).map(function(t){var e=ut(n,t);return e.identifier=t.identifier,e}):[]},M.behavior.drag=function(){var f=L(n,"drag","dragstart","dragend"),g=null,t=i(_,M.mouse,"mousemove","mouseup"),e=i(function(){return M.event.changedTouches[0].identifier},function(t,e){return M.touches(t).filter(function(t){return t.identifier===e})[0]},"touchmove","touchend");function n(){this.on("mousedown.drag",t).on("touchstart.drag",e)}function i(c,h,d,p){return function(){var i,r=this.parentNode,a=f.of(this,arguments),t=M.event.target,o=c(),e=null==o?"drag":"drag-"+o,s=h(r,o),l=0,n=M.select(P).on(d+"."+e,function(){var t=h(r,o),e=t[0]-s[0],n=t[1]-s[1];l|=e|n,a({type:"drag",x:(s=t)[0]+i[0],y:t[1]+i[1],dx:e,dy:n})}).on(p+"."+e,function(){n.on(d+"."+e,null).on(p+"."+e,null),u(l&&M.event.target===t),a({type:"dragend"})}),u=st();i=g?[(i=g.apply(this,arguments)).x-s[0],i.y-s[1]]:[0,0],a({type:"dragstart"})}}return n.origin=function(t){return arguments.length?(g=t,n):g},M.rebind(n,f,"on")};var ct=Math.PI,ht=2*ct,dt=ct/2,pt=1e-6,ft=pt*pt,gt=ct/180,mt=180/ct;function vt(t){return 0<t?1:t<0?-1:0}function yt(t){return 1<t?0:t<-1?ct:Math.acos(t)}function bt(t){return 1<t?dt:t<-1?-dt:Math.asin(t)}function _t(t){return((t=Math.exp(t))-1/t)/2}function wt(t){return((t=Math.exp(t))+1/t)/2}function Ct(t){return(t=Math.sin(t/2))*t}var St=Math.SQRT2;M.interpolateZoom=function(t,e){var a=t[0],o=t[1],s=t[2],n=e[0],i=e[1],r=e[2],l=n-a,u=i-o,c=l*l+u*u,h=Math.sqrt(c),d=(r*r-s*s+4*c)/(2*s*2*h),p=(r*r-s*s-4*c)/(2*r*2*h),f=Math.log(Math.sqrt(d*d+1)-d),g=Math.log(Math.sqrt(p*p+1)-p)-f,m=(g||Math.log(r/s))/St;function v(t){var e,n=t*m;if(g){var i=wt(f),r=s/(2*h)*(i*(e=St*n+f,((e=Math.exp(2*e))-1)/(e+1))-_t(f));return[a+r*l,o+r*u,s*i/wt(St*n+f)]}return[a+t*l,o+t*u,s*Math.exp(St*n)]}return v.duration=1e3*m,v},M.behavior.zoom=function(){var n,i,r,g,e,a,o,s,m={x:0,y:0,k:1},l=[960,500],u=$t,v="mousedown.zoom",c="mousemove.zoom",h="mouseup.zoom",y="touchstart.zoom",b=L(d,"zoomstart","zoom","zoomend");function d(t){t.on(v,T).on(Tt+".zoom",f).on(c,D).on("dblclick.zoom",k).on(y,A)}function _(t){return[(t[0]-m.x)/m.k,(t[1]-m.y)/m.k]}function w(t){m.k=Math.max(u[0],Math.min(u[1],t))}function C(t,e){var n;e=[(n=e)[0]*m.k+m.x,n[1]*m.k+m.y],m.x+=t[0]-e[0],m.y+=t[1]-e[1]}function p(){a&&a.domain(e.range().map(function(t){return(t-m.x)/m.k}).map(e.invert)),s&&s.domain(o.range().map(function(t){return(t-m.y)/m.k}).map(o.invert))}function S(t){t({type:"zoomstart"})}function x(t){p(),t({type:"zoom",scale:m.k,translate:[m.x,m.y]})}function $(t){t({type:"zoomend"})}function T(){var t=this,e=b.of(t,arguments),n=M.event.target,i=0,r=M.select(P).on(c,function(){i=1,C(M.mouse(t),a),x(e)}).on(h,function(){r.on(c,P===t?D:null).on(h,null),o(i&&M.event.target===n),$(e)}),a=_(M.mouse(t)),o=st();J.call(t),S(e)}function A(){var u,c=this,h=b.of(c,arguments),d={},p=0,t=M.event.changedTouches[0].identifier,r="touchmove.zoom-"+t,a="touchend.zoom-"+t,o=M.select(P).on(r,function(){for(var t,e,n,i,r=M.touches(c),a=0,o=r.length;a<o;++a,i=null)if(n=r[a],i=d[n.identifier]){if(e)break;t=n,e=i}if(i){var s=(s=n[0]-t[0])*s+(s=n[1]-t[1])*s,l=p&&Math.sqrt(s/p);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+i[0])/2,(e[1]+i[1])/2],w(l*u)}g=null,C(t,e),x(h)}).on(a,function(){if(M.event.touches.length){for(var t=M.event.changedTouches,e=0,n=t.length;e<n;++e)delete d[t[e].identifier];for(var i in d)return void f()}o.on(r,null).on(a,null),s.on(v,T).on(y,A),l(),$(h)}),s=M.select(c).on(v,null).on(y,e),l=st();function f(){var t=M.touches(c);return u=m.k,t.forEach(function(t){t.identifier in d&&(d[t.identifier]=_(t))}),t}function e(){for(var t=M.event.changedTouches,e=0,n=t.length;e<n;++e)d[t[e].identifier]=null;var i=f(),r=Date.now();if(1===i.length){if(r-g<500){var a=i[0],o=d[a.identifier];w(2*m.k),C(a,o),I(),x(h)}g=r}else if(1<i.length){a=i[0];var s=i[1],l=a[0]-s[0],u=a[1]-s[1];p=l*l+u*u}}J.call(c),e(),S(h)}function f(){var t=b.of(this,arguments);r?clearTimeout(r):(J.call(this),S(t)),r=setTimeout(function(){r=null,$(t)},50),I();var e=i||M.mouse(this);n||(n=_(e)),w(Math.pow(2,.002*xt())*m.k),C(e,n),x(t)}function D(){n=null}function k(){var t=b.of(this,arguments),e=M.mouse(this),n=_(e),i=Math.log(m.k)/Math.LN2;S(t),w(Math.pow(2,M.event.shiftKey?Math.ceil(i)-1:Math.floor(i)+1)),C(e,n),x(t),$(t)}return d.event=function(t){t.each(function(){var s=b.of(this,arguments),e=m;_o?M.select(this).transition().each("start.zoom",function(){m=this.__chart__||{x:0,y:0,k:1},S(s)}).tween("zoom:zoom",function(){var i=l[0],t=l[1],r=i/2,a=t/2,o=M.interpolateZoom([(r-m.x)/m.k,(a-m.y)/m.k,i/m.k],[(r-e.x)/e.k,(a-e.y)/e.k,i/e.k]);return function(t){var e=o(t),n=i/e[2];this.__chart__=m={x:r-e[0]*n,y:a-e[1]*n,k:n},x(s)}}).each("end.zoom",function(){$(s)}):(this.__chart__=m,S(s),x(s),$(s))})},d.translate=function(t){return arguments.length?(m={x:+t[0],y:+t[1],k:m.k},p(),d):[m.x,m.y]},d.scale=function(t){return arguments.length?(m={x:m.x,y:m.y,k:+t},p(),d):m.k},d.scaleExtent=function(t){return arguments.length?(u=null==t?$t:[+t[0],+t[1]],d):u},d.center=function(t){return arguments.length?(i=t&&[+t[0],+t[1]],d):i},d.size=function(t){return arguments.length?(l=t&&[+t[0],+t[1]],d):l},d.x=function(t){return arguments.length?(e=(a=t).copy(),m={x:0,y:0,k:1},d):a},d.y=function(t){return arguments.length?(o=(s=t).copy(),m={x:0,y:0,k:1},d):s},M.rebind(d,b,"on")};var xt,$t=[0,1/0],Tt="onwheel"in i?(xt=function(){return-M.event.deltaY*(M.event.deltaMode?120:1)},"wheel"):"onmousewheel"in i?(xt=function(){return M.event.wheelDelta},"mousewheel"):(xt=function(){return-M.event.detail},"MozMousePixelScroll");function At(){}function Dt(t,e,n){return new kt(t,e,n)}function kt(t,e,n){this.h=t,this.s=e,this.l=n}At.prototype.toString=function(){return this.rgb()+""},M.hsl=function(t,e,n){return 1===arguments.length?t instanceof kt?Dt(t.h,t.s,t.l):te(""+t,ee,Dt):Dt(+t,+e,+n)};var Et=kt.prototype=new At;function Mt(t,e,n){var i,r;function a(t){return Math.round(255*(360<(e=t)?e-=360:e<0&&(e+=360),e<60?i+(r-i)*e/60:e<180?r:e<240?i+(r-i)*(240-e)/60:i));var e}return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:1<e?1:e,i=2*(n=n<0?0:1<n?1:n)-(r=n<=.5?n*(1+e):n+e-n*e),Qt(a(t+120),a(t),a(t-120))}function Pt(t,e,n){return new Nt(t,e,n)}function Nt(t,e,n){this.h=t,this.c=e,this.l=n}Et.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),Dt(this.h,this.s,this.l/t)},Et.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),Dt(this.h,this.s,t*this.l)},Et.rgb=function(){return Mt(this.h,this.s,this.l)},M.hcl=function(t,e,n){return 1===arguments.length?t instanceof Nt?Pt(t.h,t.c,t.l):Vt(t instanceof Rt?t.l:(t=ne((t=M.rgb(t)).r,t.g,t.b)).l,t.a,t.b):Pt(+t,+e,+n)};var It=Nt.prototype=new At;function Lt(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),Ot(n,Math.cos(t*=gt)*e,Math.sin(t)*e)}function Ot(t,e,n){return new Rt(t,e,n)}function Rt(t,e,n){this.l=t,this.a=e,this.b=n}It.brighter=function(t){return Pt(this.h,this.c,Math.min(100,this.l+Ht*(arguments.length?t:1)))},It.darker=function(t){return Pt(this.h,this.c,Math.max(0,this.l-Ht*(arguments.length?t:1)))},It.rgb=function(){return Lt(this.h,this.c,this.l).rgb()},M.lab=function(t,e,n){return 1===arguments.length?t instanceof Rt?Ot(t.l,t.a,t.b):t instanceof Nt?Lt(t.l,t.c,t.h):ne((t=M.rgb(t)).r,t.g,t.b):Ot(+t,+e,+n)};var Ht=18,Wt=.95047,Ut=1,Ft=1.08883,jt=Rt.prototype=new At;function zt(t,e,n){var i=(t+16)/116,r=i+e/500,a=i-n/200;return Qt(qt(3.2404542*(r=Bt(r)*Wt)-1.5371385*(i=Bt(i)*Ut)-.4985314*(a=Bt(a)*Ft)),qt(-.969266*r+1.8760108*i+.041556*a),qt(.0556434*r-.2040259*i+1.0572252*a))}function Vt(t,e,n){return 0<t?Pt(Math.atan2(n,e)*mt,Math.sqrt(e*e+n*n),t):Pt(NaN,NaN,t)}function Bt(t){return.206893034<t?t*t*t:(t-4/29)/7.787037}function Yt(t){return.008856<t?Math.pow(t,1/3):7.787037*t+4/29}function qt(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function Gt(t){return Qt(t>>16,t>>8&255,255&t)}function Kt(t){return Gt(t)+""}function Qt(t,e,n){return new Xt(t,e,n)}function Xt(t,e,n){this.r=t,this.g=e,this.b=n}jt.brighter=function(t){return Ot(Math.min(100,this.l+Ht*(arguments.length?t:1)),this.a,this.b)},jt.darker=function(t){return Ot(Math.max(0,this.l-Ht*(arguments.length?t:1)),this.a,this.b)},jt.rgb=function(){return zt(this.l,this.a,this.b)},M.rgb=function(t,e,n){return 1===arguments.length?t instanceof Xt?Qt(t.r,t.g,t.b):te(""+t,Qt,Mt):Qt(~~t,~~e,~~n)};var Zt=Xt.prototype=new At;function Jt(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function te(t,e,n){var i,r,a,o=0,s=0,l=0;if(i=/([a-z]+)\((.*)\)/i.exec(t))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return e(re(r[0]),re(r[1]),re(r[2]))}return(a=ae.get(t))?e(a.r,a.g,a.b):(null!=t&&"#"===t.charAt(0)&&(4===t.length?(o=t.charAt(1),o+=o,s=t.charAt(2),s+=s,l=t.charAt(3),l+=l):7===t.length&&(o=t.substring(1,3),s=t.substring(3,5),l=t.substring(5,7)),o=parseInt(o,16),s=parseInt(s,16),l=parseInt(l,16)),e(o,s,l))}function ee(t,e,n){var i,r,a=Math.min(t/=255,e/=255,n/=255),o=Math.max(t,e,n),s=o-a,l=(o+a)/2;return s?(r=l<.5?s/(o+a):s/(2-o-a),i=t==o?(e-n)/s+(e<n?6:0):e==o?(n-t)/s+2:(t-e)/s+4,i*=60):(i=NaN,r=0<l&&l<1?0:i),Dt(i,r,l)}function ne(t,e,n){var i=Yt((.4124564*(t=ie(t))+.3575761*(e=ie(e))+.1804375*(n=ie(n)))/Wt),r=Yt((.2126729*t+.7151522*e+.072175*n)/Ut);return Ot(116*r-16,500*(i-r),200*(r-Yt((.0193339*t+.119192*e+.9503041*n)/Ft)))}function ie(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function re(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}Zt.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,i=this.b;return e||n||i?(e&&e<30&&(e=30),n&&n<30&&(n=30),i&&i<30&&(i=30),Qt(Math.min(255,~~(e/t)),Math.min(255,~~(n/t)),Math.min(255,~~(i/t)))):Qt(30,30,30)},Zt.darker=function(t){return Qt(~~((t=Math.pow(.7,arguments.length?t:1))*this.r),~~(t*this.g),~~(t*this.b))},Zt.hsl=function(){return ee(this.r,this.g,this.b)},Zt.toString=function(){return"#"+Jt(this.r)+Jt(this.g)+Jt(this.b)};var ae=M.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function oe(t){return"function"==typeof t?t:function(){return t}}function se(t){return t}function le(i){return function(t,e,n){return 2===arguments.length&&"function"==typeof e&&(n=e,e=null),ue(t,e,i,n)}}function ue(r,a,n,t){var i,o={},s=M.dispatch("beforesend","progress","load","error"),l={},u=new XMLHttpRequest,c=null;function e(){var t,e=u.status;if(!e&&u.responseText||200<=e&&e<300||304===e){try{t=n.call(o,u)}catch(t){return void s.error.call(o,t)}s.load.call(o,t)}else s.error.call(o,u)}return!P.XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(r)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=e:u.onreadystatechange=function(){3<u.readyState&&e()},u.onprogress=function(t){var e=M.event;M.event=t;try{s.progress.call(o,u)}finally{M.event=e}},o.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?l[t]:(null==e?delete l[t]:l[t]=e+"",o)},o.mimeType=function(t){return arguments.length?(a=null==t?null:t+"",o):a},o.responseType=function(t){return arguments.length?(c=t,o):c},o.response=function(t){return n=t,o},["get","post"].forEach(function(t){o[t]=function(){return o.send.apply(o,[t].concat(h(arguments)))}}),o.send=function(t,e,n){if(2===arguments.length&&"function"==typeof e&&(n=e,e=null),u.open(t,r,!0),null==a||"accept"in l||(l.accept=a+",*/*"),u.setRequestHeader)for(var i in l)u.setRequestHeader(i,l[i]);return null!=a&&u.overrideMimeType&&u.overrideMimeType(a),null!=c&&(u.responseType=c),null!=n&&o.on("error",n).on("load",function(t){n(null,t)}),s.beforesend.call(o,u),u.send(null==e?null:e),o},o.abort=function(){return u.abort(),o},M.rebind(o,s,"on"),null==t?o:o.get(1===(i=t).length?function(t,e){i(null==t?e:null)}:i)}ae.forEach(function(t,e){ae.set(t,Gt(e))}),M.functor=oe,M.xhr=le(se),M.dsv=function(r,a){var e=new RegExp('["'+r+"\n]"),d=r.charCodeAt(0);function o(t,n,e){arguments.length<3&&(e=n,n=null);var i=M.xhr(t,a,e);return i.row=function(t){return arguments.length?i.response(null==(n=t)?s:(e=t,function(t){return o.parse(t.responseText,e)})):n;var e},i.row(n)}function s(t){return o.parse(t.responseText)}function n(t){return t.map(l).join(r)}function l(t){return e.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}return o.parse=function(t,i){var r;return o.parseRows(t,function(t,e){if(r)return r(t,e-1);var n=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");r=i?function(t,e){return i(n(t),e)}:n})},o.parseRows=function(r,t){var e,a,o={},s={},n=[],l=r.length,u=0,i=0;function c(){if(l<=u)return s;if(a)return a=!1,o;var t=u;if(34===r.charCodeAt(t)){for(var e=t;e++<l;)if(34===r.charCodeAt(e)){if(34!==r.charCodeAt(e+1))break;++e}return u=e+2,13===(n=r.charCodeAt(e+1))?(a=!0,10===r.charCodeAt(e+2)&&++u):10===n&&(a=!0),r.substring(t+1,e).replace(/""/g,'"')}for(;u<l;){var n,i=1;if(10===(n=r.charCodeAt(u++)))a=!0;else if(13===n)a=!0,10===r.charCodeAt(u)&&(++u,++i);else if(n!==d)continue;return r.substring(t,u-i)}return r.substring(t)}for(;(e=c())!==s;){for(var h=[];e!==o&&e!==s;)h.push(e),e=c();t&&!(h=t(h,i++))||n.push(h)}return n},o.format=function(t){if(Array.isArray(t[0]))return o.formatRows(t);var n=new g,i=[];return t.forEach(function(t){for(var e in t)n.has(e)||i.push(n.add(e))}),[i.map(l).join(r)].concat(t.map(function(e){return i.map(function(t){return l(e[t])}).join(r)})).join("\n")},o.formatRows=function(t){return t.map(n).join("\n")},o},M.csv=M.dsv(",","text/csv"),M.tsv=M.dsv("\t","text/tab-separated-values");var ce,he,de,pe,fe,ge=P[v(P,"requestAnimationFrame")]||function(t){setTimeout(t,17)};function me(){var t=ve(),e=ye()-t;24<e?(isFinite(e)&&(clearTimeout(pe),pe=setTimeout(me,e)),de=0):(de=1,ge(me))}function ve(){var t=Date.now();for(fe=ce;fe;)t>=fe.t&&(fe.f=fe.c(t-fe.t)),fe=fe.n;return t}function ye(){for(var t,e=ce,n=1/0;e;)e=e.f?t?t.n=e.n:ce=e.n:(e.t<n&&(n=e.t),(t=e).n);return he=t,n}M.timer=function(t,e,n){var i=arguments.length;i<2&&(e=0),i<3&&(n=Date.now());var r={c:t,t:n+e,f:!1,n:null};he?he.n=r:ce=r,he=r,de||(pe=clearTimeout(pe),de=1,ge(me))},M.timer.flush=function(){ve(),ye()};var be=[3,3],_e=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(function(t,e){var n=Math.pow(10,3*N(8-e));return{scale:8<e?function(t){return t/n}:function(t){return t*n},symbol:t}});M.formatPrefix=function(t,e){var n=0;return t&&(t<0&&(t*=-1),e&&(t=M.round(t,Se(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n<=0?n+1:n-1)/3)))),_e[8+n/3]},M.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)},M.format=function(t){var e=we.exec(t),l=e[1]||" ",u=e[2]||">",c=e[3]||"",h=e[4]||"",d=e[5],p=+e[6],f=e[7],g=e[8],m=e[9],v=1,y="",b=!1;switch(g&&(g=+g.substring(1)),(d||"0"===l&&"="===u)&&(d=l="0",u="=",f&&(p-=Math.floor((p-1)/4))),m){case"n":f=!0,m="g";break;case"%":v=100,y="%",m="f";break;case"p":v=100,y="%",m="r";break;case"b":case"o":case"x":case"X":"#"===h&&(h="0"+m.toLowerCase());case"c":case"d":b=!0,g=0;break;case"s":v=-1,m="r"}"#"===h?h="":"$"===h&&(h="$"),"r"!=m||g||(m="g"),null!=g&&("g"==m?g=Math.max(1,Math.min(21,g)):"e"!=m&&"f"!=m||(g=Math.max(0,Math.min(20,g)))),m=Ce.get(m)||xe;var _=d&&f;return function(t){if(b&&t%1)return"";var e=t<0||0===t&&1/t<0?(t=-t,"-"):c;if(v<0){var n=M.formatPrefix(t,g);t=n.scale(t),y=n.symbol}else t*=v;var i=(t=m(t,g)).lastIndexOf("."),r=i<0?t:t.substring(0,i),a=i<0?"":"."+t.substring(i+1);!d&&f&&(r=$e(r));var o=h.length+r.length+a.length+(_?0:e.length),s=o<p?new Array(o=p-o+1).join(l):"";return _&&(r=$e(s+r)),e+=h,t=r+a,("<"===u?e+t+s:">"===u?s+e+t:"^"===u?s.substring(0,o>>=1)+e+t+s.substring(o):e+(_?t:s+t))+y}};var we=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Ce=M.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=M.round(t,Se(t,e))).toFixed(Math.max(0,Math.min(20,Se(t*(1+1e-15),e))))}});function Se(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function xe(t){return t+""}var $e=se,Te=be.length;function Ae(){}$e=function(t){for(var e=t.length,n=[],i=0,r=be[0];0<e&&0<r;)n.push(t.substring(e-=r,e+r)),r=be[i=(i+1)%Te];return n.reverse().join(",")},M.geo={},Ae.prototype={s:0,t:0,add:function(t){ke(t,this.t,De),ke(De.s,this.s,this),this.s?this.t+=De.t:this.s=De.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var De=new Ae;function ke(t,e,n){var i=n.s=t+e,r=i-t,a=i-r;n.t=t-a+(e-r)}function Ee(t,e){t&&Pe.hasOwnProperty(t.type)&&Pe[t.type](t,e)}M.geo.stream=function(t,e){t&&Me.hasOwnProperty(t.type)?Me[t.type](t,e):Ee(t,e)};var Me={Feature:function(t,e){Ee(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)Ee(n[i].geometry,e)}},Pe={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){Ne(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)Ne(n[i],e,0)},Polygon:function(t,e){Ie(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)Ie(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)Ee(n[i],e)}};function Ne(t,e,n){var i,r=-1,a=t.length-n;for(e.lineStart();++r<a;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function Ie(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)Ne(t[n],e,1);e.polygonEnd()}M.geo.area=function(t){return Le=0,M.geo.stream(t,Ge),Le};var Le,Oe,Re,He,We,Ue,Fe,je,ze,Ve,Be,Ye,qe=new Ae,Ge={sphere:function(){Le+=4*ct},point:_,lineStart:_,lineEnd:_,polygonStart:function(){qe.reset(),Ge.lineStart=Ke},polygonEnd:function(){var t=2*qe;Le+=t<0?4*ct+t:t,Ge.lineStart=Ge.lineEnd=Ge.point=_}};function Ke(){var n,i,l,u,c;function r(t,e){e=e*gt/2+ct/4;var n=(t*=gt)-l,i=Math.cos(e),r=Math.sin(e),a=c*r,o=u*i+a*Math.cos(n),s=a*Math.sin(n);qe.add(Math.atan2(s,o)),l=t,u=i,c=r}Ge.point=function(t,e){Ge.point=r,l=(n=t)*gt,u=Math.cos(e=(i=e)*gt/2+ct/4),c=Math.sin(e)},Ge.lineEnd=function(){r(n,i)}}function Qe(t){var e=t[0],n=t[1],i=Math.cos(n);return[i*Math.cos(e),i*Math.sin(e),Math.sin(n)]}function Xe(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Ze(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Je(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function tn(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function en(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function nn(t){return[Math.atan2(t[1],t[0]),bt(t[2])]}function rn(t,e){return N(t[0]-e[0])<pt&&N(t[1]-e[1])<pt}M.geo.bounds=function(){var c,h,d,p,f,i,r,g,a,l,u,m={point:v,lineStart:t,lineEnd:e,polygonStart:function(){m.point=n,m.lineStart=s,m.lineEnd=y,a=0,Ge.polygonStart()},polygonEnd:function(){Ge.polygonEnd(),m.point=v,m.lineStart=t,m.lineEnd=e,qe<0?(c=-(d=180),h=-(p=90)):pt<a?p=90:a<-pt&&(h=-90),u[0]=c,u[1]=d}};function v(t,e){l.push(u=[c=t,d=t]),e<h&&(h=e),p<e&&(p=e)}function o(t,e){var n=Qe([t*gt,e*gt]);if(g){var i=Ze(g,n),r=Ze([i[1],-i[0],0],i);en(r),r=nn(r);var a=t-f,o=0<a?1:-1,s=r[0]*mt*o,l=180<N(a);if(l^(o*f<s&&s<o*t)){var u=r[1]*mt;p<u&&(p=u)}else if(l^(o*f<(s=(s+360)%360-180)&&s<o*t)){(u=-r[1]*mt)<h&&(h=u)}else e<h&&(h=e),p<e&&(p=e);l?t<f?b(c,t)>b(c,d)&&(d=t):b(t,d)>b(c,d)&&(c=t):c<=d?(t<c&&(c=t),d<t&&(d=t)):f<t?b(c,t)>b(c,d)&&(d=t):b(t,d)>b(c,d)&&(c=t)}else v(t,e);g=n,f=t}function t(){m.point=o}function e(){u[0]=c,u[1]=d,m.point=v,g=null}function n(t,e){if(g){var n=t-f;a+=180<N(n)?n+(0<n?360:-360):n}else i=t,r=e;Ge.point(t,e),o(t,e)}function s(){Ge.lineStart()}function y(){n(i,r),Ge.lineEnd(),N(a)>pt&&(c=-(d=180)),u[0]=c,u[1]=d,g=null}function b(t,e){return(e-=t)<0?e+360:e}function _(t,e){return t[0]-e[0]}function w(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}return function(t){if(p=d=-(c=h=1/0),l=[],M.geo.stream(t,m),r=l.length){l.sort(_);for(var e=1,n=[s=l[0]];e<r;++e)w((a=l[e])[0],s)||w(a[1],s)?(b(s[0],a[1])>b(s[0],s[1])&&(s[1]=a[1]),b(a[0],s[1])>b(s[0],s[1])&&(s[0]=a[0])):n.push(s=a);for(var i,r,a,o=-1/0,s=(e=0,n[r=n.length-1]);e<=r;s=a,++e)a=n[e],(i=b(s[1],a[0]))>o&&(o=i,c=a[0],d=s[1])}return l=u=null,c===1/0||h===1/0?[[NaN,NaN],[NaN,NaN]]:[[c,h],[d,p]]}}(),M.geo.centroid=function(t){Oe=Re=He=We=Ue=Fe=je=ze=Ve=Be=Ye=0,M.geo.stream(t,an);var e=Ve,n=Be,i=Ye,r=e*e+n*n+i*i;return r<ft&&(e=Fe,n=je,i=ze,Re<pt&&(e=He,n=We,i=Ue),(r=e*e+n*n+i*i)<ft)?[NaN,NaN]:[Math.atan2(n,e)*mt,bt(i/Math.sqrt(r))*mt]};var an={sphere:_,point:on,lineStart:ln,lineEnd:un,polygonStart:function(){an.lineStart=cn},polygonEnd:function(){an.lineStart=ln}};function on(t,e){t*=gt;var n=Math.cos(e*=gt);sn(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function sn(t,e,n){He+=(t-He)/++Oe,We+=(e-We)/Oe,Ue+=(n-Ue)/Oe}function ln(){var s,l,u;function i(t,e){t*=gt;var n=Math.cos(e*=gt),i=n*Math.cos(t),r=n*Math.sin(t),a=Math.sin(e),o=Math.atan2(Math.sqrt((o=l*a-u*r)*o+(o=u*i-s*a)*o+(o=s*r-l*i)*o),s*i+l*r+u*a);Re+=o,Fe+=o*(s+(s=i)),je+=o*(l+(l=r)),ze+=o*(u+(u=a)),sn(s,l,u)}an.point=function(t,e){t*=gt;var n=Math.cos(e*=gt);s=n*Math.cos(t),l=n*Math.sin(t),u=Math.sin(e),an.point=i,sn(s,l,u)}}function un(){an.point=on}function cn(){var i,r,p,f,g;function a(t,e){t*=gt;var n=Math.cos(e*=gt),i=n*Math.cos(t),r=n*Math.sin(t),a=Math.sin(e),o=f*a-g*r,s=g*i-p*a,l=p*r-f*i,u=Math.sqrt(o*o+s*s+l*l),c=p*i+f*r+g*a,h=u&&-yt(c)/u,d=Math.atan2(u,c);Ve+=h*o,Be+=h*s,Ye+=h*l,Re+=d,Fe+=d*(p+(p=i)),je+=d*(f+(f=r)),ze+=d*(g+(g=a)),sn(p,f,g)}an.point=function(t,e){i=t,r=e,an.point=a,t*=gt;var n=Math.cos(e*=gt);p=n*Math.cos(t),f=n*Math.sin(t),g=Math.sin(e),sn(p,f,g)},an.lineEnd=function(){a(i,r),an.lineEnd=un,an.point=on}}function hn(){return!0}function dn(t,e,n,i,s){var l=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],i=t[e];if(rn(n,i)){s.lineStart();for(var r=0;r<e;++r)s.point((n=t[r])[0],n[1]);s.lineEnd()}else{var a=new fn(n,t,null,!0),o=new fn(n,null,a,!1);a.o=o,l.push(a),u.push(o),o=new fn(i,null,a=new fn(i,t,null,!1),!0),a.o=o,l.push(a),u.push(o)}}}),u.sort(e),pn(l),pn(u),l.length){for(var r=0,a=n,o=u.length;r<o;++r)u[r].e=a=!a;for(var c,h,d=l[0];;){for(var p=d,f=!0;p.v;)if((p=p.n)===d)return;c=p.z,s.lineStart();do{if(p.v=p.o.v=!0,p.e){if(f)for(r=0,o=c.length;r<o;++r)s.point((h=c[r])[0],h[1]);else i(p.x,p.n.x,1,s);p=p.n}else{if(f)for(r=(c=p.p.z).length-1;0<=r;--r)s.point((h=c[r])[0],h[1]);else i(p.x,p.p.x,-1,s);p=p.p}c=(p=p.o).z,f=!f}while(!p.v);s.lineEnd()}}}function pn(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function fn(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function gn(v,y,b,_){return function(i,o){var s,r=y(o),e=i.invert(_[0],_[1]),n={point:a,lineStart:l,lineEnd:u,polygonStart:function(){n.point=f,n.lineStart=g,n.lineEnd=m,s=[],c=[],o.polygonStart()},polygonEnd:function(){n.point=a,n.lineStart=l,n.lineEnd=u,s=M.merge(s);var t=function(t,e){var n=t[0],i=t[1],r=[Math.sin(n),-Math.cos(n),0],a=0,o=0;qe.reset();for(var s=0,l=e.length;s<l;++s){var u=e[s],c=u.length;if(c)for(var h=u[0],d=h[0],p=h[1]/2+ct/4,f=Math.sin(p),g=Math.cos(p),m=1;;){m===c&&(m=0);var v=(t=u[m])[0],y=t[1]/2+ct/4,b=Math.sin(y),_=Math.cos(y),w=v-d,C=N(w)>ct,S=f*b;if(qe.add(Math.atan2(S*Math.sin(w),g*_+S*Math.cos(w))),a+=C?w+(0<=w?ht:-ht):w,C^n<=d^n<=v){var x=Ze(Qe(h),Qe(t));en(x);var $=Ze(r,x);en($);var T=(C^0<=w?-1:1)*bt($[2]);(T<i||i===T&&(x[0]||x[1]))&&(o+=C^0<=w?1:-1)}if(!m++)break;d=v,f=b,g=_,h=t}}return(a<-pt||a<pt&&qe<0)^1&o}(e,c);s.length?dn(s,yn,t,b,o):t&&(o.lineStart(),b(null,null,1,o),o.lineEnd()),o.polygonEnd(),s=c=null},sphere:function(){o.polygonStart(),o.lineStart(),b(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function a(t,e){var n=i(t,e);v(t=n[0],e=n[1])&&o.point(t,e)}function t(t,e){var n=i(t,e);r.point(n[0],n[1])}function l(){n.point=t,r.lineStart()}function u(){n.point=a,r.lineEnd()}var c,h,d=vn(),p=y(d);function f(t,e){h.push([t,e]);var n=i(t,e);p.point(n[0],n[1])}function g(){p.lineStart(),h=[]}function m(){f(h[0][0],h[0][1]),p.lineEnd();var t,e=p.clean(),n=d.buffer(),i=n.length;if(h.pop(),c.push(h),h=null,i)if(1&e){i=(t=n[0]).length-1;var r,a=-1;for(o.lineStart();++a<i;)o.point((r=t[a])[0],r[1]);o.lineEnd()}else 1<i&&2&e&&n.push(n.pop().concat(n.shift())),s.push(n.filter(mn))}return n}}function mn(t){return 1<t.length}function vn(){var n,e=[];return{lineStart:function(){e.push(n=[])},point:function(t,e){n.push([t,e])},lineEnd:_,buffer:function(){var t=e;return e=[],n=null,t},rejoin:function(){1<e.length&&e.push(e.pop().concat(e.shift()))}}}function yn(t,e){return((t=t.x)[0]<0?t[1]-dt-pt:dt-t[1])-((e=e.x)[0]<0?e[1]-dt-pt:dt-e[1])}var bn=gn(hn,function(h){var d,p=NaN,f=NaN,g=NaN;return{lineStart:function(){h.lineStart(),d=1},point:function(t,e){var n,i,r,a,o,s,l,u=0<t?ct:-ct,c=N(t-p);N(c-ct)<pt?(h.point(p,f=0<(f+e)/2?dt:-dt),h.point(g,f),h.lineEnd(),h.lineStart(),h.point(u,f),h.point(t,f),d=0):g!==u&&ct<=c&&(N(p-g)<pt&&(p-=g*pt),N(t-u)<pt&&(t-=u*pt),n=p,i=f,r=t,a=e,l=Math.sin(n-r),f=N(l)>pt?Math.atan((Math.sin(i)*(s=Math.cos(a))*Math.sin(r)-Math.sin(a)*(o=Math.cos(i))*Math.sin(n))/(o*s*l)):(i+a)/2,h.point(g,f),h.lineEnd(),h.lineStart(),h.point(u,f),d=0),h.point(p=t,f=e),g=u},lineEnd:function(){h.lineEnd(),p=f=NaN},clean:function(){return 2-d}}},function(t,e,n,i){var r;if(null==t)r=n*dt,i.point(-ct,r),i.point(0,r),i.point(ct,r),i.point(ct,0),i.point(ct,-r),i.point(0,-r),i.point(-ct,-r),i.point(-ct,0),i.point(-ct,r);else if(N(t[0]-e[0])>pt){var a=t[0]<e[0]?ct:-ct;r=n*a/2,i.point(-a,r),i.point(0,r),i.point(a,r)}else i.point(e[0],e[1])},[-ct,-ct/2]);function _n(c,h,d,p){return function(t){var e,n=t.a,i=t.b,r=n.x,a=n.y,o=0,s=1,l=i.x-r,u=i.y-a;if(e=c-r,l||!(0<e)){if(e/=l,l<0){if(e<o)return;e<s&&(s=e)}else if(0<l){if(s<e)return;o<e&&(o=e)}if(e=d-r,l||!(e<0)){if(e/=l,l<0){if(s<e)return;o<e&&(o=e)}else if(0<l){if(e<o)return;e<s&&(s=e)}if(e=h-a,u||!(0<e)){if(e/=u,u<0){if(e<o)return;e<s&&(s=e)}else if(0<u){if(s<e)return;o<e&&(o=e)}if(e=p-a,u||!(e<0)){if(e/=u,u<0){if(s<e)return;o<e&&(o=e)}else if(0<u){if(e<o)return;e<s&&(s=e)}return 0<o&&(t.a={x:r+o*l,y:a+o*u}),s<1&&(t.b={x:r+s*l,y:a+s*u}),t}}}}}}var wn=1e9;function Cn(w,C,S,x){return function(r){var i,c,a,o,s,l,u,h,d,p,f,g=r,t=vn(),m=_n(w,C,S,x),e={point:n,lineStart:function(){e.point=_,c&&c.push(a=[]);p=!0,d=!1,u=h=NaN},lineEnd:function(){i&&(_(o,s),l&&d&&t.rejoin(),i.push(t.buffer()));e.point=n,d&&r.lineEnd()},polygonStart:function(){r=t,i=[],c=[],f=!0},polygonEnd:function(){r=g,i=M.merge(i);var t=function(t){for(var e=0,n=c.length,i=t[1],r=0;r<n;++r)for(var a,o=1,s=c[r],l=s.length,u=s[0];o<l;++o)a=s[o],u[1]<=i?a[1]>i&&0<v(u,a,t)&&++e:a[1]<=i&&v(u,a,t)<0&&--e,u=a;return 0!==e}([w,x]),e=f&&t,n=i.length;(e||n)&&(r.polygonStart(),e&&(r.lineStart(),y(null,null,1,r),r.lineEnd()),n&&dn(i,T,t,y,r),r.polygonEnd()),i=c=a=null}};function v(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(n[0]-t[0])*(e[1]-t[1])}function y(t,e,n,i){var r=0,a=0;if(null==t||(r=$(t,n))!==(a=$(e,n))||A(t,e)<0^0<n)for(;i.point(0===r||3===r?w:S,1<r?x:C),(r=(r+n+4)%4)!==a;);else i.point(e[0],e[1])}function b(t,e){return w<=t&&t<=S&&C<=e&&e<=x}function n(t,e){b(t,e)&&r.point(t,e)}function _(t,e){var n=b(t=Math.max(-wn,Math.min(wn,t)),e=Math.max(-wn,Math.min(wn,e)));if(c&&a.push([t,e]),p)o=t,s=e,p=!1,(l=n)&&(r.lineStart(),r.point(t,e));else if(n&&d)r.point(t,e);else{var i={a:{x:u,y:h},b:{x:t,y:e}};m(i)?(d||(r.lineStart(),r.point(i.a.x,i.a.y)),r.point(i.b.x,i.b.y),n||r.lineEnd(),f=!1):n&&(r.lineStart(),r.point(t,e),f=!1)}u=t,h=e,d=n}return e};function $(t,e){return N(t[0]-w)<pt?0<e?0:3:N(t[0]-S)<pt?0<e?2:1:N(t[1]-C)<pt?0<e?1:0:0<e?3:2}function T(t,e){return A(t.x,e.x)}function A(t,e){var n=$(t,1),i=$(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}}function Sn(n,i){function t(t,e){return t=n(t,e),i(t[0],t[1])}return n.invert&&i.invert&&(t.invert=function(t,e){return(t=i.invert(t,e))&&n.invert(t[0],t[1])}),t}function xn(t){var e=0,n=ct/3,i=qn(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*ct/180,n=t[1]*ct/180):[e/ct*180,n/ct*180]},r}function $n(t,e){var n=Math.sin(t),i=(n+Math.sin(e))/2,r=1+n*(2*i-n),a=Math.sqrt(r)/i;function o(t,e){var n=Math.sqrt(r-2*i*Math.sin(e))/i;return[n*Math.sin(t*=i),a-n*Math.cos(t)]}return o.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/i,bt((r-(t*t+n*n)*i*i)/(2*i))]},o}M.geo.clipExtent=function(){var e,n,i,r,a,o,s={stream:function(t){return a&&(a.valid=!1),(a=o(t)).valid=!0,a},extent:function(t){return arguments.length?(o=Cn(e=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),a&&(a.valid=!1,a=null),s):[[e,n],[i,r]]}};return s.extent([[0,0],[960,500]])},(M.geo.conicEqualArea=function(){return xn($n)}).raw=$n,M.geo.albers=function(){return M.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},M.geo.albersUsa=function(){var i,r,a,o,s=M.geo.albers(),l=M.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=M.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,e){i=[t,e]}};function h(t){var e=t[0],n=t[1];return i=null,r(e,n),i||(a(e,n),i)||o(e,n),i}return h.invert=function(t){var e=s.scale(),n=s.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(.12<=r&&r<.234&&-.425<=i&&i<-.214?l:.166<=r&&r<.234&&-.214<=i&&i<-.115?u:s).invert(t)},h.stream=function(t){var n=s.stream(t),i=l.stream(t),r=u.stream(t);return{point:function(t,e){n.point(t,e),i.point(t,e),r.point(t,e)},sphere:function(){n.sphere(),i.sphere(),r.sphere()},lineStart:function(){n.lineStart(),i.lineStart(),r.lineStart()},lineEnd:function(){n.lineEnd(),i.lineEnd(),r.lineEnd()},polygonStart:function(){n.polygonStart(),i.polygonStart(),r.polygonStart()},polygonEnd:function(){n.polygonEnd(),i.polygonEnd(),r.polygonEnd()}}},h.precision=function(t){return arguments.length?(s.precision(t),l.precision(t),u.precision(t),h):s.precision()},h.scale=function(t){return arguments.length?(s.scale(t),l.scale(.35*t),u.scale(t),h.translate(s.translate())):s.scale()},h.translate=function(t){if(!arguments.length)return s.translate();var e=s.scale(),n=+t[0],i=+t[1];return r=s.translate(t).clipExtent([[n-.455*e,i-.238*e],[n+.455*e,i+.238*e]]).stream(c).point,a=l.translate([n-.307*e,i+.201*e]).clipExtent([[n-.425*e+pt,i+.12*e+pt],[n-.214*e-pt,i+.234*e-pt]]).stream(c).point,o=u.translate([n-.205*e,i+.212*e]).clipExtent([[n-.214*e+pt,i+.166*e+pt],[n-.115*e-pt,i+.234*e-pt]]).stream(c).point,h},h.scale(1070)};var Tn,An,Dn,kn,En,Mn,Pn={point:_,lineStart:_,lineEnd:_,polygonStart:function(){An=0,Pn.lineStart=Nn},polygonEnd:function(){Pn.lineStart=Pn.lineEnd=Pn.point=_,Tn+=N(An/2)}};function Nn(){var n,i,r,a;function o(t,e){An+=a*t-r*e,r=t,a=e}Pn.point=function(t,e){Pn.point=o,n=r=t,i=a=e},Pn.lineEnd=function(){o(n,i)}}var In={point:function(t,e){t<Dn&&(Dn=t);En<t&&(En=t);e<kn&&(kn=e);Mn<e&&(Mn=e)},lineStart:_,lineEnd:_,polygonStart:_,polygonEnd:_};function Ln(){var n=On(4.5),i=[],r={point:t,lineStart:function(){r.point=e},lineEnd:o,polygonStart:function(){r.lineEnd=s},polygonEnd:function(){r.lineEnd=o,r.point=t},pointRadius:function(t){return n=On(t),r},result:function(){if(i.length){var t=i.join("");return i=[],t}}};function t(t,e){i.push("M",t,",",e,n)}function e(t,e){i.push("M",t,",",e),r.point=a}function a(t,e){i.push("L",t,",",e)}function o(){r.point=t}function s(){i.push("Z")}return r}function On(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}var Rn,Hn={point:Wn,lineStart:Un,lineEnd:Fn,polygonStart:function(){Hn.lineStart=jn},polygonEnd:function(){Hn.point=Wn,Hn.lineStart=Un,Hn.lineEnd=Fn}};function Wn(t,e){He+=t,We+=e,++Ue}function Un(){var a,o;function n(t,e){var n=t-a,i=e-o,r=Math.sqrt(n*n+i*i);Fe+=r*(a+t)/2,je+=r*(o+e)/2,ze+=r,Wn(a=t,o=e)}Hn.point=function(t,e){Hn.point=n,Wn(a=t,o=e)}}function Fn(){Hn.point=Wn}function jn(){var n,i,a,o;function r(t,e){var n=t-a,i=e-o,r=Math.sqrt(n*n+i*i);Fe+=r*(a+t)/2,je+=r*(o+e)/2,ze+=r,Ve+=(r=o*t-a*e)*(a+t),Be+=r*(o+e),Ye+=3*r,Wn(a=t,o=e)}Hn.point=function(t,e){Hn.point=r,Wn(n=a=t,i=o=e)},Hn.lineEnd=function(){r(n,i)}}function zn(n){var i=4.5,r={point:t,lineStart:function(){r.point=e},lineEnd:o,polygonStart:function(){r.lineEnd=s},polygonEnd:function(){r.lineEnd=o,r.point=t},pointRadius:function(t){return i=t,r},result:_};function t(t,e){n.moveTo(t,e),n.arc(t,e,i,0,ht)}function e(t,e){n.moveTo(t,e),r.point=a}function a(t,e){n.lineTo(t,e)}function o(){r.point=t}function s(){n.closePath()}return r}function Vn(k){var E=.5,M=Math.cos(30*gt),w=16;function e(r){var n,i,a,o,s,l,u,c,h,d,p,f,g={point:t,lineStart:e,lineEnd:v,polygonStart:function(){r.polygonStart(),g.lineStart=y},polygonEnd:function(){r.polygonEnd(),g.lineStart=e}};function t(t,e){t=k(t,e),r.point(t[0],t[1])}function e(){c=NaN,g.point=m,r.lineStart()}function m(t,e){var n=Qe([t,e]),i=k(t,e);P(c,h,u,d,p,f,c=i[0],h=i[1],u=t,d=n[0],p=n[1],f=n[2],w,r),r.point(c,h)}function v(){g.point=t,r.lineEnd()}function y(){e(),g.point=b,g.lineEnd=_}function b(t,e){m(n=t,e),i=c,a=h,o=d,s=p,l=f,g.point=m}function _(){P(c,h,u,d,p,f,i,a,n,o,s,l,w,r),(g.lineEnd=v)()}return g}function P(t,e,n,i,r,a,o,s,l,u,c,h,d,p){var f=o-t,g=s-e,m=f*f+g*g;if(4*E<m&&d--){var v=i+u,y=r+c,b=a+h,_=Math.sqrt(v*v+y*y+b*b),w=Math.asin(b/=_),C=N(N(b)-1)<pt?(n+l)/2:Math.atan2(y,v),S=k(C,w),x=S[0],$=S[1],T=x-t,A=$-e,D=g*T-f*A;(E<D*D/m||.3<N((f*T+g*A)/m-.5)||i*u+r*c+a*h<M)&&(P(t,e,n,i,r,a,x,$,C,v/=_,y/=_,b,d,p),p.point(x,$),P(x,$,C,v,y,b,o,s,l,u,c,h,d,p))}}return e.precision=function(t){return arguments.length?(w=0<(E=t*t)&&16,e):Math.sqrt(E)},e}function Bn(t){this.stream=t}function Yn(t){return qn(function(){return t})()}function qn(t){var n,i,e,r,a,o,s=Vn(function(t,e){return[(t=n(t,e))[0]*l+r,a-t[1]*l]}),l=150,u=480,c=250,h=0,d=0,p=0,f=0,g=0,m=bn,v=se,y=null,b=null;function _(t){return[(t=e(t[0]*gt,t[1]*gt))[0]*l+r,a-t[1]*l]}function w(t){return(t=e.invert((t[0]-r)/l,(a-t[1])/l))&&[t[0]*mt,t[1]*mt]}function C(){e=Sn(i=Qn(p,f,g),n);var t=n(h,d);return r=u-t[0]*l,a=c+t[1]*l,S()}function S(){return o&&(o.valid=!1,o=null),_}return _.stream=function(t){var n,e;return o&&(o.valid=!1),n=m(i,s(v(t))),(e=new Bn(n)).point=function(t,e){n.point(t*gt,e*gt)},(o=e).valid=!0,o},_.clipAngle=function(t){return arguments.length?(m=null==t?(y=t,bn):function(r){var T=Math.cos(r),p=0<T,f=N(T)>pt;return gn(g,function(s){var l,u,c,h,d;return{lineStart:function(){h=c=!1,d=1},point:function(t,e){var n,i=[t,e],r=g(t,e),a=p?r?0:v(t,e):r?v(t+(t<0?ct:-ct),e):0;if(!l&&(h=c=r)&&s.lineStart(),r!==c&&(n=m(l,i),(rn(l,n)||rn(i,n))&&(i[0]+=pt,i[1]+=pt,r=g(i[0],i[1]))),r!==c)d=0,r?(s.lineStart(),n=m(i,l),s.point(n[0],n[1])):(n=m(l,i),s.point(n[0],n[1]),s.lineEnd()),l=n;else if(f&&l&&p^r){var o;a&u||!(o=m(i,l,!0))||(d=0,p?(s.lineStart(),s.point(o[0][0],o[0][1]),s.point(o[1][0],o[1][1]),s.lineEnd()):(s.point(o[1][0],o[1][1]),s.lineEnd(),s.lineStart(),s.point(o[0][0],o[0][1])))}!r||l&&rn(l,i)||s.point(i[0],i[1]),l=i,c=r,u=a},lineEnd:function(){c&&s.lineEnd(),l=null},clean:function(){return d|(h&&c)<<1}}},ti(r,6*gt),p?[0,-r]:[-ct,r-ct]);function g(t,e){return Math.cos(t)*Math.cos(e)>T}function m(t,e,n){var i=[1,0,0],r=Ze(Qe(t),Qe(e)),a=Xe(r,r),o=r[0],s=a-o*o;if(!s)return!n&&t;var l=T*a/s,u=-T*o/s,c=Ze(i,r),h=tn(i,l);Je(h,tn(r,u));var d=c,p=Xe(h,d),f=Xe(d,d),g=p*p-f*(Xe(h,h)-1);if(!(g<0)){var m=Math.sqrt(g),v=tn(d,(-p-m)/f);if(Je(v,h),v=nn(v),!n)return v;var y,b=t[0],_=e[0],w=t[1],C=e[1];_<b&&(y=b,b=_,_=y);var S=_-b,x=N(S-ct)<pt;if(!x&&C<w&&(y=w,w=C,C=y),x||S<pt?x?0<w+C^v[1]<(N(v[0]-b)<pt?w:C):w<=v[1]&&v[1]<=C:ct<S^(b<=v[0]&&v[0]<=_)){var $=tn(d,(-p+m)/f);return Je($,h),[v,nn($)]}}}function v(t,e){var n=p?r:ct-r,i=0;return t<-n?i|=1:n<t&&(i|=2),e<-n?i|=4:n<e&&(i|=8),i}}((y=+t)*gt),S()):y},_.clipExtent=function(t){return arguments.length?(v=(b=t)?Cn(t[0][0],t[0][1],t[1][0],t[1][1]):se,S()):b},_.scale=function(t){return arguments.length?(l=+t,C()):l},_.translate=function(t){return arguments.length?(u=+t[0],c=+t[1],C()):[u,c]},_.center=function(t){return arguments.length?(h=t[0]%360*gt,d=t[1]%360*gt,C()):[h*mt,d*mt]},_.rotate=function(t){return arguments.length?(p=t[0]%360*gt,f=t[1]%360*gt,g=2<t.length?t[2]%360*gt:0,C()):[p*mt,f*mt,g*mt]},M.rebind(_,s,"precision"),function(){return n=t.apply(this,arguments),_.invert=n.invert&&w,C()}}function Gn(t,e){return[t,e]}function Kn(t,e){return[ct<t?t-ht:t<-ct?t+ht:t,e]}function Qn(t,e,n){return t?e||n?Sn(Zn(t),Jn(e,n)):Zn(t):e||n?Jn(e,n):Kn}function Xn(n){return function(t,e){return[ct<(t+=n)?t-ht:t<-ct?t+ht:t,e]}}function Zn(t){var e=Xn(t);return e.invert=Xn(-t),e}function Jn(t,e){var s=Math.cos(t),l=Math.sin(t),u=Math.cos(e),c=Math.sin(e);function n(t,e){var n=Math.cos(e),i=Math.cos(t)*n,r=Math.sin(t)*n,a=Math.sin(e),o=a*s+i*l;return[Math.atan2(r*u-o*c,i*s-a*l),bt(o*u+r*c)]}return n.invert=function(t,e){var n=Math.cos(e),i=Math.cos(t)*n,r=Math.sin(t)*n,a=Math.sin(e),o=a*u-r*c;return[Math.atan2(r*u+a*c,i*s+o*l),bt(o*s-i*l)]},n}function ti(s,l){var u=Math.cos(s),c=Math.sin(s);return function(t,e,n,i){var r=n*l;null!=t?(t=ei(u,t),e=ei(u,e),(0<n?t<e:e<t)&&(t+=n*ht)):(t=s+n*ht,e=s-.5*r);for(var a,o=t;0<n?e<o:o<e;o-=r)i.point((a=nn([u,-c*Math.cos(o),-c*Math.sin(o)]))[0],a[1])}}function ei(t,e){var n=Qe(e);n[0]-=t,en(n);var i=yt(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-pt)%(2*Math.PI)}function ni(t,e,n){var i=M.range(t,e-pt,n).concat(e);return function(e){return i.map(function(t){return[e,t]})}}function ii(t,e,n){var i=M.range(t,e-pt,n).concat(e);return function(e){return i.map(function(t){return[t,e]})}}function ri(t){return t.source}function ai(t){return t.target}M.geo.transform=function(i){return{stream:function(t){var e=new Bn(t);for(var n in i)e[n]=i[n];return e}}},Bn.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},M.geo.path=function(){var i,e,r,n,a,o=4.5;function s(t){return t&&("function"==typeof o&&n.pointRadius(+o.apply(this,arguments)),a&&a.valid||(a=r(n)),M.geo.stream(t,a)),n.result()}function l(){return a=null,s}return s.area=function(t){return Tn=0,M.geo.stream(t,r(Pn)),Tn},s.centroid=function(t){return He=We=Ue=Fe=je=ze=Ve=Be=Ye=0,M.geo.stream(t,r(Hn)),Ye?[Ve/Ye,Be/Ye]:ze?[Fe/ze,je/ze]:Ue?[He/Ue,We/Ue]:[NaN,NaN]},s.bounds=function(t){return En=Mn=-(Dn=kn=1/0),M.geo.stream(t,r(In)),[[Dn,kn],[En,Mn]]},s.projection=function(t){return arguments.length?(r=(i=t)?t.stream||(n=t,e=Vn(function(t,e){return n([t*mt,e*mt])}),function(n){var t=new Bn(n=e(n));return t.point=function(t,e){n.point(t*gt,e*gt)},t}):se,l()):i;var n,e},s.context=function(t){return arguments.length?(n=null==(e=t)?new Ln:new zn(t),"function"!=typeof o&&n.pointRadius(o),l()):e},s.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(n.pointRadius(+t),+t),s):o},s.projection(M.geo.albersUsa()).context(null)},M.geo.projection=Yn,M.geo.projectionMutator=qn,(M.geo.equirectangular=function(){return Yn(Gn)}).raw=Gn.invert=Gn,M.geo.rotation=function(e){function t(t){return(t=e(t[0]*gt,t[1]*gt))[0]*=mt,t[1]*=mt,t}return e=Qn(e[0]%360*gt,e[1]*gt,2<e.length?e[2]*gt:0),t.invert=function(t){return(t=e.invert(t[0]*gt,t[1]*gt))[0]*=mt,t[1]*=mt,t},t},Kn.invert=Gn,M.geo.circle=function(){var e,r,a=[0,0],n=6;function i(){var t="function"==typeof a?a.apply(this,arguments):a,n=Qn(-t[0]*gt,-t[1]*gt,0).invert,i=[];return r(null,null,1,{point:function(t,e){i.push(t=n(t,e)),t[0]*=mt,t[1]*=mt}}),{type:"Polygon",coordinates:[i]}}return i.origin=function(t){return arguments.length?(a=t,i):a},i.angle=function(t){return arguments.length?(r=ti((e=+t)*gt,n*gt),i):e},i.precision=function(t){return arguments.length?(r=ti(e*gt,(n=+t)*gt),i):n},i.angle(90)},M.geo.distance=function(t,e){var n,i=(e[0]-t[0])*gt,r=t[1]*gt,a=e[1]*gt,o=Math.sin(i),s=Math.cos(i),l=Math.sin(r),u=Math.cos(r),c=Math.sin(a),h=Math.cos(a);return Math.atan2(Math.sqrt((n=h*o)*n+(n=u*c-l*h*s)*n),l*c+u*h*s)},M.geo.graticule=function(){var e,n,i,r,a,o,s,l,u,c,h,d,p=10,f=p,g=90,m=360,v=2.5;function y(){return{type:"MultiLineString",coordinates:t()}}function t(){return M.range(Math.ceil(r/g)*g,i,g).map(h).concat(M.range(Math.ceil(l/m)*m,s,m).map(d)).concat(M.range(Math.ceil(n/p)*p,e,p).filter(function(t){return N(t%g)>pt}).map(u)).concat(M.range(Math.ceil(o/f)*f,a,f).filter(function(t){return N(t%m)>pt}).map(c))}return y.lines=function(){return t().map(function(t){return{type:"LineString",coordinates:t}})},y.outline=function(){return{type:"Polygon",coordinates:[h(r).concat(d(s).slice(1),h(i).reverse().slice(1),d(l).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.majorExtent(t).minorExtent(t):y.minorExtent()},y.majorExtent=function(t){return arguments.length?(r=+t[0][0],i=+t[1][0],l=+t[0][1],s=+t[1][1],i<r&&(t=r,r=i,i=t),s<l&&(t=l,l=s,s=t),y.precision(v)):[[r,l],[i,s]]},y.minorExtent=function(t){return arguments.length?(n=+t[0][0],e=+t[1][0],o=+t[0][1],a=+t[1][1],e<n&&(t=n,n=e,e=t),a<o&&(t=o,o=a,a=t),y.precision(v)):[[n,o],[e,a]]},y.step=function(t){return arguments.length?y.majorStep(t).minorStep(t):y.minorStep()},y.majorStep=function(t){return arguments.length?(g=+t[0],m=+t[1],y):[g,m]},y.minorStep=function(t){return arguments.length?(p=+t[0],f=+t[1],y):[p,f]},y.precision=function(t){return arguments.length?(v=+t,u=ni(o,a,90),c=ii(n,e,v),h=ni(l,s,90),d=ii(r,i,v),y):v},y.majorExtent([[-180,-90+pt],[180,90-pt]]).minorExtent([[-180,-80-pt],[180,80+pt]])},M.geo.greatArc=function(){var e,n,i=ri,r=ai;function a(){return{type:"LineString",coordinates:[e||i.apply(this,arguments),n||r.apply(this,arguments)]}}return a.distance=function(){return M.geo.distance(e||i.apply(this,arguments),n||r.apply(this,arguments))},a.source=function(t){return arguments.length?(e="function"==typeof(i=t)?null:t,a):i},a.target=function(t){return arguments.length?(n="function"==typeof(r=t)?null:t,a):r},a.precision=function(){return arguments.length?a:0},a},M.geo.interpolate=function(t,e){return n=t[0]*gt,i=t[1]*gt,r=e[0]*gt,a=e[1]*gt,o=Math.cos(i),s=Math.sin(i),l=Math.cos(a),u=Math.sin(a),c=o*Math.cos(n),h=o*Math.sin(n),d=l*Math.cos(r),p=l*Math.sin(r),f=2*Math.asin(Math.sqrt(Ct(a-i)+o*l*Ct(r-n))),g=1/Math.sin(f),(m=f?function(t){var e=Math.sin(t*=f)*g,n=Math.sin(f-t)*g,i=n*c+e*d,r=n*h+e*p,a=n*s+e*u;return[Math.atan2(r,i)*mt,Math.atan2(a,Math.sqrt(i*i+r*r))*mt]}:function(){return[n*mt,i*mt]}).distance=f,m;var n,i,r,a,o,s,l,u,c,h,d,p,f,g,m},M.geo.length=function(t){return Rn=0,M.geo.stream(t,oi),Rn};var oi={sphere:_,point:_,lineStart:function(){var o,s,l;function n(t,e){var n=Math.sin(e*=gt),i=Math.cos(e),r=N((t*=gt)-o),a=Math.cos(r);Rn+=Math.atan2(Math.sqrt((r=i*Math.sin(r))*r+(r=l*n-s*i*a)*r),s*n+l*i*a),o=t,s=n,l=i}oi.point=function(t,e){o=t*gt,s=Math.sin(e*=gt),l=Math.cos(e),oi.point=n},oi.lineEnd=function(){oi.point=oi.lineEnd=_}},lineEnd:_,polygonStart:_,polygonEnd:_};function si(a,o){function t(t,e){var n=Math.cos(t),i=Math.cos(e),r=a(n*i);return[r*i*Math.sin(t),r*Math.sin(e)]}return t.invert=function(t,e){var n=Math.sqrt(t*t+e*e),i=o(n),r=Math.sin(i),a=Math.cos(i);return[Math.atan2(t*r,n*a),Math.asin(n&&e*r/n)]},t}var li=si(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(M.geo.azimuthalEqualArea=function(){return Yn(li)}).raw=li;var ui=si(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},se);function ci(t,e){var n=Math.cos(t),i=function(t){return Math.tan(ct/4+t/2)},r=t===e?Math.sin(t):Math.log(n/Math.cos(e))/Math.log(i(e)/i(t)),a=n*Math.pow(i(t),r)/r;if(!r)return pi;function o(t,e){var n=N(N(e)-dt)<pt?0:a/Math.pow(i(e),r);return[n*Math.sin(r*t),a-n*Math.cos(r*t)]}return o.invert=function(t,e){var n=a-e,i=vt(r)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/r,2*Math.atan(Math.pow(a/i,1/r))-dt]},o}function hi(t,e){var n=Math.cos(t),i=t===e?Math.sin(t):(n-Math.cos(e))/(e-t),r=n/i+t;if(N(i)<pt)return Gn;function a(t,e){var n=r-e;return[n*Math.sin(i*t),r-n*Math.cos(i*t)]}return a.invert=function(t,e){var n=r-e;return[Math.atan2(t,n)/i,r-vt(i)*Math.sqrt(t*t+n*n)]},a}(M.geo.azimuthalEquidistant=function(){return Yn(ui)}).raw=ui,(M.geo.conicConformal=function(){return xn(ci)}).raw=ci,(M.geo.conicEquidistant=function(){return xn(hi)}).raw=hi;var di=si(function(t){return 1/t},Math.atan);function pi(t,e){return[t,Math.log(Math.tan(ct/4+e/2))]}function fi(t){var r,a=Yn(t),o=a.scale,s=a.translate,l=a.clipExtent;return a.scale=function(){var t=o.apply(a,arguments);return t===a?r?a.clipExtent(null):a:t},a.translate=function(){var t=s.apply(a,arguments);return t===a?r?a.clipExtent(null):a:t},a.clipExtent=function(t){var e=l.apply(a,arguments);if(e===a){if(r=null==t){var n=ct*o(),i=s();l([[i[0]-n,i[1]-n],[i[0]+n,i[1]+n]])}}else r&&(e=null);return e},a.clipExtent(null)}(M.geo.gnomonic=function(){return Yn(di)}).raw=di,pi.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-dt]},(M.geo.mercator=function(){return fi(pi)}).raw=pi;var gi=si(function(){return 1},Math.asin);(M.geo.orthographic=function(){return Yn(gi)}).raw=gi;var mi=si(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});function vi(t,e){var n=Math.cos(e)*Math.sin(t);return[Math.log((1+n)/(1-n))/2,Math.atan2(Math.tan(e),Math.cos(t))]}function yi(u){var c=bi,h=_i,d=hn,p=Ci,e=p.key,f=.7;function n(t){var e,n=[],i=[],r=-1,a=t.length,o=oe(c),s=oe(h);function l(){n.push("M",p(u(i),f))}for(;++r<a;)d.call(this,e=t[r],r)?i.push([+o.call(this,e,r),+s.call(this,e,r)]):i.length&&(l(),i=[]);return i.length&&l(),n.length?n.join(""):null}return n.x=function(t){return arguments.length?(c=t,n):c},n.y=function(t){return arguments.length?(h=t,n):h},n.defined=function(t){return arguments.length?(d=t,n):d},n.interpolate=function(t){return arguments.length?(e="function"==typeof t?p=t:(p=wi.get(t)||Ci).key,n):e},n.tension=function(t){return arguments.length?(f=t,n):f},n}function bi(t){return t[0]}function _i(t){return t[1]}(M.geo.stereographic=function(){return Yn(mi)}).raw=mi,vi.invert=function(t,e){return[Math.atan2(_t(t),Math.cos(e)),bt(Math.sin(e)/wt(t))]},(M.geo.transverseMercator=function(){return fi(vi)}).raw=vi,M.geom={},M.svg={},M.svg.line=function(){return yi(se)};var wi=M.map({linear:Ci,"linear-closed":function(t){return Ci(t)+"Z"},step:function(t){var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];for(;++e<n;)r.push("H",(i[0]+(i=t[e])[0])/2,"V",i[1]);1<n&&r.push("H",i[0]);return r.join("")},"step-before":Si,"step-after":xi,basis:Ai,"basis-open":function(t){if(t.length<4)return Ci(t);var e,n=[],i=-1,r=t.length,a=[0],o=[0];for(;++i<3;)e=t[i],a.push(e[0]),o.push(e[1]);n.push(Di(Mi,a)+","+Di(Mi,o)),--i;for(;++i<r;)e=t[i],a.shift(),a.push(e[0]),o.shift(),o.push(e[1]),Pi(n,a,o);return n.join("")},"basis-closed":function(t){var e,n,i=-1,r=t.length,a=r+4,o=[],s=[];for(;++i<4;)n=t[i%r],o.push(n[0]),s.push(n[1]);e=[Di(Mi,o),",",Di(Mi,s)],--i;for(;++i<a;)n=t[i%r],o.shift(),o.push(n[0]),s.shift(),s.push(n[1]),Pi(e,o,s);return e.join("")},bundle:function(t,e){var n=t.length-1;if(n)for(var i,r,a=t[0][0],o=t[0][1],s=t[n][0]-a,l=t[n][1]-o,u=-1;++u<=n;)i=t[u],r=u/n,i[0]=e*i[0]+(1-e)*(a+r*s),i[1]=e*i[1]+(1-e)*(o+r*l);return Ai(t)},cardinal:function(t,e){return t.length<3?Ci(t):t[0]+$i(t,Ti(t,e))},"cardinal-open":function(t,e){return t.length<4?Ci(t):t[1]+$i(t.slice(1,t.length-1),Ti(t,e))},"cardinal-closed":function(t,e){return t.length<3?Ci(t):t[0]+$i((t.push(t[0]),t),Ti([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function(t){return t.length<3?Ci(t):t[0]+$i(t,function(t){var e,n,i,r,a=[],o=function(t){var e=0,n=t.length-1,i=[],r=t[0],a=t[1],o=i[0]=Ni(r,a);for(;++e<n;)i[e]=(o+(o=Ni(r=a,a=t[e+1])))/2;return i[e]=o,i}(t),s=-1,l=t.length-1;for(;++s<l;)e=Ni(t[s],t[s+1]),N(e)<pt?o[s]=o[s+1]=0:(n=o[s]/e,i=o[s+1]/e,9<(r=n*n+i*i)&&(r=3*e/Math.sqrt(r),o[s]=r*n,o[s+1]=r*i));s=-1;for(;++s<=l;)r=(t[Math.min(l,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+o[s]*o[s])),a.push([r||0,o[s]*r||0]);return a}(t))}});function Ci(t){return t.join("L")}function Si(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("V",(i=t[e])[1],"H",i[0]);return r.join("")}function xi(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i=t[e])[0],"V",i[1]);return r.join("")}function $i(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return Ci(t);var n=t.length!=e.length,i="",r=t[0],a=t[1],o=e[0],s=o,l=1;if(n&&(i+="Q"+(a[0]-2*o[0]/3)+","+(a[1]-2*o[1]/3)+","+a[0]+","+a[1],r=t[1],l=2),1<e.length){s=e[1],a=t[l],l++,i+="C"+(r[0]+o[0])+","+(r[1]+o[1])+","+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1];for(var u=2;u<e.length;u++,l++)a=t[l],s=e[u],i+="S"+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1]}if(n){var c=t[l];i+="Q"+(a[0]+2*s[0]/3)+","+(a[1]+2*s[1]/3)+","+c[0]+","+c[1]}return i}function Ti(t,e){for(var n,i=[],r=(1-e)/2,a=t[0],o=t[1],s=1,l=t.length;++s<l;)n=a,a=o,o=t[s],i.push([r*(o[0]-n[0]),r*(o[1]-n[1])]);return i}function Ai(t){if(t.length<3)return Ci(t);var e=1,n=t.length,i=t[0],r=i[0],a=i[1],o=[r,r,r,(i=t[1])[0]],s=[a,a,a,i[1]],l=[r,",",a,"L",Di(Mi,o),",",Di(Mi,s)];for(t.push(t[n-1]);++e<=n;)i=t[e],o.shift(),o.push(i[0]),s.shift(),s.push(i[1]),Pi(l,o,s);return t.pop(),l.push("L",i),l.join("")}function Di(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}wi.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var ki=[0,2/3,1/3,0],Ei=[0,1/3,2/3,0],Mi=[0,1/6,2/3,1/6];function Pi(t,e,n){t.push("C",Di(ki,e),",",Di(ki,n),",",Di(Ei,e),",",Di(Ei,n),",",Di(Mi,e),",",Di(Mi,n))}function Ni(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Ii(t,e,n,i){var r,a,o,s,l,u;return a=(r=i[t])[0],o=r[1],s=(r=i[e])[0],l=r[1],u=(r=i[n])[0],0<(r[1]-o)*(s-a)-(l-o)*(u-a)}M.geom.hull=function(t){var w=bi,C=_i;if(arguments.length)return e(t);function e(t){if(t.length<3)return[];var e,n,i,r,a,o,s,l,u,c,h,d,p=oe(w),f=oe(C),g=t.length,m=g-1,v=[],y=[],b=0;if(p===bi&&C===_i)e=t;else for(i=0,e=[];i<g;++i)e.push([+p.call(this,n=t[i],i),+f.call(this,n,i)]);for(i=1;i<g;++i)(e[i][1]<e[b][1]||e[i][1]==e[b][1]&&e[i][0]<e[b][0])&&(b=i);for(i=0;i<g;++i)i!==b&&(o=e[i][1]-e[b][1],a=e[i][0]-e[b][0],v.push({angle:Math.atan2(o,a),index:i}));for(v.sort(function(t,e){return t.angle-e.angle}),h=v[0].angle,c=v[0].index,u=0,i=1;i<m;++i){if(r=v[i].index,h==v[i].angle){if(a=e[c][0]-e[b][0],o=e[c][1]-e[b][1],(s=e[r][0]-e[b][0])*s+(l=e[r][1]-e[b][1])*l<=a*a+o*o){v[i].index=-1;continue}v[u].index=-1}h=v[i].angle,u=i,c=r}for(y.push(b),r=i=0;i<2;++r)-1<v[r].index&&(y.push(v[r].index),i++);for(d=y.length;r<m;++r)if(!(v[r].index<0)){for(;!Ii(y[d-2],y[d-1],v[r].index,e);)--d;y[d++]=v[r].index}var _=[];for(i=d-1;0<=i;--i)_.push(t[y[i]]);return _}return e.x=function(t){return arguments.length?(w=t,e):w},e.y=function(t){return arguments.length?(C=t,e):C},e},M.geom.polygon=function(t){return $(t,Li),t};var Li=M.geom.polygon.prototype=[];function Oi(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Ri(t,e,n,i){var r=t[0],a=n[0],o=e[0]-r,s=i[0]-a,l=t[1],u=n[1],c=e[1]-l,h=i[1]-u,d=(s*(l-u)-h*(r-a))/(h*o-s*c);return[r+d*o,l+d*c]}function Hi(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}Li.area=function(){for(var t,e=-1,n=this.length,i=this[n-1],r=0;++e<n;)t=i,i=this[e],r+=t[1]*i[0]-t[0]*i[1];return.5*r},Li.centroid=function(t){var e,n,i=-1,r=this.length,a=0,o=0,s=this[r-1];for(arguments.length||(t=-1/(6*this.area()));++i<r;)e=s,s=this[i],n=e[0]*s[1]-s[0]*e[1],a+=(e[0]+s[0])*n,o+=(e[1]+s[1])*n;return[a*t,o*t]},Li.clip=function(t){for(var e,n,i,r,a,o,s=Hi(t),l=-1,u=this.length-Hi(this),c=this[u-1];++l<u;){for(e=t.slice(),t.length=0,r=this[l],a=e[(i=e.length-s)-1],n=-1;++n<i;)Oi(o=e[n],c,r)?(Oi(a,c,r)||t.push(Ri(a,o,c,r)),t.push(o)):Oi(a,c,r)&&t.push(Ri(a,o,c,r)),a=o;s&&t.push(t[0]),c=r}return t};var Wi,Ui,Fi,ji,zi,Vi=[],Bi=[];function Yi(){cr(this),this.edge=this.site=this.circle=null}function qi(t){var e=Vi.pop()||new Yi;return e.site=t,e}function Gi(t){ir(t),Fi.remove(t),Vi.push(t),cr(t)}function Ki(t){var e=t.circle,n=e.x,i=e.cy,r={x:n,y:i},a=t.P,o=t.N,s=[t];Gi(t);for(var l=a;l.circle&&N(n-l.circle.x)<pt&&N(i-l.circle.cy)<pt;)a=l.P,s.unshift(l),Gi(l),l=a;s.unshift(l),ir(l);for(var u=o;u.circle&&N(n-u.circle.x)<pt&&N(i-u.circle.cy)<pt;)o=u.N,s.push(u),Gi(u),u=o;s.push(u),ir(u);var c,h=s.length;for(c=1;c<h;++c)u=s[c],l=s[c-1],sr(u.edge,l.site,u.site,r);l=s[0],(u=s[h-1]).edge=or(l.site,u.site,null,r),nr(l),nr(u)}function Qi(t){for(var e,n,i,r,a=t.x,o=t.y,s=Fi._;s;)if(i=Xi(s,o)-a,pt<i)s=s.L;else{if(r=a-Zi(s,o),!(pt<r)){-pt<i?(e=s.P,n=s):-pt<r?n=(e=s).N:e=n=s;break}if(!s.R){e=s;break}s=s.R}var l=qi(t);if(Fi.insert(e,l),e||n){if(e===n)return ir(e),n=qi(e.site),Fi.insert(l,n),l.edge=n.edge=or(e.site,l.site),nr(e),void nr(n);if(n){ir(e),ir(n);var u=e.site,c=u.x,h=u.y,d=t.x-c,p=t.y-h,f=n.site,g=f.x-c,m=f.y-h,v=2*(d*m-p*g),y=d*d+p*p,b=g*g+m*m,_={x:(m*y-p*b)/v+c,y:(d*b-g*y)/v+h};sr(n.edge,u,f,_),l.edge=or(u,t,null,_),n.edge=or(t,f,null,_),nr(e),nr(n)}else l.edge=or(e.site,l.site)}}function Xi(t,e){var n=t.site,i=n.x,r=n.y,a=r-e;if(!a)return i;var o=t.P;if(!o)return-1/0;var s=(n=o.site).x,l=n.y,u=l-e;if(!u)return s;var c=s-i,h=1/a-1/u,d=c/u;return h?(-d+Math.sqrt(d*d-2*h*(c*c/(-2*u)-l+u/2+r-a/2)))/h+i:(i+s)/2}function Zi(t,e){var n=t.N;if(n)return Xi(n,e);var i=t.site;return i.y===e?i.x:1/0}function Ji(t){this.site=t,this.edges=[]}function tr(t,e){return e.angle-t.angle}function er(){cr(this),this.x=this.y=this.arc=this.site=this.cy=null}function nr(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,a=n.site;if(i!==a){var o=r.x,s=r.y,l=i.x-o,u=i.y-s,c=a.x-o,h=2*(l*(m=a.y-s)-u*c);if(!(-ft<=h)){var d=l*l+u*u,p=c*c+m*m,f=(m*d-u*p)/h,g=(l*p-c*d)/h,m=g+s,v=Bi.pop()||new er;v.arc=t,v.site=r,v.x=f+o,v.y=m+Math.sqrt(f*f+g*g),v.cy=m,t.circle=v;for(var y=null,b=zi._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}zi.insert(y,v),y||(ji=v)}}}}function ir(t){var e=t.circle;e&&(e.P||(ji=e.N),zi.remove(e),Bi.push(e),cr(e),t.circle=null)}function rr(t,e){var n=t.b;if(n)return!0;var i,r,a=t.a,o=e[0][0],s=e[1][0],l=e[0][1],u=e[1][1],c=t.l,h=t.r,d=c.x,p=c.y,f=h.x,g=h.y,m=(d+f)/2,v=(p+g)/2;if(g===p){if(m<o||s<=m)return;if(f<d){if(a){if(a.y>=u)return}else a={x:m,y:l};n={x:m,y:u}}else{if(a){if(a.y<l)return}else a={x:m,y:u};n={x:m,y:l}}}else if(r=v-(i=(d-f)/(g-p))*m,i<-1||1<i)if(f<d){if(a){if(a.y>=u)return}else a={x:(l-r)/i,y:l};n={x:(u-r)/i,y:u}}else{if(a){if(a.y<l)return}else a={x:(u-r)/i,y:u};n={x:(l-r)/i,y:l}}else if(p<g){if(a){if(a.x>=s)return}else a={x:o,y:i*o+r};n={x:s,y:i*s+r}}else{if(a){if(a.x<o)return}else a={x:s,y:i*s+r};n={x:o,y:i*o+r}}return t.a=a,t.b=n,!0}function ar(t,e){this.l=t,this.r=e,this.a=this.b=null}function or(t,e,n,i){var r=new ar(t,e);return Wi.push(r),n&&sr(r,t,e,n),i&&sr(r,e,t,i),Ui[t.i].edges.push(new lr(r,t,e)),Ui[e.i].edges.push(new lr(r,e,t)),r}function sr(t,e,n,i){t.a||t.b?t.l===n?t.b=i:t.a=i:(t.a=i,t.l=e,t.r=n)}function lr(t,e,n){var i=t.a,r=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(r.x-i.x,i.y-r.y):Math.atan2(i.x-r.x,r.y-i.y)}function ur(){this._=null}function cr(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function hr(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function dr(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function pr(t){for(;t.L;)t=t.L;return t}function fr(t,e){var n,i,r,a=t.sort(gr).pop();for(Wi=[],Ui=new Array(t.length),Fi=new ur,zi=new ur;;)if(r=ji,a&&(!r||a.y<r.y||a.y===r.y&&a.x<r.x))a.x===n&&a.y===i||(Ui[a.i]=new Ji(a),Qi(a),n=a.x,i=a.y),a=t.pop();else{if(!r)break;Ki(r.arc)}e&&(function(t){for(var e,n=Wi,i=_n(t[0][0],t[0][1],t[1][0],t[1][1]),r=n.length;r--;)(!rr(e=n[r],t)||!i(e)||N(e.a.x-e.b.x)<pt&&N(e.a.y-e.b.y)<pt)&&(e.a=e.b=null,n.splice(r,1))}(e),function(t){for(var e,n,i,r,a,o,s,l,u,c,h=t[0][0],d=t[1][0],p=t[0][1],f=t[1][1],g=Ui,m=g.length;m--;)if((a=g[m])&&a.prepare())for(l=(s=a.edges).length,o=0;o<l;)i=(c=s[o].end()).x,r=c.y,e=(u=s[++o%l].start()).x,n=u.y,(N(i-e)>pt||N(r-n)>pt)&&(s.splice(o,0,new lr((v=a.site,y=c,b=N(i-h)<pt&&pt<f-r?{x:h,y:N(e-h)<pt?n:f}:N(r-f)<pt&&pt<d-i?{x:N(n-f)<pt?e:d,y:f}:N(i-d)<pt&&pt<r-p?{x:d,y:N(e-d)<pt?n:p}:N(r-p)<pt&&pt<i-h?{x:N(n-p)<pt?e:h,y:p}:null,_=void 0,_=new ar(v,null),_.a=y,_.b=b,Wi.push(_),_),a.site,null)),++l);var v,y,b,_}(e));var o={cells:Ui,edges:Wi};return Fi=zi=Wi=Ui=null,o}function gr(t,e){return e.y-t.y||e.x-t.x}Ji.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(tr),e.length},lr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},ur.prototype={insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else n=this._?(t=pr(this._),e.P=null,(e.N=t).P=t.L=e,t):(e.P=e.N=null,this._=e,null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(hr(this,n),n=(t=n).U),n.C=!1,i.C=!0,dr(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(dr(this,n),n=(t=n).U),n.C=!1,i.C=!0,hr(this,i)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,a=t.L,o=t.R;if(n=a?o?pr(o):a:o,r?r.L===t?r.L=n:r.R=n:this._=n,a&&o?(i=n.C,n.C=t.C,((n.L=a).U=n)!==o?(r=n.U,n.U=t.U,t=n.R,r.L=t,(n.R=o).U=n):(n.U=r,t=(r=n).R)):(i=t.C,t=n),t&&(t.U=r),!i)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===r.L){if((e=r.R).C&&(e.C=!1,r.C=!0,hr(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,dr(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,hr(this,r),t=this._;break}}else if((e=r.L).C&&(e.C=!1,r.C=!0,dr(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,hr(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,dr(this,r),t=this._;break}e.C=!0,r=(t=r).U}while(!t.C);t&&(t.C=!1)}}},M.geom.voronoi=function(t){var e=bi,n=_i,i=e,r=n,a=mr;if(t)return o(t);function o(n){var i=[];return fr(s(n),a).cells.forEach(function(t,e){(i[e]=t.edges.length?t.edges.map(function(t){var e=t.start();return[e.x,e.y]}):[[a[0][0],a[1][1]],[a[1][0],a[1][1]],[a[1][0],a[0][1]],[a[0][0],a[0][1]]]).point=n[e]}),i}function s(t){return t.map(function(t,e){return{x:i(t,e),y:r(t,e),i:e}})}return o.links=function(e){return fr(s(e)).edges.filter(function(t){return t.l&&t.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},o.triangles=function(d){var p=[];return fr(s(d)).cells.forEach(function(t,e){for(var n,i,r,a,o=t.site,s=t.edges.sort(tr),l=-1,u=s.length,c=s[u-1].edge,h=c.l===o?c.r:c.l;++l<u;)c,n=h,h=(c=s[l].edge).l===o?c.r:c.l,e<n.i&&e<h.i&&(r=n,a=h,((i=o).x-a.x)*(r.y-i.y)-(i.x-r.x)*(a.y-i.y)<0)&&p.push([d[e],d[n.i],d[h.i]])}),p},o.x=function(t){return arguments.length?(i=oe(e=t),o):e},o.y=function(t){return arguments.length?(r=oe(n=t),o):n},o.clipExtent=function(t){return arguments.length?(a=null==t?mr:t,o):a===mr?null:a},o.size=function(t){return arguments.length?o.clipExtent(t&&[[0,0],t]):a===mr?null:a&&a[1]},o};var mr=[[-1e6,-1e6],[1e6,1e6]];function vr(t){return t.x}function yr(t){return t.y}function br(t,e){t=M.rgb(t),e=M.rgb(e);var n=t.r,i=t.g,r=t.b,a=e.r-n,o=e.g-i,s=e.b-r;return function(t){return"#"+Jt(Math.round(n+a*t))+Jt(Math.round(i+o*t))+Jt(Math.round(r+s*t))}}function _r(t,e){var n,i={},r={};for(n in t)n in e?i[n]=xr(t[n],e[n]):r[n]=t[n];for(n in e)n in t||(r[n]=e[n]);return function(t){for(n in i)r[n]=i[n](t);return r}}function wr(e,n){return n-=e=+e,function(t){return e+n*t}}function Cr(t,e){var n,i,r,a,o,s=0,l=[],u=[];for(t+="",e+="",Sr.lastIndex=0,i=0;n=Sr.exec(e);++i)n.index&&l.push(e.substring(s,n.index)),u.push({i:l.length,x:n[0]}),l.push(null),s=Sr.lastIndex;for(s<e.length&&l.push(e.substring(s)),i=0,a=u.length;(n=Sr.exec(t))&&i<a;++i)if((o=u[i]).x==n[0]){if(o.i)if(null==l[o.i+1])for(l[o.i-1]+=o.x,l.splice(o.i,1),r=i+1;r<a;++r)u[r].i--;else for(l[o.i-1]+=o.x+l[o.i+1],l.splice(o.i,2),r=i+1;r<a;++r)u[r].i-=2;else if(null==l[o.i+1])l[o.i]=o.x;else for(l[o.i]=o.x+l[o.i+1],l.splice(o.i+1,1),r=i+1;r<a;++r)u[r].i--;u.splice(i,1),a--,i--}else o.x=wr(parseFloat(n[0]),parseFloat(o.x));for(;i<a;)o=u.pop(),null==l[o.i+1]?l[o.i]=o.x:(l[o.i]=o.x+l[o.i+1],l.splice(o.i+1,1)),a--;return 1===l.length?null==l[0]?(o=u[0].x,function(t){return o(t)+""}):function(){return e}:function(t){for(i=0;i<a;++i)l[(o=u[i]).i]=o.x(t);return l.join("")}}M.geom.delaunay=function(t){return M.geom.voronoi().triangles(t)},M.geom.quadtree=function(t,b,_,w,C){var S,x=bi,$=_i;if(S=arguments.length)return x=vr,$=yr,3===S&&(C=_,w=b,_=b=0),e(t);function e(t){var e,n,i,r,a,o,s,l,u,c=oe(x),h=oe($);if(null!=b)o=b,s=_,l=w,u=C;else if(l=u=-(o=s=1/0),n=[],i=[],a=t.length,S)for(r=0;r<a;++r)(e=t[r]).x<o&&(o=e.x),e.y<s&&(s=e.y),e.x>l&&(l=e.x),e.y>u&&(u=e.y),n.push(e.x),i.push(e.y);else for(r=0;r<a;++r){var d=+c(e=t[r],r),p=+h(e,r);d<o&&(o=d),p<s&&(s=p),l<d&&(l=d),u<p&&(u=p),n.push(d),i.push(p)}var f=l-o,g=u-s;function m(t,e,n,i,r,a,o,s){if(!isNaN(n)&&!isNaN(i))if(t.leaf){var l=t.x,u=t.y;if(null!=l)if(N(l-n)+N(u-i)<.01)v(t,e,n,i,r,a,o,s);else{var c=t.point;t.x=t.y=t.point=null,v(t,c,l,u,r,a,o,s),v(t,e,n,i,r,a,o,s)}else t.x=n,t.y=i,t.point=e}else v(t,e,n,i,r,a,o,s)}function v(t,e,n,i,r,a,o,s){var l=.5*(r+o),u=.5*(a+s),c=l<=n,h=u<=i,d=(h<<1)+c;t.leaf=!1,c?r=l:o=l,h?a=u:s=u,m(t=t.nodes[d]||(t.nodes[d]={leaf:!0,nodes:[],point:null,x:null,y:null}),e,n,i,r,a,o,s)}g<f?u=s+f:l=o+g;var y={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){m(y,t,+c(t,++r),+h(t,r),o,s,l,u)}};if(y.visit=function(t){!function t(e,n,i,r,a,o){if(!e(n,i,r,a,o)){var s=.5*(i+a),l=.5*(r+o),u=n.nodes;u[0]&&t(e,u[0],i,r,s,l),u[1]&&t(e,u[1],s,r,a,l),u[2]&&t(e,u[2],i,l,s,o),u[3]&&t(e,u[3],s,l,a,o)}}(t,y,o,s,l,u)},r=-1,null==b){for(;++r<a;)m(y,t[r],n[r],i[r],o,s,l,u);--r}else t.forEach(y.add);return n=i=t=e=null,y}return e.x=function(t){return arguments.length?(x=t,e):x},e.y=function(t){return arguments.length?($=t,e):$},e.extent=function(t){return arguments.length?(null==t?b=_=w=C=null:(b=+t[0][0],_=+t[0][1],w=+t[1][0],C=+t[1][1]),e):null==b?null:[[b,_],[w,C]]},e.size=function(t){return arguments.length?(null==t?b=_=w=C=null:(b=_=0,w=+t[0],C=+t[1]),e):null==b?null:[w-b,C-_]},e},M.interpolateRgb=br,M.interpolateObject=_r,M.interpolateNumber=wr,M.interpolateString=Cr;var Sr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;function xr(t,e){for(var n,i=M.interpolators.length;0<=--i&&!(n=M.interpolators[i](t,e)););return n}function $r(t,e){var n,i=[],r=[],a=t.length,o=e.length,s=Math.min(t.length,e.length);for(n=0;n<s;++n)i.push(xr(t[n],e[n]));for(;n<a;++n)r[n]=t[n];for(;n<o;++n)r[n]=e[n];return function(t){for(n=0;n<s;++n)r[n]=i[n](t);return r}}M.interpolate=xr,M.interpolators=[function(t,e){var n=typeof e;return("string"===n?ae.has(e)||/^(#|rgb\(|hsl\()/.test(e)?br:Cr:e instanceof At?br:"object"===n?Array.isArray(e)?$r:_r:wr)(t,e)}],M.interpolateArray=$r;var Tr=function(){return se},Ar=M.map({linear:Tr,poly:function(e){return function(t){return Math.pow(t,e)}},quad:function(){return Mr},cubic:function(){return Pr},sin:function(){return Ir},exp:function(){return Lr},circle:function(){return Or},elastic:function(e,n){var i;arguments.length<2&&(n=.45);i=arguments.length?n/ht*Math.asin(1/e):(e=1,n/4);return function(t){return 1+e*Math.pow(2,-10*t)*Math.sin((t-i)*ht/n)}},back:function(e){e||(e=1.70158);return function(t){return t*t*((e+1)*t-e)}},bounce:function(){return Rr}}),Dr=M.map({in:se,out:kr,"in-out":Er,"out-in":function(t){return Er(kr(t))}});function kr(e){return function(t){return 1-e(1-t)}}function Er(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function Mr(t){return t*t}function Pr(t){return t*t*t}function Nr(t){if(t<=0)return 0;if(1<=t)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function Ir(t){return 1-Math.cos(t*dt)}function Lr(t){return Math.pow(2,10*(t-1))}function Or(t){return 1-Math.sqrt(1-t*t)}function Rr(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Hr(e,n){return n-=e,function(t){return Math.round(e+n*t)}}function Wr(t){var e,n,i,r=[t.a,t.b],a=[t.c,t.d],o=Fr(r),s=Ur(r,a),l=Fr(((e=a)[0]+=(i=-s)*(n=r)[0],e[1]+=i*n[1],e))||0;r[0]*a[1]<a[0]*r[1]&&(r[0]*=-1,r[1]*=-1,o*=-1,s*=-1),this.rotate=(o?Math.atan2(r[1],r[0]):Math.atan2(-a[0],a[1]))*mt,this.translate=[t.e,t.f],this.scale=[o,l],this.skew=l?Math.atan2(s,l)*mt:0}function Ur(t,e){return t[0]*e[0]+t[1]*e[1]}function Fr(t){var e=Math.sqrt(Ur(t,t));return e&&(t[0]/=e,t[1]/=e),e}M.ease=function(t){var e,n=t.indexOf("-"),i=0<=n?t.substring(0,n):t,r=0<=n?t.substring(n+1):"in";return i=Ar.get(i)||Tr,r=Dr.get(r)||se,e=r(i.apply(null,a.call(arguments,1))),function(t){return t<=0?0:1<=t?1:e(t)}},M.interpolateHcl=function(t,e){t=M.hcl(t),e=M.hcl(e);var n=t.h,i=t.c,r=t.l,a=e.h-n,o=e.c-i,s=e.l-r;isNaN(o)&&(o=0,i=isNaN(i)?e.c:i);isNaN(a)?(a=0,n=isNaN(n)?e.h:n):180<a?a-=360:a<-180&&(a+=360);return function(t){return Lt(n+a*t,i+o*t,r+s*t)+""}},M.interpolateHsl=function(t,e){t=M.hsl(t),e=M.hsl(e);var n=t.h,i=t.s,r=t.l,a=e.h-n,o=e.s-i,s=e.l-r;isNaN(o)&&(o=0,i=isNaN(i)?e.s:i);isNaN(a)?(a=0,n=isNaN(n)?e.h:n):180<a?a-=360:a<-180&&(a+=360);return function(t){return Mt(n+a*t,i+o*t,r+s*t)+""}},M.interpolateLab=function(t,e){t=M.lab(t),e=M.lab(e);var n=t.l,i=t.a,r=t.b,a=e.l-n,o=e.a-i,s=e.b-r;return function(t){return zt(n+a*t,i+o*t,r+s*t)+""}},M.interpolateRound=Hr,M.transform=function(t){var n=i.createElementNS(M.ns.prefix.svg,"g");return(M.transform=function(t){if(null!=t){n.setAttribute("transform",t);var e=n.transform.baseVal.consolidate()}return new Wr(e?e.matrix:jr)})(t)},Wr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var jr={a:1,b:0,c:0,d:1,e:0,f:0};function zr(t,e){var i,r=[],a=[],n=M.transform(t),o=M.transform(e),s=n.translate,l=o.translate,u=n.rotate,c=o.rotate,h=n.skew,d=o.skew,p=n.scale,f=o.scale;return s[0]!=l[0]||s[1]!=l[1]?(r.push("translate(",null,",",null,")"),a.push({i:1,x:wr(s[0],l[0])},{i:3,x:wr(s[1],l[1])})):l[0]||l[1]?r.push("translate("+l+")"):r.push(""),u!=c?(180<u-c?c+=360:180<c-u&&(u+=360),a.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:wr(u,c)})):c&&r.push(r.pop()+"rotate("+c+")"),h!=d?a.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:wr(h,d)}):d&&r.push(r.pop()+"skewX("+d+")"),p[0]!=f[0]||p[1]!=f[1]?(i=r.push(r.pop()+"scale(",null,",",null,")"),a.push({i:i-4,x:wr(p[0],f[0])},{i:i-2,x:wr(p[1],f[1])})):1==f[0]&&1==f[1]||r.push(r.pop()+"scale("+f+")"),i=a.length,function(t){for(var e,n=-1;++n<i;)r[(e=a[n]).i]=e.x(t);return r.join("")}}function Vr(e,n){return n=n-(e=+e)?1/(n-e):0,function(t){return(t-e)*n}}function Br(e,n){return n=n-(e=+e)?1/(n-e):0,function(t){return Math.max(0,Math.min(1,(t-e)*n))}}function Yr(t){for(var e=t.source,n=t.target,i=function(t,e){if(t===e)return t;var n=qr(t),i=qr(e),r=n.pop(),a=i.pop(),o=null;for(;r===a;)o=r,r=n.pop(),a=i.pop();return o}(e,n),r=[e];e!==i;)e=e.parent,r.push(e);for(var a=r.length;n!==i;)r.splice(a,0,n),n=n.parent;return r}function qr(t){for(var e=[],n=t.parent;null!=n;)e.push(t),n=(t=n).parent;return e.push(t),e}function Gr(t){t.fixed|=2}function Kr(t){t.fixed&=-7}function Qr(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Xr(t){t.fixed&=-5}M.interpolateTransform=zr,M.layout={},M.layout.bundle=function(){return function(t){for(var e=[],n=-1,i=t.length;++n<i;)e.push(Yr(t[n]));return e}},M.layout.chord=function(){var m,v,y,b,_,w,C,e={},S=0;function t(){var t,e,n,i,r,a={},o=[],s=M.range(b),l=[];for(m=[],v=[],t=0,i=-1;++i<b;){for(e=0,r=-1;++r<b;)e+=y[i][r];o.push(e),l.push(M.range(b)),t+=e}for(_&&s.sort(function(t,e){return _(o[t],o[e])}),w&&l.forEach(function(t,n){t.sort(function(t,e){return w(y[n][t],y[n][e])})}),t=(ht-S*b)/t,e=0,i=-1;++i<b;){for(n=e,r=-1;++r<b;){var u=s[i],c=l[u][r],h=y[u][c],d=e,p=e+=h*t;a[u+"-"+c]={index:u,subindex:c,startAngle:d,endAngle:p,value:h}}v[u]={index:u,startAngle:n,endAngle:e,value:(e-n)/t},e+=S}for(i=-1;++i<b;)for(r=i-1;++r<b;){var f=a[i+"-"+r],g=a[r+"-"+i];(f.value||g.value)&&m.push(f.value<g.value?{source:g,target:f}:{source:f,target:g})}C&&x()}function x(){m.sort(function(t,e){return C((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}return e.matrix=function(t){return arguments.length?(b=(y=t)&&y.length,m=v=null,e):y},e.padding=function(t){return arguments.length?(S=t,m=v=null,e):S},e.sortGroups=function(t){return arguments.length?(_=t,m=v=null,e):_},e.sortSubgroups=function(t){return arguments.length?(w=t,m=null,e):w},e.sortChords=function(t){return arguments.length?(C=t,m&&x(),e):C},e.chords=function(){return m||t(),m},e.groups=function(){return v||t(),v},e},M.layout.force=function(){var t,h,d,p,f,a={},g=M.dispatch("start","tick","end"),m=[1,1],v=.9,o=Zr,c=Jr,y=-30,b=.1,u=.8,_=[],w=[];function C(l){return function(t,e,n,i){if(t.point!==l){var r=t.cx-l.x,a=t.cy-l.y,o=1/Math.sqrt(r*r+a*a);if((i-e)*o<u){var s=t.charge*o*o;return l.px-=r*s,l.py-=a*s,!0}if(t.point&&isFinite(o)){s=t.pointCharge*o*o;l.px-=r*s,l.py-=a*s}}return!t.charge}}function e(t){t.px=M.event.x,t.py=M.event.y,a.resume()}return a.tick=function(){if((h*=.99)<.005)return g.end({type:"end",alpha:h=0}),!0;var t,e,n,i,r,a,o,s,l,u=_.length,c=w.length;for(e=0;e<c;++e)i=(n=w[e]).source,(a=(s=(r=n.target).x-i.x)*s+(l=r.y-i.y)*l)&&(s*=a=h*p[e]*((a=Math.sqrt(a))-d[e])/a,l*=a,r.x-=s*(o=i.weight/(r.weight+i.weight)),r.y-=l*o,i.x+=s*(o=1-o),i.y+=l*o);if((o=h*b)&&(s=m[0]/2,l=m[1]/2,e=-1,o))for(;++e<u;)(n=_[e]).x+=(s-n.x)*o,n.y+=(l-n.y)*o;if(y)for(!function t(e,n,i){var r=0,a=0;e.charge=0;if(!e.leaf)for(var o,s=e.nodes,l=s.length,u=-1;++u<l;)null!=(o=s[u])&&(t(o,n,i),e.charge+=o.charge,r+=o.charge*o.cx,a+=o.charge*o.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var c=n*i[e.point.index];e.charge+=e.pointCharge=c,r+=c*e.point.x,a+=c*e.point.y}e.cx=r/e.charge;e.cy=a/e.charge}(t=M.geom.quadtree(_),h,f),e=-1;++e<u;)(n=_[e]).fixed||t.visit(C(n));for(e=-1;++e<u;)(n=_[e]).fixed?(n.x=n.px,n.y=n.py):(n.x-=(n.px-(n.px=n.x))*v,n.y-=(n.py-(n.py=n.y))*v);g.tick({type:"tick",alpha:h})},a.nodes=function(t){return arguments.length?(_=t,a):_},a.links=function(t){return arguments.length?(w=t,a):w},a.size=function(t){return arguments.length?(m=t,a):m},a.linkDistance=function(t){return arguments.length?(o="function"==typeof t?t:+t,a):o},a.distance=a.linkDistance,a.linkStrength=function(t){return arguments.length?(c="function"==typeof t?t:+t,a):c},a.friction=function(t){return arguments.length?(v=+t,a):v},a.charge=function(t){return arguments.length?(y="function"==typeof t?t:+t,a):y},a.gravity=function(t){return arguments.length?(b=+t,a):b},a.theta=function(t){return arguments.length?(u=+t,a):u},a.alpha=function(t){return arguments.length?(t=+t,h?h=0<t?t:0:0<t&&(g.start({type:"start",alpha:h=t}),M.timer(a.tick)),a):h},a.start=function(){var s,l,t,u=_.length,e=w.length,n=m[0],i=m[1];for(s=0;s<u;++s)(t=_[s]).index=s,t.weight=0;for(s=0;s<e;++s)"number"==typeof(t=w[s]).source&&(t.source=_[t.source]),"number"==typeof t.target&&(t.target=_[t.target]),++t.source.weight,++t.target.weight;for(s=0;s<u;++s)t=_[s],isNaN(t.x)&&(t.x=r("x",n)),isNaN(t.y)&&(t.y=r("y",i)),isNaN(t.px)&&(t.px=t.x),isNaN(t.py)&&(t.py=t.y);if(d=[],"function"==typeof o)for(s=0;s<e;++s)d[s]=+o.call(this,w[s],s);else for(s=0;s<e;++s)d[s]=o;if(p=[],"function"==typeof c)for(s=0;s<e;++s)p[s]=+c.call(this,w[s],s);else for(s=0;s<e;++s)p[s]=c;if(f=[],"function"==typeof y)for(s=0;s<u;++s)f[s]=+y.call(this,_[s],s);else for(s=0;s<u;++s)f[s]=y;function r(t,e){if(!l){for(l=new Array(u),a=0;a<u;++a)l[a]=[];for(a=0;a<o;++a){var n=w[a];l[n.source.index].push(n.target),l[n.target.index].push(n.source)}}for(var i,r=l[s],a=-1,o=r.length;++a<o;)if(!isNaN(i=r[a][t]))return i;return Math.random()*e}return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){if(t||(t=M.behavior.drag().origin(se).on("dragstart.force",Gr).on("drag.force",e).on("dragend.force",Kr)),!arguments.length)return t;this.on("mouseover.force",Qr).on("mouseout.force",Xr).call(t)},M.rebind(a,g,"on")};var Zr=20,Jr=1;function ta(t,e){return M.rebind(t,e,"sort","children","value"),(t.nodes=t).links=ra,t}function ea(t){return t.children}function na(t){return t.value}function ia(t,e){return e.value-t.value}function ra(t){return M.merge(t.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}M.layout.hierarchy=function(){var h=ia,d=ea,p=na;function f(t){var e=[];return function t(e,n,i){var r=d.call(f,e,n);if(e.depth=n,i.push(e),r&&(a=r.length)){for(var a,o,s=-1,l=e.children=[],u=0,c=n+1;++s<a;)(o=t(r[s],c,i)).parent=e,l.push(o),u+=o.value;h&&l.sort(h),p&&(e.value=u)}else p&&(e.value=+p.call(f,e,n)||0);return e}(t,0,e),e}return f.sort=function(t){return arguments.length?(h=t,f):h},f.children=function(t){return arguments.length?(d=t,f):d},f.value=function(t){return arguments.length?(p=t,f):p},f.revalue=function(t){return function t(e,n){var i=e.children,r=0;if(i&&(a=i.length))for(var a,o=-1,s=n+1;++o<a;)r+=t(i[o],s);else p&&(r=+p.call(f,e,n)||0);return p&&(e.value=r),r}(t,0),t},f},M.layout.partition=function(){var i=M.layout.hierarchy(),r=[1,1];function e(t,e){var n=i.call(this,t,e);return function t(e,n,i,r){var a=e.children;if(e.x=n,e.y=e.depth*r,e.dx=i,e.dy=r,a&&(o=a.length)){var o,s,l,u=-1;for(i=e.value?i/e.value:0;++u<o;)t(s=a[u],n,l=s.value*i,r),n+=l}}(n[0],0,r[0],r[1]/function t(e){var n=e.children,i=0;if(n&&(r=n.length))for(var r,a=-1;++a<r;)i=Math.max(i,t(n[a]));return 1+i}(n[0])),n}return e.size=function(t){return arguments.length?(r=t,e):r},ta(e,i)},M.layout.pie=function(){var s=Number,l=aa,e=0,u=ht;function c(n){var i=n.map(function(t,e){return+s.call(c,t,e)}),r=+("function"==typeof e?e.apply(this,arguments):e),a=(("function"==typeof u?u.apply(this,arguments):u)-r)/M.sum(i),t=M.range(n.length);null!=l&&t.sort(l===aa?function(t,e){return i[e]-i[t]}:function(t,e){return l(n[t],n[e])});var o=[];return t.forEach(function(t){var e;o[t]={data:n[t],value:e=i[t],startAngle:r,endAngle:r+=e*a}}),o}return c.value=function(t){return arguments.length?(s=t,c):s},c.sort=function(t){return arguments.length?(l=t,c):l},c.startAngle=function(t){return arguments.length?(e=t,c):e},c.endAngle=function(t){return arguments.length?(u=t,c):u},c};var aa={};function oa(t){return t.x}function sa(t){return t.y}function la(t,e,n){t.y0=e,t.y=n}M.layout.stack=function(){var h=se,d=ha,p=da,f=la,g=oa,m=sa;function v(t,e){var n=t.map(function(t,e){return h.call(v,t,e)}),i=n.map(function(t){return t.map(function(t,e){return[g.call(v,t,e),m.call(v,t,e)]})}),r=d.call(v,i,e);n=M.permute(n,r),i=M.permute(i,r);var a,o,s,l=p.call(v,i,e),u=n.length,c=n[0].length;for(o=0;o<c;++o)for(f.call(v,n[0][o],s=l[o],i[0][o][1]),a=1;a<u;++a)f.call(v,n[a][o],s+=i[a-1][o][1],i[a][o][1]);return t}return v.values=function(t){return arguments.length?(h=t,v):h},v.order=function(t){return arguments.length?(d="function"==typeof t?t:ua.get(t)||ha,v):d},v.offset=function(t){return arguments.length?(p="function"==typeof t?t:ca.get(t)||da,v):p},v.x=function(t){return arguments.length?(g=t,v):g},v.y=function(t){return arguments.length?(m=t,v):m},v.out=function(t){return arguments.length?(f=t,v):f},v};var ua=M.map({"inside-out":function(t){var e,n,i=t.length,r=t.map(pa),a=t.map(fa),o=M.range(i).sort(function(t,e){return r[t]-r[e]}),s=0,l=0,u=[],c=[];for(e=0;e<i;++e)n=o[e],s<l?(s+=a[n],u.push(n)):(l+=a[n],c.push(n));return c.reverse().concat(u)},reverse:function(t){return M.range(t.length).reverse()},default:ha}),ca=M.map({silhouette:function(t){var e,n,i,r=t.length,a=t[0].length,o=[],s=0,l=[];for(n=0;n<a;++n){for(i=e=0;e<r;e++)i+=t[e][n][1];s<i&&(s=i),o.push(i)}for(n=0;n<a;++n)l[n]=(s-o[n])/2;return l},wiggle:function(t){var e,n,i,r,a,o,s,l,u,c=t.length,h=t[0],d=h.length,p=[];for(p[0]=l=u=0,n=1;n<d;++n){for(r=e=0;e<c;++e)r+=t[e][n][1];for(a=e=0,s=h[n][0]-h[n-1][0];e<c;++e){for(i=0,o=(t[e][n][1]-t[e][n-1][1])/(2*s);i<e;++i)o+=(t[i][n][1]-t[i][n-1][1])/s;a+=o*t[e][n][1]}p[n]=l-=r?a/r*s:0,l<u&&(u=l)}for(n=0;n<d;++n)p[n]-=u;return p},expand:function(t){var e,n,i,r=t.length,a=t[0].length,o=1/r,s=[];for(n=0;n<a;++n){for(i=e=0;e<r;e++)i+=t[e][n][1];if(i)for(e=0;e<r;e++)t[e][n][1]/=i;else for(e=0;e<r;e++)t[e][n][1]=o}for(n=0;n<a;++n)s[n]=0;return s},zero:da});function ha(t){return M.range(t.length)}function da(t){for(var e=-1,n=t[0].length,i=[];++e<n;)i[e]=0;return i}function pa(t){for(var e,n=1,i=0,r=t[0][1],a=t.length;n<a;++n)(e=t[n][1])>r&&(i=n,r=e);return i}function fa(t){return t.reduce(ga,0)}function ga(t,e){return t+e[1]}function ma(t,e){return va(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function va(t,e){for(var n=-1,i=+t[0],r=(t[1]-i)/e,a=[];++n<=e;)a[n]=r*n+i;return a}function ya(t){return[M.min(t),M.max(t)]}function ba(t,e){return t.parent==e.parent?1:2}function _a(t){var e=t.children;return e&&e.length?e[0]:t._tree.thread}function wa(t){var e,n=t.children;return n&&(e=n.length)?n[e-1]:t._tree.thread}function Ca(t,e){var n=t.children;if(n&&(r=n.length))for(var i,r,a=-1;++a<r;)0<e(i=Ca(n[a],e),t)&&(t=i);return t}function Sa(t,e){return t.x-e.x}function xa(t,e){return e.x-t.x}function $a(t,e){return t.depth-e.depth}function Ta(t,l){!function t(e,n){var i=e.children;if(i&&(a=i.length))for(var r,a,o=null,s=-1;++s<a;)t(r=i[s],o),o=r;l(e,n)}(t,null)}function Aa(t,e,n){t=t._tree;var i=n/((e=e._tree).number-t.number);t.change+=i,e.change-=i,e.shift+=n,e.prelim+=n,e.mod+=n}function Da(t,e){return t.value-e.value}function ka(t,e){var n=t._pack_next;(t._pack_next=e)._pack_prev=t,(e._pack_next=n)._pack_prev=e}function Ea(t,e){(t._pack_next=e)._pack_prev=t}function Ma(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r+e.r;return n*n+i*i<.999*r*r}function Pa(t){if((e=t.children)&&(l=e.length)){var e,n,i,r,a,o,s,l,u=1/0,c=-1/0,h=1/0,d=-1/0;if(e.forEach(Na),(n=e[0]).x=-n.r,n.y=0,b(n),1<l&&((i=e[1]).x=i.r,i.y=0,b(i),2<l))for(La(n,i,r=e[2]),b(r),ka(n,r),ka(n._pack_prev=r,i),i=n._pack_next,a=3;a<l;a++){La(n,i,r=e[a]);var p=0,f=1,g=1;for(o=i._pack_next;o!==i;o=o._pack_next,f++)if(Ma(o,r)){p=1;break}if(1==p)for(s=n._pack_prev;s!==o._pack_prev&&!Ma(s,r);s=s._pack_prev,g++);p?(f<g||f==g&&i.r<n.r?Ea(n,i=o):Ea(n=s,i),a--):(ka(n,r),b(i=r))}var m=(u+c)/2,v=(h+d)/2,y=0;for(a=0;a<l;a++)(r=e[a]).x-=m,r.y-=v,y=Math.max(y,r.r+Math.sqrt(r.x*r.x+r.y*r.y));t.r=y,e.forEach(Ia)}function b(t){u=Math.min(t.x-t.r,u),c=Math.max(t.x+t.r,c),h=Math.min(t.y-t.r,h),d=Math.max(t.y+t.r,d)}}function Na(t){t._pack_next=t._pack_prev=t}function Ia(t){delete t._pack_next,delete t._pack_prev}function La(t,e,n){var i=t.r+n.r,r=e.x-t.x,a=e.y-t.y;if(i&&(r||a)){var o=e.r+n.r,s=r*r+a*a,l=.5+((i*=i)-(o*=o))/(2*s),u=Math.sqrt(Math.max(0,2*o*(i+s)-(i-=s)*i-o*o))/(2*s);n.x=t.x+l*r+u*a,n.y=t.y+l*a-u*r}else n.x=t.x+i,n.y=t.y}function Oa(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Ra(t,e){var n=t.x+e[3],i=t.y+e[0],r=t.dx-e[1]-e[3],a=t.dy-e[0]-e[2];return r<0&&(n+=r/2,r=0),a<0&&(i+=a/2,a=0),{x:n,y:i,dx:r,dy:a}}function Ha(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function Wa(t){return t.rangeExtent?t.rangeExtent():Ha(t.range())}function Ua(t,e,n,i){var r=n(t[0],t[1]),a=i(e[0],e[1]);return function(t){return a(r(t))}}function Fa(t,e){var n,i=0,r=t.length-1,a=t[i],o=t[r];return o<a&&(n=i,i=r,r=n,n=a,a=o,o=n),t[i]=e.floor(a),t[r]=e.ceil(o),t}M.layout.histogram=function(){var h=!0,d=Number,p=ya,f=ma;function n(t,e){for(var n,i,r=[],a=t.map(d,this),o=p.call(this,a,e),s=f.call(this,o,a,e),l=(e=-1,a.length),u=s.length-1,c=h?1:1/l;++e<u;)(n=r[e]=[]).dx=s[e+1]-(n.x=s[e]),n.y=0;if(0<u)for(e=-1;++e<l;)(i=a[e])>=o[0]&&i<=o[1]&&((n=r[M.bisect(s,i,1,u)-1]).y+=c,n.push(t[e]));return r}return n.value=function(t){return arguments.length?(d=t,n):d},n.range=function(t){return arguments.length?(p=oe(t),n):p},n.bins=function(e){return arguments.length?(f="number"==typeof e?function(t){return va(t,e)}:oe(e),n):f},n.frequency=function(t){return arguments.length?(h=!!t,n):h},n},M.layout.tree=function(){var c=M.layout.hierarchy().sort(null).value(null),g=ba,h=[1,1],p=!1;function e(t,e){var n=c.call(this,t,e),i=n[0];function d(t,e,n){if(e){for(var i,r=t,a=t,o=e,s=t.parent.children[0],l=r._tree.mod,u=a._tree.mod,c=o._tree.mod,h=s._tree.mod;o=wa(o),r=_a(r),o&&r;)s=_a(s),(a=wa(a))._tree.ancestor=t,0<(i=o._tree.prelim+c-r._tree.prelim-l+g(o,r))&&(Aa((p=t,f=n,(d=o)._tree.ancestor.parent==p.parent?d._tree.ancestor:f),t,i),l+=i,u+=i),c+=o._tree.mod,l+=r._tree.mod,h+=s._tree.mod,u+=a._tree.mod;o&&!wa(a)&&(a._tree.thread=o,a._tree.mod+=c-u),r&&!_a(s)&&(s._tree.thread=r,s._tree.mod+=l-h,n=t)}var d,p,f;return n}Ta(i,function(t,e){t._tree={ancestor:t,prelim:0,mod:0,change:0,shift:0,number:e?e._tree.number+1:0}}),function t(e,n){var i=e.children,r=e._tree;if(i&&(a=i.length)){for(var a,o,s,l=i[0],u=l,c=-1;++c<a;)t(s=i[c],o),u=d(s,o,u),o=s;!function(t){for(var e,n=0,i=0,r=t.children,a=r.length;0<=--a;)(e=r[a]._tree).prelim+=n,e.mod+=n,n+=e.shift+(i+=e.change)}(e);var h=.5*(l._tree.prelim+s._tree.prelim);n?(r.prelim=n._tree.prelim+g(e,n),r.mod=r.prelim-h):r.prelim=h}else n&&(r.prelim=n._tree.prelim+g(e,n))}(i),function t(e,n){e.x=e._tree.prelim+n;var i=e.children;if(i&&(r=i.length)){var r,a=-1;for(n+=e._tree.mod;++a<r;)t(i[a],n)}}(i,-i._tree.prelim);var r=Ca(i,xa),a=Ca(i,Sa),o=Ca(i,$a),s=r.x-g(r,a)/2,l=a.x+g(a,r)/2,u=o.depth||1;return Ta(i,p?function(t){t.x*=h[0],t.y=t.depth*h[1],delete t._tree}:function(t){t.x=(t.x-s)/(l-s)*h[0],t.y=t.depth/u*h[1],delete t._tree}),n}return e.separation=function(t){return arguments.length?(g=t,e):g},e.size=function(t){return arguments.length?(p=null==(h=t),e):p?null:h},e.nodeSize=function(t){return arguments.length?(p=null!=(h=t),e):p?h:null},ta(e,c)},M.layout.pack=function(){var l,u=M.layout.hierarchy().sort(Da),c=0,h=[1,1];function e(t,e){var n=u.call(this,t,e),i=n[0],r=h[0],a=h[1],o=null==l?Math.sqrt:"function"==typeof l?l:function(){return l};if(i.x=i.y=0,Ta(i,function(t){t.r=+o(t.value)}),Ta(i,Pa),c){var s=c*(l?1:Math.max(2*i.r/r,2*i.r/a))/2;Ta(i,function(t){t.r+=s}),Ta(i,Pa),Ta(i,function(t){t.r-=s})}return function t(e,n,i,r){var a=e.children;e.x=n+=r*e.x;e.y=i+=r*e.y;e.r*=r;if(a)for(var o=-1,s=a.length;++o<s;)t(a[o],n,i,r)}(i,r/2,a/2,l?1:1/Math.max(2*i.r/r,2*i.r/a)),n}return e.size=function(t){return arguments.length?(h=t,e):h},e.radius=function(t){return arguments.length?(l=null==t||"function"==typeof t?t:+t,e):l},e.padding=function(t){return arguments.length?(c=+t,e):c},ta(e,u)},M.layout.cluster=function(){var c=M.layout.hierarchy().sort(null).value(null),h=ba,d=[1,1],p=!1;function e(t,e){var r,n=c.call(this,t,e),i=n[0],a=0;Ta(i,function(t){var e,n,i=t.children;i&&i.length?(t.x=(n=i).reduce(function(t,e){return t+e.x},0)/n.length,t.y=(e=i,1+M.max(e,function(t){return t.y}))):(t.x=r?a+=h(t,r):0,t.y=0,r=t)});var o=function t(e){var n=e.children;return n&&n.length?t(n[0]):e}(i),s=function t(e){var n,i=e.children;return i&&(n=i.length)?t(i[n-1]):e}(i),l=o.x-h(o,s)/2,u=s.x+h(s,o)/2;return Ta(i,p?function(t){t.x=(t.x-i.x)*d[0],t.y=(i.y-t.y)*d[1]}:function(t){t.x=(t.x-l)/(u-l)*d[0],t.y=(1-(i.y?t.y/i.y:1))*d[1]}),n}return e.separation=function(t){return arguments.length?(h=t,e):h},e.size=function(t){return arguments.length?(p=null==(d=t),e):p?null:d},e.nodeSize=function(t){return arguments.length?(p=null!=(d=t),e):p?d:null},ta(e,c)},M.layout.treemap=function(){var i,r=M.layout.hierarchy(),c=Math.round,a=[1,1],o=null,h=Oa,s=!1,d="squarify",l=.5*(1+Math.sqrt(5));function p(t,e){for(var n,i,r=-1,a=t.length;++r<a;)i=(n=t[r]).value*(e<0?0:e),n.area=isNaN(i)||i<=0?0:i}function f(t){var e=t.children;if(e&&e.length){var n,i,r,a=h(t),o=[],s=e.slice(),l=1/0,u="slice"===d?a.dx:"dice"===d?a.dy:"slice-dice"===d?1&t.depth?a.dy:a.dx:Math.min(a.dx,a.dy);for(p(s,a.dx*a.dy/t.value),o.area=0;0<(r=s.length);)o.push(n=s[r-1]),o.area+=n.area,l="squarify"!==d||(i=g(o,u))<=l?(s.pop(),i):(o.area-=o.pop().area,m(o,u,a,!1),u=Math.min(a.dx,a.dy),o.length=o.area=0,1/0);o.length&&(m(o,u,a,!0),o.length=o.area=0),e.forEach(f)}}function u(t){var e=t.children;if(e&&e.length){var n,i=h(t),r=e.slice(),a=[];for(p(r,i.dx*i.dy/t.value),a.area=0;n=r.pop();)a.push(n),a.area+=n.area,null!=n.z&&(m(a,n.z?i.dx:i.dy,i,!r.length),a.length=a.area=0);e.forEach(u)}}function g(t,e){for(var n,i=t.area,r=0,a=1/0,o=-1,s=t.length;++o<s;)(n=t[o].area)&&(n<a&&(a=n),r<n&&(r=n));return e*=e,(i*=i)?Math.max(e*r*l/i,i/(e*a*l)):1/0}function m(t,e,n,i){var r,a=-1,o=t.length,s=n.x,l=n.y,u=e?c(t.area/e):0;if(e==n.dx){for((i||u>n.dy)&&(u=n.dy);++a<o;)(r=t[a]).x=s,r.y=l,r.dy=u,s+=r.dx=Math.min(n.x+n.dx-s,u?c(r.area/u):0);r.z=!0,r.dx+=n.x+n.dx-s,n.y+=u,n.dy-=u}else{for((i||u>n.dx)&&(u=n.dx);++a<o;)(r=t[a]).x=s,r.y=l,r.dx=u,l+=r.dy=Math.min(n.y+n.dy-l,u?c(r.area/u):0);r.z=!1,r.dy+=n.y+n.dy-l,n.x+=u,n.dx-=u}}function v(t){var e=i||r(t),n=e[0];return n.x=0,n.y=0,n.dx=a[0],n.dy=a[1],i&&r.revalue(n),p([n],n.dx*n.dy/n.value),(i?u:f)(n),s&&(i=e),e}return v.size=function(t){return arguments.length?(a=t,v):a},v.padding=function(n){if(!arguments.length)return o;function t(t){return Ra(t,n)}var e;return h=null==(o=n)?Oa:"function"==(e=typeof n)?function(t){var e=n.call(v,t,t.depth);return null==e?Oa(t):Ra(t,"number"==typeof e?[e,e,e,e]:e)}:("number"===e&&(n=[n,n,n,n]),t),v},v.round=function(t){return arguments.length?(c=t?Math.round:Number,v):c!=Number},v.sticky=function(t){return arguments.length?(s=t,i=null,v):s},v.ratio=function(t){return arguments.length?(l=t,v):l},v.mode=function(t){return arguments.length?(d=t+"",v):d},ta(v,r)},M.random={normal:function(i,r){var t=arguments.length;return t<2&&(r=1),t<1&&(i=0),function(){for(var t,e,n;!(n=(t=2*Math.random()-1)*t+(e=2*Math.random()-1)*e)||1<n;);return i+r*t*Math.sqrt(-2*Math.log(n)/n)}},logNormal:function(){var t=M.random.normal.apply(M,arguments);return function(){return Math.exp(t())}},irwinHall:function(n){return function(){for(var t=0,e=0;e<n;e++)t+=Math.random();return t/n}}},M.scale={};var ja={floor:se,ceil:se};function za(n,t,e,i){var r=[],a=[],o=0,s=Math.min(n.length,t.length)-1;for(n[s]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++o<=s;)r.push(e(n[o-1],n[o])),a.push(i(t[o-1],t[o]));return function(t){var e=M.bisect(n,t,1,s)-1;return a[e](r[e](t))}}function Va(t,e){return M.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Ba(t,e){return Fa(t,(n=Ya(t,e)[2])?{floor:function(t){return Math.floor(t/n)*n},ceil:function(t){return Math.ceil(t/n)*n}}:ja);var n}function Ya(t,e){null==e&&(e=10);var n=Ha(t),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/e)/Math.LN10)),a=e/i*r;return a<=.15?r*=10:a<=.35?r*=5:a<=.75&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function qa(t,e){return M.range.apply(M,Ya(t,e))}function Ga(t,e,n){var c=-Math.floor(Math.log(Ya(t,e)[2])/Math.LN10+.01);return M.format(n?n.replace(we,function(t,e,n,i,r,a,o,s,l,u){return[e,n,i,r,a,o,s,l||"."+(c-2*("%"===u)),u].join("")}):",."+c+"f")}M.scale.linear=function(){return function t(n,i,r,a){var o,s;function e(){var t=2<Math.min(n.length,i.length)?za:Ua,e=a?Br:Vr;return o=t(n,i,e,r),s=t(i,n,e,xr),l}function l(t){return o(t)}l.invert=function(t){return s(t)};l.domain=function(t){return arguments.length?(n=t.map(Number),e()):n};l.range=function(t){return arguments.length?(i=t,e()):i};l.rangeRound=function(t){return l.range(t).interpolate(Hr)};l.clamp=function(t){return arguments.length?(a=t,e()):a};l.interpolate=function(t){return arguments.length?(r=t,e()):r};l.ticks=function(t){return qa(n,t)};l.tickFormat=function(t,e){return Ga(n,t,e)};l.nice=function(t){return Ba(n,t),e()};l.copy=function(){return t(n,i,r,a)};return e()}([0,1],[0,1],xr,!1)},M.scale.log=function(){return function t(e,l,u,c){function h(t){return(u?Math.log(t<0?0:t):-Math.log(0<t?0:-t))/Math.log(l)}function d(t){return u?Math.pow(l,t):-Math.pow(l,-t)}function a(t){return e(h(t))}a.invert=function(t){return d(e.invert(t))};a.domain=function(t){return arguments.length?(u=0<=t[0],e.domain((c=t.map(Number)).map(h)),a):c};a.base=function(t){return arguments.length?(l=+t,e.domain(c.map(h)),a):l};a.nice=function(){var t=Fa(c.map(h),u?Math:Qa);return e.domain(t),c=t.map(d),a};a.ticks=function(){var t=Ha(c),e=[],n=t[0],i=t[1],r=Math.floor(h(n)),a=Math.ceil(h(i)),o=l%1?2:l;if(isFinite(a-r)){if(u){for(;r<a;r++)for(var s=1;s<o;s++)e.push(d(r)*s);e.push(d(r))}else for(e.push(d(r));r++<a;)for(var s=o-1;0<s;s--)e.push(d(r)*s);for(r=0;e[r]<n;r++);for(a=e.length;e[a-1]>i;a--);e=e.slice(r,a)}return e};a.tickFormat=function(t,e){if(!arguments.length)return Ka;arguments.length<2?e=Ka:"function"!=typeof e&&(e=M.format(e));var n,i=Math.max(.1,t/a.ticks().length),r=u?(n=1e-12,Math.ceil):(n=-1e-12,Math.floor);return function(t){return t/d(r(h(t)+n))<=i?e(t):""}};a.copy=function(){return t(e.copy(),l,u,c)};return Va(a,e)}(M.scale.linear().domain([0,1]),10,!0,[1,10])};var Ka=M.format(".0e"),Qa={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};function Xa(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}M.scale.pow=function(){return function t(e,n,i){var r=Xa(n),a=Xa(1/n);function o(t){return e(r(t))}o.invert=function(t){return a(e.invert(t))};o.domain=function(t){return arguments.length?(e.domain((i=t.map(Number)).map(r)),o):i};o.ticks=function(t){return qa(i,t)};o.tickFormat=function(t,e){return Ga(i,t,e)};o.nice=function(t){return o.domain(Ba(i,t))};o.exponent=function(t){return arguments.length?(r=Xa(n=t),a=Xa(1/n),e.domain(i.map(r)),o):n};o.copy=function(){return t(e.copy(),n,i)};return Va(o,e)}(M.scale.linear(),1,[0,1])},M.scale.sqrt=function(){return M.scale.pow().exponent(.5)},M.scale.ordinal=function(){return function t(l,u){var r,c,h;function d(t){return c[((r.get(t)||"range"===u.t&&r.set(t,l.push(t)))-1)%c.length]}function p(e,n){return M.range(l.length).map(function(t){return e+n*t})}d.domain=function(t){if(!arguments.length)return l;l=[],r=new b;for(var e,n=-1,i=t.length;++n<i;)r.has(e=t[n])||r.set(e,l.push(e));return d[u.t].apply(d,u.a)};d.range=function(t){return arguments.length?(c=t,h=0,u={t:"range",a:arguments},d):c};d.rangePoints=function(t,e){arguments.length<2&&(e=0);var n=t[0],i=t[1],r=(i-n)/(Math.max(1,l.length-1)+e);return c=p(l.length<2?(n+i)/2:n+r*e/2,r),h=0,u={t:"rangePoints",a:arguments},d};d.rangeBands=function(t,e,n){arguments.length<2&&(e=0),arguments.length<3&&(n=e);var i=t[1]<t[0],r=t[i-0],a=t[1-i],o=(a-r)/(l.length-e+2*n);return c=p(r+o*n,o),i&&c.reverse(),h=o*(1-e),u={t:"rangeBands",a:arguments},d};d.rangeRoundBands=function(t,e,n){arguments.length<2&&(e=0),arguments.length<3&&(n=e);var i=t[1]<t[0],r=t[i-0],a=t[1-i],o=Math.floor((a-r)/(l.length-e+2*n)),s=a-r-(l.length-e)*o;return c=p(r+Math.round(s/2),o),i&&c.reverse(),h=Math.round(o*(1-e)),u={t:"rangeRoundBands",a:arguments},d};d.rangeBand=function(){return h};d.rangeExtent=function(){return Ha(u.a[0])};d.copy=function(){return t(l,u)};return d.domain(l)}([],{t:"range",a:[[]]})},M.scale.category10=function(){return M.scale.ordinal().range(Za)},M.scale.category20=function(){return M.scale.ordinal().range(Ja)},M.scale.category20b=function(){return M.scale.ordinal().range(to)},M.scale.category20c=function(){return M.scale.ordinal().range(eo)};var Za=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Kt),Ja=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Kt),to=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Kt),eo=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Kt);M.scale.quantile=function(){return function t(n,i){var r;function e(){var t=0,e=i.length;for(r=[];++t<e;)r[t-1]=M.quantile(n,t/e);return a}function a(t){if(!isNaN(t=+t))return i[M.bisect(r,t)]}a.domain=function(t){return arguments.length?(n=t.filter(function(t){return!isNaN(t)}).sort(M.ascending),e()):n};a.range=function(t){return arguments.length?(i=t,e()):i};a.quantiles=function(){return r};a.invertExtent=function(t){return(t=i.indexOf(t))<0?[NaN,NaN]:[0<t?r[t-1]:n[0],t<r.length?r[t]:n[n.length-1]]};a.copy=function(){return t(n,i)};return e()}([],[])},M.scale.quantize=function(){return function t(e,n,i){var r,a;function o(t){return i[Math.max(0,Math.min(a,Math.floor(r*(t-e))))]}function s(){return r=i.length/(n-e),a=i.length-1,o}o.domain=function(t){return arguments.length?(e=+t[0],n=+t[t.length-1],s()):[e,n]};o.range=function(t){return arguments.length?(i=t,s()):i};o.invertExtent=function(t){return[t=(t=i.indexOf(t))<0?NaN:t/r+e,t+1/r]};o.copy=function(){return t(e,n,i)};return s()}(0,1,[0,1])},M.scale.threshold=function(){return function t(e,n){function i(t){if(t<=t)return n[M.bisect(e,t)]}i.domain=function(t){return arguments.length?(e=t,i):e};i.range=function(t){return arguments.length?(n=t,i):n};i.invertExtent=function(t){return t=n.indexOf(t),[e[t-1],e[t]]};i.copy=function(){return t(e,n)};return i}([.5],[0,1])},M.scale.identity=function(){return function t(n){function e(t){return+t}e.invert=e;e.domain=e.range=function(t){return arguments.length?(n=t.map(e),e):n};e.ticks=function(t){return qa(n,t)};e.tickFormat=function(t,e){return Ga(n,t,e)};e.copy=function(){return t(n)};return e}([0,1])},M.svg.arc=function(){var c=ro,h=ao,d=oo,p=so;function e(){var t=c.apply(this,arguments),e=h.apply(this,arguments),n=d.apply(this,arguments)+no,i=p.apply(this,arguments)+no,r=(i<n&&(r=n,n=i,i=r),i-n),a=r<ct?"0":"1",o=Math.cos(n),s=Math.sin(n),l=Math.cos(i),u=Math.sin(i);return io<=r?t?"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"M0,"+t+"A"+t+","+t+" 0 1,0 0,"+-t+"A"+t+","+t+" 0 1,0 0,"+t+"Z":"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z":t?"M"+e*o+","+e*s+"A"+e+","+e+" 0 "+a+",1 "+e*l+","+e*u+"L"+t*l+","+t*u+"A"+t+","+t+" 0 "+a+",0 "+t*o+","+t*s+"Z":"M"+e*o+","+e*s+"A"+e+","+e+" 0 "+a+",1 "+e*l+","+e*u+"L0,0Z"}return e.innerRadius=function(t){return arguments.length?(c=oe(t),e):c},e.outerRadius=function(t){return arguments.length?(h=oe(t),e):h},e.startAngle=function(t){return arguments.length?(d=oe(t),e):d},e.endAngle=function(t){return arguments.length?(p=oe(t),e):p},e.centroid=function(){var t=(c.apply(this,arguments)+h.apply(this,arguments))/2,e=(d.apply(this,arguments)+p.apply(this,arguments))/2+no;return[Math.cos(e)*t,Math.sin(e)*t]},e};var no=-dt,io=ht-pt;function ro(t){return t.innerRadius}function ao(t){return t.outerRadius}function oo(t){return t.startAngle}function so(t){return t.endAngle}function lo(t){for(var e,n,i,r=-1,a=t.length;++r<a;)n=(e=t[r])[0],i=e[1]+no,e[0]=n*Math.cos(i),e[1]=n*Math.sin(i);return t}function uo(f){var g=bi,m=bi,v=0,y=_i,b=hn,_=Ci,e=_.key,w=_,C="L",S=.7;function n(t){var e,n,i,r=[],a=[],o=[],s=-1,l=t.length,u=oe(g),c=oe(v),h=g===m?function(){return n}:oe(m),d=v===y?function(){return i}:oe(y);function p(){r.push("M",_(f(o),S),C,w(f(a.reverse()),S),"Z")}for(;++s<l;)b.call(this,e=t[s],s)?(a.push([n=+u.call(this,e,s),i=+c.call(this,e,s)]),o.push([+h.call(this,e,s),+d.call(this,e,s)])):a.length&&(p(),a=[],o=[]);return a.length&&p(),r.length?r.join(""):null}return n.x=function(t){return arguments.length?(g=m=t,n):m},n.x0=function(t){return arguments.length?(g=t,n):g},n.x1=function(t){return arguments.length?(m=t,n):m},n.y=function(t){return arguments.length?(v=y=t,n):y},n.y0=function(t){return arguments.length?(v=t,n):v},n.y1=function(t){return arguments.length?(y=t,n):y},n.defined=function(t){return arguments.length?(b=t,n):b},n.interpolate=function(t){return arguments.length?(e="function"==typeof t?_=t:(_=wi.get(t)||Ci).key,w=_.reverse||_,C=_.closed?"M":"L",n):e},n.tension=function(t){return arguments.length?(S=t,n):S},n}function co(t){return t.radius}function ho(t){return[t.x,t.y]}function po(){return 64}function fo(){return"circle"}function go(t){var e=Math.sqrt(t/ct);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}M.svg.line.radial=function(){var t=yi(lo);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},(Si.reverse=xi).reverse=Si,M.svg.area=function(){return uo(se)},M.svg.area.radial=function(){var t=uo(lo);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},M.svg.chord=function(){var o=ri,s=ai,l=co,u=oo,c=so;function e(t,e){var n,i,r=h(this,o,t,e),a=h(this,s,t,e);return"M"+r.p0+d(r.r,r.p1,r.a1-r.a0)+(i=a,(n=r).a0==i.a0&&n.a1==i.a1?p(r.r,r.p1,r.r,r.p0):p(r.r,r.p1,a.r,a.p0)+d(a.r,a.p1,a.a1-a.a0)+p(a.r,a.p1,r.r,r.p0))+"Z"}function h(t,e,n,i){var r=e.call(t,n,i),a=l.call(t,r,i),o=u.call(t,r,i)+no,s=c.call(t,r,i)+no;return{r:a,a0:o,a1:s,p0:[a*Math.cos(o),a*Math.sin(o)],p1:[a*Math.cos(s),a*Math.sin(s)]}}function d(t,e,n){return"A"+t+","+t+" 0 "+ +(ct<n)+",1 "+e}function p(t,e,n,i){return"Q 0,0 "+i}return e.radius=function(t){return arguments.length?(l=oe(t),e):l},e.source=function(t){return arguments.length?(o=oe(t),e):o},e.target=function(t){return arguments.length?(s=oe(t),e):s},e.startAngle=function(t){return arguments.length?(u=oe(t),e):u},e.endAngle=function(t){return arguments.length?(c=oe(t),e):c},e},M.svg.diagonal=function(){var o=ri,s=ai,l=ho;function e(t,e){var n=o.call(this,t,e),i=s.call(this,t,e),r=(n.y+i.y)/2,a=[n,{x:n.x,y:r},{x:i.x,y:r},i];return"M"+(a=a.map(l))[0]+"C"+a[1]+" "+a[2]+" "+a[3]}return e.source=function(t){return arguments.length?(o=oe(t),e):o},e.target=function(t){return arguments.length?(s=oe(t),e):s},e.projection=function(t){return arguments.length?(l=t,e):l},e},M.svg.diagonal.radial=function(){var t=M.svg.diagonal(),e=ho,n=t.projection;return t.projection=function(t){return arguments.length?n((i=e=t,function(){var t=i.apply(this,arguments),e=t[0],n=t[1]+no;return[e*Math.cos(n),e*Math.sin(n)]})):e;var i},t},M.svg.symbol=function(){var n=fo,i=po;function e(t,e){return(mo.get(n.call(this,t,e))||go)(i.call(this,t,e))}return e.type=function(t){return arguments.length?(n=oe(t),e):n},e.size=function(t){return arguments.length?(i=oe(t),e):i},e};var mo=M.map({circle:go,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*yo)),n=e*yo;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/vo),n=e*vo/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/vo),n=e*vo/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});M.svg.symbolTypes=mo.keys();var vo=Math.sqrt(3),yo=Math.tan(30*gt);function bo(t,e){return $(t,Co),t.id=e,t}var _o,wo,Co=[],So=0;function xo(t,i,r,a){var o=t.id;return Q(t,"function"==typeof r?function(t,e,n){t.__transition__[o].tween.set(i,a(r.call(t,t.__data__,e,n)))}:(r=a(r),function(t){t.__transition__[o].tween.set(i,r)}))}function $o(t){return null==t&&(t=""),function(){this.textContent=t}}function To(c,h,d,t){var p=c.__transition__||(c.__transition__={active:0,count:0}),f=p[d];if(!f){var g=t.time;f=p[d]={tween:new b,time:g,ease:t.ease,delay:t.delay,duration:t.duration},++p.count,M.timer(function(t){var r=c.__data__,a=f.ease,e=f.delay,o=f.duration,n=fe,s=[];if(n.t=e+g,e<=t)return i(t-e);function i(t){if(p.active>d)return u();p.active=d,f.event&&f.event.start.call(c,r,h),f.tween.forEach(function(t,e){(e=e.call(c,r,h))&&s.push(e)}),M.timer(function(){return n.c=l(t||1)?hn:l,1},0,g)}function l(t){if(p.active!==d)return u();for(var e=t/o,n=a(e),i=s.length;0<i;)s[--i].call(c,n);return 1<=e?(f.event&&f.event.end.call(c,r,h),u()):void 0}function u(){return--p.count?delete p[d]:delete c.__transition__,1}n.c=i},0,g)}}Co.call=O.call,Co.empty=O.empty,Co.node=O.node,Co.size=O.size,M.transition=function(t){return arguments.length?_o?t.transition():t:tt.transition()},(M.transition.prototype=Co).select=function(t){var e,n,i,r=this.id,a=[];t=R(t);for(var o=-1,s=this.length;++o<s;){a.push(e=[]);for(var l=this[o],u=-1,c=l.length;++u<c;)(i=l[u])&&(n=t.call(i,i.__data__,u,o))?("__data__"in i&&(n.__data__=i.__data__),To(n,u,r,i.__transition__[r]),e.push(n)):e.push(null)}return bo(a,r)},Co.selectAll=function(t){var e,n,i,r,a,o=this.id,s=[];t=H(t);for(var l=-1,u=this.length;++l<u;)for(var c=this[l],h=-1,d=c.length;++h<d;)if(i=c[h]){a=i.__transition__[o],n=t.call(i,i.__data__,h,l),s.push(e=[]);for(var p=-1,f=n.length;++p<f;)(r=n[p])&&To(r,p,o,a),e.push(r)}return bo(s,o)},Co.filter=function(t){var e,n,i=[];"function"!=typeof t&&(t=K(t));for(var r=0,a=this.length;r<a;r++){i.push(e=[]);for(var o,s=0,l=(o=this[r]).length;s<l;s++)(n=o[s])&&t.call(n,n.__data__,s)&&e.push(n)}return bo(i,this.id)},Co.tween=function(e,n){var i=this.id;return arguments.length<2?this.node().__transition__[i].tween.get(e):Q(this,null==n?function(t){t.__transition__[i].tween.remove(e)}:function(t){t.__transition__[i].tween.set(e,n)})},Co.attr=function(t,e){if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var i="transform"==t?zr:xr,r=M.ns.qualify(t);function a(){this.removeAttribute(r)}function o(){this.removeAttributeNS(r.space,r.local)}return xo(this,"attr."+t,e,r.local?function(n){return null==n?o:(n+="",function(){var e,t=this.getAttributeNS(r.space,r.local);return t!==n&&(e=i(t,n),function(t){this.setAttributeNS(r.space,r.local,e(t))})})}:function(n){return null==n?a:(n+="",function(){var e,t=this.getAttribute(r);return t!==n&&(e=i(t,n),function(t){this.setAttribute(r,e(t))})})})},Co.attrTween=function(t,i){var r=M.ns.qualify(t);return this.tween("attr."+t,r.local?function(t,e){var n=i.call(this,t,e,this.getAttributeNS(r.space,r.local));return n&&function(t){this.setAttributeNS(r.space,r.local,n(t))}}:function(t,e){var n=i.call(this,t,e,this.getAttribute(r));return n&&function(t){this.setAttribute(r,n(t))}})},Co.style=function(i,t,r){var e=arguments.length;if(e<3){if("string"!=typeof i){for(r in e<2&&(t=""),i)this.style(r,i[r],t);return this}r=""}function a(){this.style.removeProperty(i)}return xo(this,"style."+i,t,function(n){return null==n?a:(n+="",function(){var e,t=P.getComputedStyle(this,null).getPropertyValue(i);return t!==n&&(e=xr(t,n),function(t){this.style.setProperty(i,e(t),r)})})})},Co.styleTween=function(i,r,a){return arguments.length<3&&(a=""),this.tween("style."+i,function(t,e){var n=r.call(this,t,e,P.getComputedStyle(this,null).getPropertyValue(i));return n&&function(t){this.style.setProperty(i,n(t),a)}})},Co.text=function(t){return xo(this,"text",t,$o)},Co.remove=function(){return this.each("end.transition",function(){var t;this.__transition__.count<2&&(t=this.parentNode)&&t.removeChild(this)})},Co.ease=function(e){var n=this.id;return arguments.length<1?this.node().__transition__[n].ease:("function"!=typeof e&&(e=M.ease.apply(M,arguments)),Q(this,function(t){t.__transition__[n].ease=e}))},Co.delay=function(i){var r=this.id;return Q(this,"function"==typeof i?function(t,e,n){t.__transition__[r].delay=+i.call(t,t.__data__,e,n)}:(i=+i,function(t){t.__transition__[r].delay=i}))},Co.duration=function(i){var r=this.id;return Q(this,"function"==typeof i?function(t,e,n){t.__transition__[r].duration=Math.max(1,i.call(t,t.__data__,e,n))}:(i=Math.max(1,i),function(t){t.__transition__[r].duration=i}))},Co.each=function(i,n){var r=this.id;if(arguments.length<2){var t=wo,e=_o;_o=r,Q(this,function(t,e,n){wo=t.__transition__[r],i.call(t,t.__data__,e,n)}),wo=t,_o=e}else Q(this,function(t){var e=t.__transition__[r];(e.event||(e.event=M.dispatch("start","end"))).on(i,n)});return this},Co.transition=function(){for(var t,e,n,i=this.id,r=++So,a=[],o=0,s=this.length;o<s;o++){a.push(t=[]);for(var l,u=0,c=(l=this[o]).length;u<c;u++)(e=l[u])&&((n=Object.create(e.__transition__[i])).delay+=n.duration,To(e,u,r,n)),t.push(e)}return bo(a,r)},M.svg.axis=function(){var _,w=M.scale.linear(),C=Ao,S=6,x=6,$=3,T=[10],A=null;function n(t){t.each(function(){var t,e=M.select(this),n=this.__chart__||w,i=this.__chart__=w.copy(),r=null==A?i.ticks?i.ticks.apply(i,T):i.domain():A,a=null==_?i.tickFormat?i.tickFormat.apply(i,T):se:_,o=e.selectAll(".tick").data(r,i),s=o.enter().insert("g",".domain").attr("class","tick").style("opacity",pt),l=M.transition(o.exit()).style("opacity",pt).remove(),u=M.transition(o).style("opacity",1),c=Wa(i),h=e.selectAll(".domain").data([0]),d=(h.enter().append("path").attr("class","domain"),M.transition(h));s.append("line"),s.append("text");var p=s.select("line"),f=u.select("line"),g=o.select("text").text(a),m=s.select("text"),v=u.select("text");switch(C){case"bottom":t=ko,p.attr("y2",S),m.attr("y",Math.max(S,0)+$),f.attr("x2",0).attr("y2",S),v.attr("x",0).attr("y",Math.max(S,0)+$),g.attr("dy",".71em").style("text-anchor","middle"),d.attr("d","M"+c[0]+","+x+"V0H"+c[1]+"V"+x);break;case"top":t=ko,p.attr("y2",-S),m.attr("y",-(Math.max(S,0)+$)),f.attr("x2",0).attr("y2",-S),v.attr("x",0).attr("y",-(Math.max(S,0)+$)),g.attr("dy","0em").style("text-anchor","middle"),d.attr("d","M"+c[0]+","+-x+"V0H"+c[1]+"V"+-x);break;case"left":t=Eo,p.attr("x2",-S),m.attr("x",-(Math.max(S,0)+$)),f.attr("x2",-S).attr("y2",0),v.attr("x",-(Math.max(S,0)+$)).attr("y",0),g.attr("dy",".32em").style("text-anchor","end"),d.attr("d","M"+-x+","+c[0]+"H0V"+c[1]+"H"+-x);break;case"right":t=Eo,p.attr("x2",S),m.attr("x",Math.max(S,0)+$),f.attr("x2",S).attr("y2",0),v.attr("x",Math.max(S,0)+$).attr("y",0),g.attr("dy",".32em").style("text-anchor","start"),d.attr("d","M"+x+","+c[0]+"H0V"+c[1]+"H"+x)}if(i.rangeBand){var y=i.rangeBand()/2,b=function(t){return i(t)+y};s.call(t,b),u.call(t,b)}else s.call(t,n),u.call(t,i),l.call(t,i)})}return n.scale=function(t){return arguments.length?(w=t,n):w},n.orient=function(t){return arguments.length?(C=t in Do?t+"":Ao,n):C},n.ticks=function(){return arguments.length?(T=arguments,n):T},n.tickValues=function(t){return arguments.length?(A=t,n):A},n.tickFormat=function(t){return arguments.length?(_=t,n):_},n.tickSize=function(t){var e=arguments.length;return e?(S=+t,x=+arguments[e-1],n):S},n.innerTickSize=function(t){return arguments.length?(S=+t,n):S},n.outerTickSize=function(t){return arguments.length?(x=+t,n):x},n.tickPadding=function(t){return arguments.length?($=+t,n):$},n.tickSubdivide=function(){return arguments.length&&n},n};var Ao="bottom",Do={top:1,right:1,bottom:1,left:1};function ko(t,e){t.attr("transform",function(t){return"translate("+e(t)+",0)"})}function Eo(t,e){t.attr("transform",function(t){return"translate(0,"+e(t)+")"})}M.svg.brush=function(){var y,b,_=L(A,"brushstart","brush","brushend"),w=null,C=null,S=[0,0],x=[0,0],$=!0,T=!0,o=Po[0];function A(t){t.each(function(){var t=M.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",s).on("touchstart.brush",s),e=t.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=t.selectAll(".resize").data(o,se);n.exit().remove(),n.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Mo[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",A.empty()?"none":null);var i,r=M.transition(t),a=M.transition(e);w&&(i=Wa(w),a.attr("x",i[0]).attr("width",i[1]-i[0]),k(r)),C&&(i=Wa(C),a.attr("y",i[0]).attr("height",i[1]-i[0]),E(r)),D(r)})}function D(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+S[+/e$/.test(t)]+","+x[+/^s/.test(t)]+")"})}function k(t){t.select(".extent").attr("x",S[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",S[1]-S[0])}function E(t){t.select(".extent").attr("y",x[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",x[1]-x[0])}function s(){var h,n,i=this,t=M.select(M.event.target),r=_.of(i,arguments),a=M.select(i),e=t.datum(),o=!/^(n|s)$/.test(e)&&w,s=!/^(e|w)$/.test(e)&&C,d=t.classed("extent"),l=st(),p=M.mouse(i),u=M.select(P).on("keydown.brush",function(){32==M.event.keyCode&&(d||(h=null,p[0]-=S[1],p[1]-=x[1],d=2),I())}).on("keyup.brush",function(){32==M.event.keyCode&&2==d&&(p[0]+=S[1],p[1]+=x[1],d=0,I())});if(M.event.changedTouches?u.on("touchmove.brush",g).on("touchend.brush",v):u.on("mousemove.brush",g).on("mouseup.brush",v),a.interrupt().selectAll("*").interrupt(),d)p[0]=S[0]-p[0],p[1]=x[0]-p[1];else if(e){var c=+/w$/.test(e),f=+/^n/.test(e);n=[S[1-c]-p[0],x[1-f]-p[1]],p[0]=S[c],p[1]=x[f]}else M.event.altKey&&(h=p.slice());function g(){var t=M.mouse(i),e=!1;n&&(t[0]+=n[0],t[1]+=n[1]),d||(M.event.altKey?(h||(h=[(S[0]+S[1])/2,(x[0]+x[1])/2]),p[0]=S[+(t[0]<h[0])],p[1]=x[+(t[1]<h[1])]):h=null),o&&m(t,w,0)&&(k(a),e=!0),s&&m(t,C,1)&&(E(a),e=!0),e&&(D(a),r({type:"brush",mode:d?"move":"resize"}))}function m(t,e,n){var i,r,a=Wa(e),o=a[0],s=a[1],l=p[n],u=n?x:S,c=u[1]-u[0];if(d&&(o-=l,s-=c+l),i=(n?T:$)?Math.max(o,Math.min(s,t[n])):t[n],d?r=(i+=l)+c:(h&&(l=Math.max(o,Math.min(s,2*h[n]-i))),l<i?(r=i,i=l):r=l),u[0]!=i||u[1]!=r)return n?b=null:y=null,u[0]=i,u[1]=r,!0}function v(){g(),a.style("pointer-events","all").selectAll(".resize").style("display",A.empty()?"none":null),M.select("body").style("cursor",null),u.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),l(),r({type:"brushend"})}a.style("pointer-events","none").selectAll(".resize").style("display",null),M.select("body").style("cursor",t.style("cursor")),r({type:"brushstart"}),g()}return A.event=function(t){t.each(function(){var i=_.of(this,arguments),r={x:S,y:x,i:y,j:b},t=this.__chart__||r;this.__chart__=r,_o?M.select(this).transition().each("start.brush",function(){y=t.i,b=t.j,S=t.x,x=t.y,i({type:"brushstart"})}).tween("brush:brush",function(){var e=$r(S,r.x),n=$r(x,r.y);return y=b=null,function(t){S=r.x=e(t),x=r.y=n(t),i({type:"brush",mode:"resize"})}}).each("end.brush",function(){y=r.i,b=r.j,i({type:"brush",mode:"resize"}),i({type:"brushend"})}):(i({type:"brushstart"}),i({type:"brush",mode:"resize"}),i({type:"brushend"}))})},A.x=function(t){return arguments.length?(o=Po[!(w=t)<<1|!C],A):w},A.y=function(t){return arguments.length?(o=Po[!w<<1|!(C=t)],A):C},A.clamp=function(t){return arguments.length?(w&&C?($=!!t[0],T=!!t[1]):w?$=!!t:C&&(T=!!t),A):w&&C?[$,T]:w?$:C?T:null},A.extent=function(t){var e,n,i,r,a;return arguments.length?(w&&(e=t[0],n=t[1],C&&(e=e[0],n=n[0]),y=[e,n],w.invert&&(e=w(e),n=w(n)),n<e&&(a=e,e=n,n=a),e==S[0]&&n==S[1]||(S=[e,n])),C&&(i=t[0],r=t[1],w&&(i=i[1],r=r[1]),b=[i,r],C.invert&&(i=C(i),r=C(r)),r<i&&(a=i,i=r,r=a),i==x[0]&&r==x[1]||(x=[i,r])),A):(w&&(y?(e=y[0],n=y[1]):(e=S[0],n=S[1],w.invert&&(e=w.invert(e),n=w.invert(n)),n<e&&(a=e,e=n,n=a))),C&&(b?(i=b[0],r=b[1]):(i=x[0],r=x[1],C.invert&&(i=C.invert(i),r=C.invert(r)),r<i&&(a=i,i=r,r=a))),w&&C?[[e,i],[n,r]]:w?[e,n]:C&&[i,r])},A.clear=function(){return A.empty()||(S=[0,0],x=[0,0],y=b=null),A},A.empty=function(){return!!w&&S[0]==S[1]||!!C&&x[0]==x[1]},M.rebind(A,_,"on")};var Mo={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Po=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],No=M.time={},Io=Date;function Lo(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}Lo.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Oo.setUTCDate.apply(this._,arguments)},setDay:function(){Oo.setUTCDay.apply(this._,arguments)},setFullYear:function(){Oo.setUTCFullYear.apply(this._,arguments)},setHours:function(){Oo.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Oo.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Oo.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Oo.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Oo.setUTCSeconds.apply(this._,arguments)},setTime:function(){Oo.setTime.apply(this._,arguments)}};var Oo=Date.prototype,Ro=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Ho=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Wo=["January","February","March","April","May","June","July","August","September","October","November","December"],Uo=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Fo(i,a,o){function t(t){var e=i(t),n=r(e,1);return t-e<n-t?e:n}function s(t){return a(t=i(new Io(t-1)),1),t}function r(t,e){return a(t=new Io(+t),e),t}function l(t,e,n){var i=s(t),r=[];if(1<n)for(;i<e;)o(i)%n||r.push(new Date(+i)),a(i,1);else for(;i<e;)r.push(new Date(+i)),a(i,1);return r}(i.floor=i).round=t,i.ceil=s,i.offset=r,i.range=l;var e=i.utc=jo(i);return(e.floor=e).round=jo(t),e.ceil=jo(s),e.offset=jo(r),e.range=function(t,e,n){try{var i=new(Io=Lo);return i._=t,l(i,e,n)}finally{Io=Date}},i}function jo(i){return function(t,e){try{var n=new(Io=Lo);return n._=t,i(n,e)._}finally{Io=Date}}}function zo(s){var l=s.length;function t(t){for(var e,n,i,r=[],a=-1,o=0;++a<l;)37===s.charCodeAt(a)&&(r.push(s.substring(o,a)),null!=(n=is[e=s.charAt(++a)])&&(e=s.charAt(++a)),(i=rs[e])&&(e=i(t,null==n?"e"===e?" ":"0":n)),r.push(e),o=a+1);return r.push(s.substring(o,a)),r.join("")}return t.parse=function(t){var e={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(Vo(e,s,t,0)!=t.length)return null;"p"in e&&(e.H=e.H%12+12*e.p);var n=null!=e.Z&&Io!==Lo,i=new(n?Lo:Io);return"j"in e?i.setFullYear(e.y,0,e.j):"w"in e&&("W"in e||"U"in e)?(i.setFullYear(e.y,0,1),i.setFullYear(e.y,0,"W"in e?(e.w+6)%7+7*e.W-(i.getDay()+5)%7:e.w+7*e.U-(i.getDay()+6)%7)):i.setFullYear(e.y,e.m,e.d),i.setHours(e.H+Math.floor(e.Z/100),e.M+e.Z%100,e.S,e.L),n?i._:i},t.toString=function(){return s},t}function Vo(t,e,n,i){for(var r,a,o,s=0,l=e.length,u=n.length;s<l;){if(u<=i)return-1;if(37===(r=e.charCodeAt(s++))){if(o=e.charAt(s++),!(a=as[o in is?e.charAt(s++):o])||(i=a(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function Bo(t){return new RegExp("^(?:"+t.map(M.requote).join("|")+")","i")}function Yo(t){for(var e=new b,n=-1,i=t.length;++n<i;)e.set(t[n].toLowerCase(),n);return e}function qo(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",a=r.length;return i+(a<n?new Array(n-a+1).join(e)+r:r)}No.year=Fo(function(t){return(t=No.day(t)).setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),No.years=No.year.range,No.years.utc=No.year.utc.range,No.day=Fo(function(t){var e=new Io(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),No.days=No.day.range,No.days.utc=No.day.utc.range,No.dayOfYear=function(t){var e=No.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].forEach(function(t,n){t=t.toLowerCase(),n=7-n;var e=No[t]=Fo(function(t){return(t=No.day(t)).setDate(t.getDate()-(t.getDay()+n)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var e=No.year(t).getDay();return Math.floor((No.dayOfYear(t)+(e+n)%7)/7)-(e!==n)});No[t+"s"]=e.range,No[t+"s"].utc=e.utc.range,No[t+"OfYear"]=function(t){var e=No.year(t).getDay();return Math.floor((No.dayOfYear(t)+(e+n)%7)/7)}}),No.week=No.sunday,No.weeks=No.sunday.range,No.weeks.utc=No.sunday.utc.range,No.weekOfYear=No.sundayOfYear,No.format=zo;var Go=Bo(Ro),Ko=Yo(Ro),Qo=Bo(Ho),Xo=Yo(Ho),Zo=Bo(Wo),Jo=Yo(Wo),ts=Bo(Uo),es=Yo(Uo),ns=/^%/,is={"-":"",_:" ",0:"0"},rs={a:function(t){return Ho[t.getDay()]},A:function(t){return Ro[t.getDay()]},b:function(t){return Uo[t.getMonth()]},B:function(t){return Wo[t.getMonth()]},c:zo("%a %b %e %X %Y"),d:function(t,e){return qo(t.getDate(),e,2)},e:function(t,e){return qo(t.getDate(),e,2)},H:function(t,e){return qo(t.getHours(),e,2)},I:function(t,e){return qo(t.getHours()%12||12,e,2)},j:function(t,e){return qo(1+No.dayOfYear(t),e,3)},L:function(t,e){return qo(t.getMilliseconds(),e,3)},m:function(t,e){return qo(t.getMonth()+1,e,2)},M:function(t,e){return qo(t.getMinutes(),e,2)},p:function(t){return 12<=t.getHours()?"PM":"AM"},S:function(t,e){return qo(t.getSeconds(),e,2)},U:function(t,e){return qo(No.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return qo(No.mondayOfYear(t),e,2)},x:zo("%m/%d/%Y"),X:zo("%H:%M:%S"),y:function(t,e){return qo(t.getFullYear()%100,e,2)},Y:function(t,e){return qo(t.getFullYear()%1e4,e,4)},Z:function(t){var e=t.getTimezoneOffset(),n=0<e?"-":"+",i=~~(N(e)/60),r=N(e)%60;return n+qo(i,"0",2)+qo(r,"0",2)},"%":function(){return"%"}},as={a:function(t,e,n){Qo.lastIndex=0;var i=Qo.exec(e.substring(n));return i?(t.w=Xo.get(i[0].toLowerCase()),n+i[0].length):-1},A:function(t,e,n){Go.lastIndex=0;var i=Go.exec(e.substring(n));return i?(t.w=Ko.get(i[0].toLowerCase()),n+i[0].length):-1},b:function(t,e,n){ts.lastIndex=0;var i=ts.exec(e.substring(n));return i?(t.m=es.get(i[0].toLowerCase()),n+i[0].length):-1},B:function(t,e,n){Zo.lastIndex=0;var i=Zo.exec(e.substring(n));return i?(t.m=Jo.get(i[0].toLowerCase()),n+i[0].length):-1},c:function(t,e,n){return Vo(t,rs.c.toString(),e,n)},d:os,e:os,H:ss,I:ss,j:function(t,e,n){ls.lastIndex=0;var i=ls.exec(e.substring(n,n+3));return i?(t.j=+i[0],n+i[0].length):-1},L:function(t,e,n){ls.lastIndex=0;var i=ls.exec(e.substring(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1},m:function(t,e,n){ls.lastIndex=0;var i=ls.exec(e.substring(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1},M:function(t,e,n){ls.lastIndex=0;var i=ls.exec(e.substring(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1},p:function(t,e,n){var i=us.get(e.substring(n,n+=2).toLowerCase());return null==i?-1:(t.p=i,n)},S:function(t,e,n){ls.lastIndex=0;var i=ls.exec(e.substring(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1},U:function(t,e,n){ls.lastIndex=0;var i=ls.exec(e.substring(n));return i?(t.U=+i[0],n+i[0].length):-1},w:function(t,e,n){ls.lastIndex=0;var i=ls.exec(e.substring(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1},W:function(t,e,n){ls.lastIndex=0;var i=ls.exec(e.substring(n));return i?(t.W=+i[0],n+i[0].length):-1},x:function(t,e,n){return Vo(t,rs.x.toString(),e,n)},X:function(t,e,n){return Vo(t,rs.X.toString(),e,n)},y:function(t,e,n){ls.lastIndex=0;var i=ls.exec(e.substring(n,n+2));return i?(t.y=(r=+i[0],r+(68<r?1900:2e3)),n+i[0].length):-1;var r},Y:function(t,e,n){ls.lastIndex=0;var i=ls.exec(e.substring(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1},Z:function(t,e,n){return/^[+-]\d{4}$/.test(e=e.substring(n,n+5))?(t.Z=+e,n+5):-1},"%":function(t,e,n){ns.lastIndex=0;var i=ns.exec(e.substring(n,n+1));return i?n+i[0].length:-1}};function os(t,e,n){ls.lastIndex=0;var i=ls.exec(e.substring(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function ss(t,e,n){ls.lastIndex=0;var i=ls.exec(e.substring(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}var ls=/^\s*\d+/;var us=M.map({am:0,pm:1});function cs(t){var n=zo(t);function e(t){try{var e=new(Io=Lo);return e._=t,n(e)}finally{Io=Date}}return e.parse=function(t){try{Io=Lo;var e=n.parse(t);return e&&e._}finally{Io=Date}},e.toString=n.toString,e}var hs=(zo.utc=cs)("%Y-%m-%dT%H:%M:%S.%LZ");function ds(t){return t.toISOString()}function ps(e,r,t){function o(t){return e(t)}function s(t,e){var n=(t[1]-t[0])/e,i=M.bisect(ms,n);return i==ms.length?[r.year,Ya(t.map(function(t){return t/31536e6}),e)[2]]:i?r[n/ms[i-1]<ms[i]/n?i-1:i]:[bs,Ya(t,e)[2]]}return o.invert=function(t){return fs(e.invert(t))},o.domain=function(t){return arguments.length?(e.domain(t),o):e.domain().map(fs)},o.nice=function(e,n){var t=o.domain(),i=Ha(t),r=null==e?s(i,10):"number"==typeof e&&s(i,e);function a(t){return!isNaN(t)&&!e.range(t,fs(+t+1),n).length}return r&&(e=r[0],n=r[1]),o.domain(Fa(t,1<n?{floor:function(t){for(;a(t=e.floor(t));)t=fs(t-1);return t},ceil:function(t){for(;a(t=e.ceil(t));)t=fs(+t+1);return t}}:e))},o.ticks=function(t,e){var n=Ha(o.domain()),i=null==t?s(n,10):"number"==typeof t?s(n,t):!t.range&&[{range:t},e];return i&&(t=i[0],e=i[1]),t.range(n[0],fs(+n[1]+1),e<1?1:e)},o.tickFormat=function(){return t},o.copy=function(){return ps(e.copy(),r,t)},Va(o,e)}function fs(t){return new Date(t)}function gs(i){return function(t){for(var e=i.length-1,n=i[e];!n[1](t);)n=i[--e];return n[0](t)}}zo.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?ds:hs,ds.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},ds.toString=hs.toString,No.second=Fo(function(t){return new Io(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),No.seconds=No.second.range,No.seconds.utc=No.second.utc.range,No.minute=Fo(function(t){return new Io(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),No.minutes=No.minute.range,No.minutes.utc=No.minute.utc.range,No.hour=Fo(function(t){var e=t.getTimezoneOffset()/60;return new Io(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),No.hours=No.hour.range,No.hours.utc=No.hour.utc.range,No.month=Fo(function(t){return(t=No.day(t)).setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),No.months=No.month.range,No.months.utc=No.month.utc.range;var ms=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],vs=[[No.second,1],[No.second,5],[No.second,15],[No.second,30],[No.minute,1],[No.minute,5],[No.minute,15],[No.minute,30],[No.hour,1],[No.hour,3],[No.hour,6],[No.hour,12],[No.day,1],[No.day,2],[No.week,1],[No.month,1],[No.month,3],[No.year,1]],ys=gs([[zo("%Y"),hn],[zo("%B"),function(t){return t.getMonth()}],[zo("%b %d"),function(t){return 1!=t.getDate()}],[zo("%a %d"),function(t){return t.getDay()&&1!=t.getDate()}],[zo("%I %p"),function(t){return t.getHours()}],[zo("%I:%M"),function(t){return t.getMinutes()}],[zo(":%S"),function(t){return t.getSeconds()}],[zo(".%L"),function(t){return t.getMilliseconds()}]]);vs.year=No.year,No.scale=function(){return ps(M.scale.linear(),vs,ys)};var bs={range:function(t,e,n){return M.range(+t,+e,n).map(fs)}},_s=vs.map(function(t){return[t[0].utc,t[1]]}),ws=gs([[cs("%Y"),hn],[cs("%B"),function(t){return t.getUTCMonth()}],[cs("%b %d"),function(t){return 1!=t.getUTCDate()}],[cs("%a %d"),function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],[cs("%I %p"),function(t){return t.getUTCHours()}],[cs("%I:%M"),function(t){return t.getUTCMinutes()}],[cs(":%S"),function(t){return t.getUTCSeconds()}],[cs(".%L"),function(t){return t.getUTCMilliseconds()}]]);function Cs(t){return JSON.parse(t.responseText)}function Ss(t){var e=i.createRange();return e.selectNode(i.body),e.createContextualFragment(t.responseText)}return _s.year=No.year.utc,No.scale.utc=function(){return ps(M.scale.linear(),_s,ws)},M.text=le(function(t){return t.responseText}),M.json=function(t,e){return ue(t,"application/json",Cs,e)},M.html=function(t,e){return ue(t,"text/html",Ss,e)},M.xml=le(function(t){return t.responseXML}),M}(),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";var t,i;function d(){return t.apply(null,arguments)}function s(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function l(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function u(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function p(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function c(t,e){for(var n in e)p(e,n)&&(t[n]=e[n]);return p(e,"toString")&&(t.toString=e.toString),p(e,"valueOf")&&(t.valueOf=e.valueOf),t}function h(t,e,n,i){return se(t,e,n,i,!0).utc()}function f(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}),t._pf}function g(t){if(null==t._isValid){var e=f(t),n=i.call(e.parsedDateParts,function(t){return null!=t});t._isValid=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function m(t){var e=h(NaN);return null!=t?c(f(e),t):f(e).userInvalidated=!0,e}function a(t){return void 0===t}i=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};var o=d.momentProperties=[];function v(t,e){var n,i,r;if(a(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),a(e._i)||(t._i=e._i),a(e._f)||(t._f=e._f),a(e._l)||(t._l=e._l),a(e._strict)||(t._strict=e._strict),a(e._tzm)||(t._tzm=e._tzm),a(e._isUTC)||(t._isUTC=e._isUTC),a(e._offset)||(t._offset=e._offset),a(e._pf)||(t._pf=f(e)),a(e._locale)||(t._locale=e._locale),0<o.length)for(n in o)a(r=e[i=o[n]])||(t[i]=r);return t}var e=!1;function y(t){v(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),!1===e&&(e=!0,d.updateOffset(this),e=!1)}function b(t){return t instanceof y||null!=t&&null!=t._isAMomentObject}function _(t){return t<0?Math.ceil(t):Math.floor(t)}function w(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=_(e)),n}function C(t,e,n){var i,r=Math.min(t.length,e.length),a=Math.abs(t.length-e.length),o=0;for(i=0;i<r;i++)(n&&t[i]!==e[i]||!n&&w(t[i])!==w(e[i]))&&o++;return o+a}function r(t){!1===d.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function n(t,e){var n=!0;return c(function(){return null!=d.deprecationHandler&&d.deprecationHandler(null,t),n&&(r(t+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),n=!1),e.apply(this,arguments)},e)}var S,x={};function $(t,e){null!=d.deprecationHandler&&d.deprecationHandler(t,e),x[t]||(r(e),x[t]=!0)}function T(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function A(t){return"[object Object]"===Object.prototype.toString.call(t)}function D(t,e){var n,i=c({},t);for(n in e)p(e,n)&&(A(t[n])&&A(e[n])?(i[n]={},c(i[n],t[n]),c(i[n],e[n])):null!=e[n]?i[n]=e[n]:delete i[n]);return i}function k(t){null!=t&&this.set(t)}d.suppressDeprecationWarnings=!1,d.deprecationHandler=null,S=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)p(t,e)&&n.push(e);return n};var E,M={};function P(t){return t?t.toLowerCase().replace("_","-"):t}function N(t){var e=null;if(!M[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=E._abbr,require("./locale/"+t),I(e)}catch(t){}return M[t]}function I(t,e){var n;return t&&(n=a(e)?O(t):L(t,e))&&(E=n),E._abbr}function L(t,e){return null!==e?(e.abbr=t,null!=M[t]?($("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale"),e=D(M[t]._config,e)):null!=e.parentLocale&&(null!=M[e.parentLocale]?e=D(M[e.parentLocale]._config,e):$("parentLocaleUndefined","specified parentLocale is not defined yet")),M[t]=new k(e),I(t),M[t]):(delete M[t],null)}function O(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return E;if(!s(t)){if(e=N(t))return e;t=[t]}return function(t){for(var e,n,i,r,a=0;a<t.length;){for(e=(r=P(t[a]).split("-")).length,n=(n=P(t[a+1]))?n.split("-"):null;0<e;){if(i=N(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&C(r,n,!0)>=e-1)break;e--}a++}return null}(t)}var R={};function H(t,e){var n=t.toLowerCase();R[n]=R[n+"s"]=R[e]=t}function W(t){return"string"==typeof t?R[t]||R[t.toLowerCase()]:void 0}function U(t){var e,n,i={};for(n in t)p(t,n)&&(e=W(n))&&(i[e]=t[n]);return i}function F(e,n){return function(t){return null!=t?(z(this,e,t),d.updateOffset(this,n),this):j(this,e)}}function j(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function z(t,e,n){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](n)}function V(t,e){var n;if("object"==typeof t)for(n in t)this.set(n,t[n]);else if(T(this[t=W(t)]))return this[t](e);return this}function B(t,e,n){var i=""+Math.abs(t),r=e-i.length;return(0<=t?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}var Y=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,q=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,G={},K={};function Q(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(K[t]=r),e&&(K[e[0]]=function(){return B(r.apply(this,arguments),e[1],e[2])}),n&&(K[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function X(t,e){return t.isValid()?(e=Z(e,t.localeData()),G[e]=G[e]||function(i){var t,r,e,a=i.match(Y);for(t=0,r=a.length;t<r;t++)K[a[t]]?a[t]=K[a[t]]:a[t]=(e=a[t]).match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"");return function(t){var e,n="";for(e=0;e<r;e++)n+=a[e]instanceof Function?a[e].call(t,i):a[e];return n}}(e),G[e](t)):t.localeData().invalidDate()}function Z(t,e){var n=5;function i(t){return e.longDateFormat(t)||t}for(q.lastIndex=0;0<=n&&q.test(t);)t=t.replace(q,i),q.lastIndex=0,n-=1;return t}var J=/\d/,tt=/\d\d/,et=/\d{3}/,nt=/\d{4}/,it=/[+-]?\d{6}/,rt=/\d\d?/,at=/\d\d\d\d?/,ot=/\d\d\d\d\d\d?/,st=/\d{1,3}/,lt=/\d{1,4}/,ut=/[+-]?\d{1,6}/,ct=/\d+/,ht=/[+-]?\d+/,dt=/Z|[+-]\d\d:?\d\d/gi,pt=/Z|[+-]\d\d(?::?\d\d)?/gi,ft=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,gt={};function mt(t,n,i){gt[t]=T(n)?n:function(t,e){return t&&i?i:n}}function vt(t,e){return p(gt,t)?gt[t](e._strict,e._locale):new RegExp(yt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r})))}function yt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var bt={};function _t(t,n){var e,i=n;for("string"==typeof t&&(t=[t]),"number"==typeof n&&(i=function(t,e){e[n]=w(t)}),e=0;e<t.length;e++)bt[t[e]]=i}function wt(t,r){_t(t,function(t,e,n,i){n._w=n._w||{},r(t,n._w,n,i)})}var Ct,St=0,xt=1,$t=2,Tt=3,At=4,Dt=5,kt=6,Et=7,Mt=8;function Pt(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}Ct=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},Q("M",["MM",2],"Mo",function(){return this.month()+1}),Q("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),Q("MMMM",0,0,function(t){return this.localeData().months(this,t)}),H("month","M"),mt("M",rt),mt("MM",rt,tt),mt("MMM",function(t,e){return e.monthsShortRegex(t)}),mt("MMMM",function(t,e){return e.monthsRegex(t)}),_t(["M","MM"],function(t,e){e[xt]=w(t)-1}),_t(["MMM","MMMM"],function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[xt]=r:f(n).invalidMonth=t});var Nt=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,It="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var Lt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Ot(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=w(e);else if("number"!=typeof(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),Pt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function Rt(t){return null!=t?(Ot(this,t),d.updateOffset(this,!0),this):j(this,"Month")}var Ht=ft;var Wt=ft;function Ut(){function t(t,e){return e.length-t.length}var e,n,i=[],r=[],a=[];for(e=0;e<12;e++)n=h([2e3,e]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),a.push(this.months(n,"")),a.push(this.monthsShort(n,""));for(i.sort(t),r.sort(t),a.sort(t),e=0;e<12;e++)i[e]=yt(i[e]),r[e]=yt(r[e]),a[e]=yt(a[e]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function Ft(t){var e,n=t._a;return n&&-2===f(t).overflow&&(e=n[xt]<0||11<n[xt]?xt:n[$t]<1||n[$t]>Pt(n[St],n[xt])?$t:n[Tt]<0||24<n[Tt]||24===n[Tt]&&(0!==n[At]||0!==n[Dt]||0!==n[kt])?Tt:n[At]<0||59<n[At]?At:n[Dt]<0||59<n[Dt]?Dt:n[kt]<0||999<n[kt]?kt:-1,f(t)._overflowDayOfYear&&(e<St||$t<e)&&(e=$t),f(t)._overflowWeeks&&-1===e&&(e=Et),f(t)._overflowWeekday&&-1===e&&(e=Mt),f(t).overflow=e),t}var jt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,zt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Vt=/Z|[+-]\d\d(?::?\d\d)?/,Bt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Yt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],qt=/^\/?Date\((\-?\d+)/i;function Gt(t){var e,n,i,r,a,o,s=t._i,l=jt.exec(s)||zt.exec(s);if(l){for(f(t).iso=!0,e=0,n=Bt.length;e<n;e++)if(Bt[e][1].exec(l[1])){r=Bt[e][0],i=!1!==Bt[e][2];break}if(null==r)return void(t._isValid=!1);if(l[3]){for(e=0,n=Yt.length;e<n;e++)if(Yt[e][1].exec(l[3])){a=(l[2]||" ")+Yt[e][0];break}if(null==a)return void(t._isValid=!1)}if(!i&&null!=a)return void(t._isValid=!1);if(l[4]){if(!Vt.exec(l[4]))return void(t._isValid=!1);o="Z"}t._f=r+(a||"")+(o||""),ae(t)}else t._isValid=!1}function Kt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&0<=t&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function Qt(t){return Xt(t)?366:365}function Xt(t){return t%4==0&&t%100!=0||t%400==0}d.createFromInputFallback=n("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),Q("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),Q(0,["YY",2],0,function(){return this.year()%100}),Q(0,["YYYY",4],0,"year"),Q(0,["YYYYY",5],0,"year"),Q(0,["YYYYYY",6,!0],0,"year"),H("year","y"),mt("Y",ht),mt("YY",rt,tt),mt("YYYY",lt,nt),mt("YYYYY",ut,it),mt("YYYYYY",ut,it),_t(["YYYYY","YYYYYY"],St),_t("YYYY",function(t,e){e[St]=2===t.length?d.parseTwoDigitYear(t):w(t)}),_t("YY",function(t,e){e[St]=d.parseTwoDigitYear(t)}),_t("Y",function(t,e){e[St]=parseInt(t,10)}),d.parseTwoDigitYear=function(t){return w(t)+(68<w(t)?1900:2e3)};var Zt=F("FullYear",!0);function Jt(t,e,n){var i=7+e-n;return-((7+Kt(t,0,i).getUTCDay()-e)%7)+i-1}function te(t,e,n,i,r){var a,o,s=1+7*(e-1)+(7+n-i)%7+Jt(t,i,r);return o=s<=0?Qt(a=t-1)+s:s>Qt(t)?(a=t+1,s-Qt(t)):(a=t,s),{year:a,dayOfYear:o}}function ee(t,e,n){var i,r,a=Jt(t.year(),e,n),o=Math.floor((t.dayOfYear()-a-1)/7)+1;return o<1?i=o+ne(r=t.year()-1,e,n):o>ne(t.year(),e,n)?(i=o-ne(t.year(),e,n),r=t.year()+1):(r=t.year(),i=o),{week:i,year:r}}function ne(t,e,n){var i=Jt(t,e,n),r=Jt(t+1,e,n);return(Qt(t)-i+r)/7}function ie(t,e,n){return null!=t?t:null!=e?e:n}function re(t){var e,n,i,r,a=[];if(!t._d){var o,s;for(o=t,s=new Date(d.now()),i=o._useUTC?[s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()]:[s.getFullYear(),s.getMonth(),s.getDate()],t._w&&null==t._a[$t]&&null==t._a[xt]&&function(t){var e,n,i,r,a,o,s,l;null!=(e=t._w).GG||null!=e.W||null!=e.E?(a=1,o=4,n=ie(e.GG,t._a[St],ee(le(),1,4).year),i=ie(e.W,1),((r=ie(e.E,1))<1||7<r)&&(l=!0)):(a=t._locale._week.dow,o=t._locale._week.doy,n=ie(e.gg,t._a[St],ee(le(),a,o).year),i=ie(e.w,1),null!=e.d?((r=e.d)<0||6<r)&&(l=!0):null!=e.e?(r=e.e+a,(e.e<0||6<e.e)&&(l=!0)):r=a);i<1||i>ne(n,a,o)?f(t)._overflowWeeks=!0:null!=l?f(t)._overflowWeekday=!0:(s=te(n,i,r,a,o),t._a[St]=s.year,t._dayOfYear=s.dayOfYear)}(t),t._dayOfYear&&(r=ie(t._a[St],i[St]),t._dayOfYear>Qt(r)&&(f(t)._overflowDayOfYear=!0),n=Kt(r,0,t._dayOfYear),t._a[xt]=n.getUTCMonth(),t._a[$t]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=a[e]=i[e];for(;e<7;e++)t._a[e]=a[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Tt]&&0===t._a[At]&&0===t._a[Dt]&&0===t._a[kt]&&(t._nextDay=!0,t._a[Tt]=0),t._d=(t._useUTC?Kt:function(t,e,n,i,r,a,o){var s=new Date(t,e,n,i,r,a,o);return t<100&&0<=t&&isFinite(s.getFullYear())&&s.setFullYear(t),s}).apply(null,a),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Tt]=24)}}function ae(t){if(t._f!==d.ISO_8601){t._a=[],f(t).empty=!0;var e,n,i,r,a,o,s,l,u=""+t._i,c=u.length,h=0;for(i=Z(t._f,t._locale).match(Y)||[],e=0;e<i.length;e++)r=i[e],(n=(u.match(vt(r,t))||[])[0])&&(0<(a=u.substr(0,u.indexOf(n))).length&&f(t).unusedInput.push(a),u=u.slice(u.indexOf(n)+n.length),h+=n.length),K[r]?(n?f(t).empty=!1:f(t).unusedTokens.push(r),o=r,l=t,null!=(s=n)&&p(bt,o)&&bt[o](s,l._a,l,o)):t._strict&&!n&&f(t).unusedTokens.push(r);f(t).charsLeftOver=c-h,0<u.length&&f(t).unusedInput.push(u),!0===f(t).bigHour&&t._a[Tt]<=12&&0<t._a[Tt]&&(f(t).bigHour=void 0),f(t).parsedDateParts=t._a.slice(0),f(t).meridiem=t._meridiem,t._a[Tt]=function(t,e,n){var i;if(null==n)return e;return null!=t.meridiemHour?t.meridiemHour(e,n):(null!=t.isPM&&((i=t.isPM(n))&&e<12&&(e+=12),i||12!==e||(e=0)),e)}(t._locale,t._a[Tt],t._meridiem),re(t),Ft(t)}else Gt(t)}function oe(t){var e,n,i,r,a=t._i,o=t._f;return t._locale=t._locale||O(t._l),null===a||void 0===o&&""===a?m({nullInput:!0}):("string"==typeof a&&(t._i=a=t._locale.preparse(a)),b(a)?new y(Ft(a)):(s(o)?function(t){var e,n,i,r,a;if(0===t._f.length)return f(t).invalidFormat=!0,t._d=new Date(NaN);for(r=0;r<t._f.length;r++)a=0,e=v({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],ae(e),g(e)&&(a+=f(e).charsLeftOver,a+=10*f(e).unusedTokens.length,f(e).score=a,(null==i||a<i)&&(i=a,n=e));c(t,n||e)}(t):o?ae(t):l(a)?t._d=a:void 0===(n=(e=t)._i)?e._d=new Date(d.now()):l(n)?e._d=new Date(n.valueOf()):"string"==typeof n?(i=e,null===(r=qt.exec(i._i))?(Gt(i),!1===i._isValid&&(delete i._isValid,d.createFromInputFallback(i))):i._d=new Date(+r[1])):s(n)?(e._a=u(n.slice(0),function(t){return parseInt(t,10)}),re(e)):"object"==typeof n?function(t){if(!t._d){var e=U(t._i);t._a=u([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),re(t)}}(e):"number"==typeof n?e._d=new Date(n):d.createFromInputFallback(e),g(t)||(t._d=null),t))}function se(t,e,n,i,r){var a,o={};return"boolean"==typeof n&&(i=n,n=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=r,o._l=n,o._i=t,o._f=e,o._strict=i,(a=new y(Ft(oe(o))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function le(t,e,n,i){return se(t,e,n,i,!1)}d.ISO_8601=function(){};var ue=n("moment().min is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=le.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:m()}),ce=n("moment().max is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=le.apply(null,arguments);return this.isValid()&&t.isValid()?this<t?this:t:m()});function he(t,e){var n,i;if(1===e.length&&s(e[0])&&(e=e[0]),!e.length)return le();for(n=e[0],i=1;i<e.length;++i)e[i].isValid()&&!e[i][t](n)||(n=e[i]);return n}function de(t){var e=U(t),n=e.year||0,i=e.quarter||0,r=e.month||0,a=e.week||0,o=e.day||0,s=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+1e3*s*60*60,this._days=+o+7*a,this._months=+r+3*i+12*n,this._data={},this._locale=O(),this._bubble()}function pe(t){return t instanceof de}function fe(t,n){Q(t,0,0,function(){var t=this.utcOffset(),e="+";return t<0&&(t=-t,e="-"),e+B(~~(t/60),2)+n+B(~~t%60,2)})}fe("Z",":"),fe("ZZ",""),mt("Z",pt),mt("ZZ",pt),_t(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=me(pt,t)});var ge=/([\+\-]|\d\d)/gi;function me(t,e){var n=(e||"").match(t)||[],i=((n[n.length-1]||[])+"").match(ge)||["-",0,0],r=60*i[1]+w(i[2]);return"+"===i[0]?r:-r}function ve(t,e){var n,i;return e._isUTC?(n=e.clone(),i=(b(t)||l(t)?t.valueOf():le(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),d.updateOffset(n,!1),n):le(t).local()}function ye(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function be(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}d.updateOffset=function(){};var _e=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,we=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;function Ce(t,e){var n,i,r,a=t,o=null;return pe(t)?a={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(a={},e?a[e]=t:a.milliseconds=t):(o=_e.exec(t))?(n="-"===o[1]?-1:1,a={y:0,d:w(o[$t])*n,h:w(o[Tt])*n,m:w(o[At])*n,s:w(o[Dt])*n,ms:w(o[kt])*n}):(o=we.exec(t))?(n="-"===o[1]?-1:1,a={y:Se(o[2],n),M:Se(o[3],n),w:Se(o[4],n),d:Se(o[5],n),h:Se(o[6],n),m:Se(o[7],n),s:Se(o[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(r=function(t,e){var n;if(!t.isValid()||!e.isValid())return{milliseconds:0,months:0};e=ve(e,t),t.isBefore(e)?n=xe(t,e):((n=xe(e,t)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(le(a.from),le(a.to)),(a={}).ms=r.milliseconds,a.M=r.months),i=new de(a),pe(t)&&p(t,"_locale")&&(i._locale=t._locale),i}function Se(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function xe(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function $e(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Te(i,r){return function(t,e){var n;return null===e||isNaN(+e)||($(r,"moment()."+r+"(period, number) is deprecated. Please use moment()."+r+"(number, period)."),n=t,t=e,e=n),Ae(this,Ce(t="string"==typeof t?+t:t,e),i),this}}function Ae(t,e,n,i){var r=e._milliseconds,a=$e(e._days),o=$e(e._months);t.isValid()&&(i=null==i||i,r&&t._d.setTime(t._d.valueOf()+r*n),a&&z(t,"Date",j(t,"Date")+a*n),o&&Ot(t,j(t,"Month")+o*n),i&&d.updateOffset(t,a||o))}Ce.fn=de.prototype;var De=Te(1,"add"),ke=Te(-1,"subtract");function Ee(t){var e;return void 0===t?this._locale._abbr:(null!=(e=O(t))&&(this._locale=e),this)}d.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",d.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Me=n("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});function Pe(){return this._locale}function Ne(t,e){Q(0,[t,t.length],0,e)}function Ie(t,e,n,i,r){var a;return null==t?ee(this,i,r).year:((a=ne(t,i,r))<e&&(e=a),function(t,e,n,i,r){var a=te(t,e,n,i,r),o=Kt(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}.call(this,t,e,n,i,r))}Q(0,["gg",2],0,function(){return this.weekYear()%100}),Q(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ne("gggg","weekYear"),Ne("ggggg","weekYear"),Ne("GGGG","isoWeekYear"),Ne("GGGGG","isoWeekYear"),H("weekYear","gg"),H("isoWeekYear","GG"),mt("G",ht),mt("g",ht),mt("GG",rt,tt),mt("gg",rt,tt),mt("GGGG",lt,nt),mt("gggg",lt,nt),mt("GGGGG",ut,it),mt("ggggg",ut,it),wt(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=w(t)}),wt(["gg","GG"],function(t,e,n,i){e[i]=d.parseTwoDigitYear(t)}),Q("Q",0,"Qo","quarter"),H("quarter","Q"),mt("Q",J),_t("Q",function(t,e){e[xt]=3*(w(t)-1)}),Q("w",["ww",2],"wo","week"),Q("W",["WW",2],"Wo","isoWeek"),H("week","w"),H("isoWeek","W"),mt("w",rt),mt("ww",rt,tt),mt("W",rt),mt("WW",rt,tt),wt(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=w(t)});Q("D",["DD",2],"Do","date"),H("date","D"),mt("D",rt),mt("DD",rt,tt),mt("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),_t(["D","DD"],$t),_t("Do",function(t,e){e[$t]=w(t.match(rt)[0])});var Le=F("Date",!0);Q("d",0,"do","day"),Q("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),Q("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),Q("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),Q("e",0,0,"weekday"),Q("E",0,0,"isoWeekday"),H("day","d"),H("weekday","e"),H("isoWeekday","E"),mt("d",rt),mt("e",rt),mt("E",rt),mt("dd",function(t,e){return e.weekdaysMinRegex(t)}),mt("ddd",function(t,e){return e.weekdaysShortRegex(t)}),mt("dddd",function(t,e){return e.weekdaysRegex(t)}),wt(["dd","ddd","dddd"],function(t,e,n,i){var r=n._locale.weekdaysParse(t,i,n._strict);null!=r?e.d=r:f(n).invalidWeekday=t}),wt(["d","e","E"],function(t,e,n,i){e[i]=w(t)});var Oe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");var Re="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");var He="Su_Mo_Tu_We_Th_Fr_Sa".split("_");var We=ft;var Ue=ft;var Fe=ft;function je(){function t(t,e){return e.length-t.length}var e,n,i,r,a,o=[],s=[],l=[],u=[];for(e=0;e<7;e++)n=h([2e3,1]).day(e),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),a=this.weekdays(n,""),o.push(i),s.push(r),l.push(a),u.push(i),u.push(r),u.push(a);for(o.sort(t),s.sort(t),l.sort(t),u.sort(t),e=0;e<7;e++)s[e]=yt(s[e]),l[e]=yt(l[e]),u[e]=yt(u[e]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function ze(){return this.hours()%12||12}function Ve(t,e){Q(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Be(t,e){return e._meridiemParse}Q("DDD",["DDDD",3],"DDDo","dayOfYear"),H("dayOfYear","DDD"),mt("DDD",st),mt("DDDD",et),_t(["DDD","DDDD"],function(t,e,n){n._dayOfYear=w(t)}),Q("H",["HH",2],0,"hour"),Q("h",["hh",2],0,ze),Q("k",["kk",2],0,function(){return this.hours()||24}),Q("hmm",0,0,function(){return""+ze.apply(this)+B(this.minutes(),2)}),Q("hmmss",0,0,function(){return""+ze.apply(this)+B(this.minutes(),2)+B(this.seconds(),2)}),Q("Hmm",0,0,function(){return""+this.hours()+B(this.minutes(),2)}),Q("Hmmss",0,0,function(){return""+this.hours()+B(this.minutes(),2)+B(this.seconds(),2)}),Ve("a",!0),Ve("A",!1),H("hour","h"),mt("a",Be),mt("A",Be),mt("H",rt),mt("h",rt),mt("HH",rt,tt),mt("hh",rt,tt),mt("hmm",at),mt("hmmss",ot),mt("Hmm",at),mt("Hmmss",ot),_t(["H","HH"],Tt),_t(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),_t(["h","hh"],function(t,e,n){e[Tt]=w(t),f(n).bigHour=!0}),_t("hmm",function(t,e,n){var i=t.length-2;e[Tt]=w(t.substr(0,i)),e[At]=w(t.substr(i)),f(n).bigHour=!0}),_t("hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[Tt]=w(t.substr(0,i)),e[At]=w(t.substr(i,2)),e[Dt]=w(t.substr(r)),f(n).bigHour=!0}),_t("Hmm",function(t,e,n){var i=t.length-2;e[Tt]=w(t.substr(0,i)),e[At]=w(t.substr(i))}),_t("Hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[Tt]=w(t.substr(0,i)),e[At]=w(t.substr(i,2)),e[Dt]=w(t.substr(r))});var Ye=F("Hours",!0);Q("m",["mm",2],0,"minute"),H("minute","m"),mt("m",rt),mt("mm",rt,tt),_t(["m","mm"],At);var qe=F("Minutes",!1);Q("s",["ss",2],0,"second"),H("second","s"),mt("s",rt),mt("ss",rt,tt),_t(["s","ss"],Dt);var Ge,Ke=F("Seconds",!1);for(Q("S",0,0,function(){return~~(this.millisecond()/100)}),Q(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Q(0,["SSS",3],0,"millisecond"),Q(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Q(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Q(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Q(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Q(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Q(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),H("millisecond","ms"),mt("S",st,J),mt("SS",st,tt),mt("SSS",st,et),Ge="SSSS";Ge.length<=9;Ge+="S")mt(Ge,ct);function Qe(t,e){e[kt]=w(1e3*("0."+t))}for(Ge="S";Ge.length<=9;Ge+="S")_t(Ge,Qe);var Xe=F("Milliseconds",!1);Q("z",0,0,"zoneAbbr"),Q("zz",0,0,"zoneName");var Ze=y.prototype;Ze.add=De,Ze.calendar=function(t,e){var n=t||le(),i=ve(n,this).startOf("day"),r=this.diff(i,"days",!0),a=r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse",o=e&&(T(e[a])?e[a]():e[a]);return this.format(o||this.localeData().calendar(a,this,le(n)))},Ze.clone=function(){return new y(this)},Ze.diff=function(t,e,n){var i,r,a,o;return this.isValid()&&(i=ve(t,this)).isValid()?(r=6e4*(i.utcOffset()-this.utcOffset()),"year"===(e=W(e))||"month"===e||"quarter"===e?(s=this,l=i,h=12*(l.year()-s.year())+(l.month()-s.month()),d=s.clone().add(h,"months"),c=l-d<0?(u=s.clone().add(h-1,"months"),(l-d)/(d-u)):(u=s.clone().add(h+1,"months"),(l-d)/(u-d)),o=-(h+c)||0,"quarter"===e?o/=3:"year"===e&&(o/=12)):(a=this-i,o="second"===e?a/1e3:"minute"===e?a/6e4:"hour"===e?a/36e5:"day"===e?(a-r)/864e5:"week"===e?(a-r)/6048e5:a),n?o:_(o)):NaN;var s,l,u,c,h,d},Ze.endOf=function(t){return void 0===(t=W(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))},Ze.format=function(t){t||(t=this.isUtc()?d.defaultFormatUtc:d.defaultFormat);var e=X(this,t);return this.localeData().postformat(e)},Ze.from=function(t,e){return this.isValid()&&(b(t)&&t.isValid()||le(t).isValid())?Ce({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},Ze.fromNow=function(t){return this.from(le(),t)},Ze.to=function(t,e){return this.isValid()&&(b(t)&&t.isValid()||le(t).isValid())?Ce({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},Ze.toNow=function(t){return this.to(le(),t)},Ze.get=V,Ze.invalidAt=function(){return f(this).overflow},Ze.isAfter=function(t,e){var n=b(t)?t:le(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=W(a(e)?"millisecond":e))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},Ze.isBefore=function(t,e){var n=b(t)?t:le(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=W(a(e)?"millisecond":e))?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},Ze.isBetween=function(t,e,n,i){return("("===(i=i||"()")[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n))},Ze.isSame=function(t,e){var n,i=b(t)?t:le(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=W(e||"millisecond"))?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))},Ze.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},Ze.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},Ze.isValid=function(){return g(this)},Ze.lang=Me,Ze.locale=Ee,Ze.localeData=Pe,Ze.max=ce,Ze.min=ue,Ze.parsingFlags=function(){return c({},f(this))},Ze.set=V,Ze.startOf=function(t){switch(t=W(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},Ze.subtract=ke,Ze.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]},Ze.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}},Ze.toDate=function(){return this._offset?new Date(this.valueOf()):this._d},Ze.toISOString=function(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?T(Date.prototype.toISOString)?this.toDate().toISOString():X(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):X(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},Ze.toJSON=function(){return this.isValid()?this.toISOString():null},Ze.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Ze.unix=function(){return Math.floor(this.valueOf()/1e3)},Ze.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Ze.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Ze.year=Zt,Ze.isLeapYear=function(){return Xt(this.year())},Ze.weekYear=function(t){return Ie.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Ze.isoWeekYear=function(t){return Ie.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},Ze.quarter=Ze.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},Ze.month=Rt,Ze.daysInMonth=function(){return Pt(this.year(),this.month())},Ze.week=Ze.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},Ze.isoWeek=Ze.isoWeeks=function(t){var e=ee(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},Ze.weeksInYear=function(){var t=this.localeData()._week;return ne(this.year(),t.dow,t.doy)},Ze.isoWeeksInYear=function(){return ne(this.year(),1,4)},Ze.date=Le,Ze.day=Ze.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e,n,i=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(e=t,n=this.localeData(),t="string"!=typeof e?e:isNaN(e)?"number"==typeof(e=n.weekdaysParse(e))?e:null:parseInt(e,10),this.add(t-i,"d")):i},Ze.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},Ze.isoWeekday=function(t){return this.isValid()?null==t?this.day()||7:this.day(this.day()%7?t:t-7):null!=t?this:NaN},Ze.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},Ze.hour=Ze.hours=Ye,Ze.minute=Ze.minutes=qe,Ze.second=Ze.seconds=Ke,Ze.millisecond=Ze.milliseconds=Xe,Ze.utcOffset=function(t,e){var n,i=this._offset||0;return this.isValid()?null!=t?("string"==typeof t?t=me(pt,t):Math.abs(t)<16&&(t*=60),!this._isUTC&&e&&(n=ye(this)),this._offset=t,this._isUTC=!0,null!=n&&this.add(n,"m"),i!==t&&(!e||this._changeInProgress?Ae(this,Ce(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,d.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:ye(this):null!=t?this:NaN},Ze.utc=function(t){return this.utcOffset(0,t)},Ze.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(ye(this),"m")),this},Ze.parseZone=function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(me(dt,this._i)),this},Ze.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?le(t).utcOffset():0,(this.utcOffset()-t)%60==0)},Ze.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Ze.isDSTShifted=function(){if(!a(this._isDSTShifted))return this._isDSTShifted;var t={};if(v(t,this),(t=oe(t))._a){var e=t._isUTC?h(t._a):le(t._a);this._isDSTShifted=this.isValid()&&0<C(t._a,e.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted},Ze.isLocal=function(){return!!this.isValid()&&!this._isUTC},Ze.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Ze.isUtc=be,Ze.isUTC=be,Ze.zoneAbbr=function(){return this._isUTC?"UTC":""},Ze.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Ze.dates=n("dates accessor is deprecated. Use date instead.",Le),Ze.months=n("months accessor is deprecated. Use month instead",Rt),Ze.years=n("years accessor is deprecated. Use year instead",Zt),Ze.zone=n("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()});var Je=Ze;function tn(t){return t}var en=k.prototype;function nn(t,e,n,i){var r=O(),a=h().set(i,e);return r[n](a,t)}function rn(t,e,n){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return nn(t,e,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=nn(t,i,n,"month");return r}function an(t,e,n,i){e=("boolean"==typeof t?"number"==typeof e&&(n=e,e=void 0):(e=t,t=!1,"number"==typeof(n=e)&&(n=e,e=void 0)),e||"");var r,a=O(),o=t?a._week.dow:0;if(null!=n)return nn(e,(n+o)%7,i,"day");var s=[];for(r=0;r<7;r++)s[r]=nn(e,(r+o)%7,i,"day");return s}en._calendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},en.calendar=function(t,e,n){var i=this._calendar[t];return T(i)?i.call(e,n):i},en._longDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},en.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},en._invalidDate="Invalid date",en.invalidDate=function(){return this._invalidDate},en._ordinal="%d",en.ordinal=function(t){return this._ordinal.replace("%d",t)},en._ordinalParse=/\d{1,2}/,en.preparse=tn,en.postformat=tn,en._relativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},en.relativeTime=function(t,e,n,i){var r=this._relativeTime[n];return T(r)?r(t,e,n,i):r.replace(/%d/i,t)},en.pastFuture=function(t,e){var n=this._relativeTime[0<t?"future":"past"];return T(n)?n(e):n.replace(/%s/i,e)},en.set=function(t){var e,n;for(n in t)T(e=t[n])?this[n]=e:this["_"+n]=e;this._config=t,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},en.months=function(t,e){return s(this._months)?this._months[t.month()]:this._months[Nt.test(e)?"format":"standalone"][t.month()]},en._months=It,en.monthsShort=function(t,e){return s(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Nt.test(e)?"format":"standalone"][t.month()]},en._monthsShort=Lt,en.monthsParse=function(t,e,n){var i,r,a;if(this._monthsParseExact)return function(t,e,n){var i,r,a,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)a=h([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(r=Ct.call(this._shortMonthsParse,o))?r:null:-1!==(r=Ct.call(this._longMonthsParse,o))?r:null:"MMM"===e?-1!==(r=Ct.call(this._shortMonthsParse,o))?r:-1!==(r=Ct.call(this._longMonthsParse,o))?r:null:-1!==(r=Ct.call(this._longMonthsParse,o))?r:-1!==(r=Ct.call(this._shortMonthsParse,o))?r:null}.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=h([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(a="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}},en._monthsRegex=Wt,en.monthsRegex=function(t){return this._monthsParseExact?(p(this,"_monthsRegex")||Ut.call(this),t?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex},en._monthsShortRegex=Ht,en.monthsShortRegex=function(t){return this._monthsParseExact?(p(this,"_monthsRegex")||Ut.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex},en.week=function(t){return ee(t,this._week.dow,this._week.doy).week},en._week={dow:0,doy:6},en.firstDayOfYear=function(){return this._week.doy},en.firstDayOfWeek=function(){return this._week.dow},en.weekdays=function(t,e){return s(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]},en._weekdays=Oe,en.weekdaysMin=function(t){return this._weekdaysMin[t.day()]},en._weekdaysMin=He,en.weekdaysShort=function(t){return this._weekdaysShort[t.day()]},en._weekdaysShort=Re,en.weekdaysParse=function(t,e,n){var i,r,a;if(this._weekdaysParseExact)return function(t,e,n){var i,r,a,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)a=h([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(r=Ct.call(this._weekdaysParse,o))?r:null:"ddd"===e?-1!==(r=Ct.call(this._shortWeekdaysParse,o))?r:null:-1!==(r=Ct.call(this._minWeekdaysParse,o))?r:null:"dddd"===e?-1!==(r=Ct.call(this._weekdaysParse,o))?r:-1!==(r=Ct.call(this._shortWeekdaysParse,o))?r:-1!==(r=Ct.call(this._minWeekdaysParse,o))?r:null:"ddd"===e?-1!==(r=Ct.call(this._shortWeekdaysParse,o))?r:-1!==(r=Ct.call(this._weekdaysParse,o))?r:-1!==(r=Ct.call(this._minWeekdaysParse,o))?r:null:-1!==(r=Ct.call(this._minWeekdaysParse,o))?r:-1!==(r=Ct.call(this._weekdaysParse,o))?r:-1!==(r=Ct.call(this._shortWeekdaysParse,o))?r:null}.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=h([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(a="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}},en._weekdaysRegex=We,en.weekdaysRegex=function(t){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||je.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex},en._weekdaysShortRegex=Ue,en.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||je.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex},en._weekdaysMinRegex=Fe,en.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||je.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex},en.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},en._meridiemParse=/[ap]\.?m?\.?/i,en.meridiem=function(t,e,n){return 11<t?n?"pm":"PM":n?"am":"AM"},I("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===w(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),d.lang=n("moment.lang is deprecated. Use moment.locale instead.",I),d.langData=n("moment.langData is deprecated. Use moment.localeData instead.",O);var on=Math.abs;function sn(t,e,n,i){var r=Ce(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function ln(t){return t<0?Math.floor(t):Math.ceil(t)}function un(t){return 4800*t/146097}function cn(t){return 146097*t/4800}function hn(t){return function(){return this.as(t)}}var dn=hn("ms"),pn=hn("s"),fn=hn("m"),gn=hn("h"),mn=hn("d"),vn=hn("w"),yn=hn("M"),bn=hn("y");function _n(t){return function(){return this._data[t]}}var wn=_n("milliseconds"),Cn=_n("seconds"),Sn=_n("minutes"),xn=_n("hours"),$n=_n("days"),Tn=_n("months"),An=_n("years");var Dn=Math.round,kn={s:45,m:45,h:22,d:26,M:11};var En=Math.abs;function Mn(){var t,e,n=En(this._milliseconds)/1e3,i=En(this._days),r=En(this._months);e=_((t=_(n/60))/60),n%=60,t%=60;var a=_(r/12),o=r%=12,s=i,l=e,u=t,c=n,h=this.asSeconds();return h?(h<0?"-":"")+"P"+(a?a+"Y":"")+(o?o+"M":"")+(s?s+"D":"")+(l||u||c?"T":"")+(l?l+"H":"")+(u?u+"M":"")+(c?c+"S":""):"P0D"}var Pn=de.prototype;return Pn.abs=function(){var t=this._data;return this._milliseconds=on(this._milliseconds),this._days=on(this._days),this._months=on(this._months),t.milliseconds=on(t.milliseconds),t.seconds=on(t.seconds),t.minutes=on(t.minutes),t.hours=on(t.hours),t.months=on(t.months),t.years=on(t.years),this},Pn.add=function(t,e){return sn(this,t,e,1)},Pn.subtract=function(t,e){return sn(this,t,e,-1)},Pn.as=function(t){var e,n,i=this._milliseconds;if("month"===(t=W(t))||"year"===t)return e=this._days+i/864e5,n=this._months+un(e),"month"===t?n:n/12;switch(e=this._days+Math.round(cn(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}},Pn.asMilliseconds=dn,Pn.asSeconds=pn,Pn.asMinutes=fn,Pn.asHours=gn,Pn.asDays=mn,Pn.asWeeks=vn,Pn.asMonths=yn,Pn.asYears=bn,Pn.valueOf=function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*w(this._months/12)},Pn._bubble=function(){var t,e,n,i,r,a=this._milliseconds,o=this._days,s=this._months,l=this._data;return 0<=a&&0<=o&&0<=s||a<=0&&o<=0&&s<=0||(a+=864e5*ln(cn(s)+o),s=o=0),l.milliseconds=a%1e3,t=_(a/1e3),l.seconds=t%60,e=_(t/60),l.minutes=e%60,n=_(e/60),l.hours=n%24,s+=r=_(un(o+=_(n/24))),o-=ln(cn(r)),i=_(s/12),s%=12,l.days=o,l.months=s,l.years=i,this},Pn.get=function(t){return this[(t=W(t))+"s"]()},Pn.milliseconds=wn,Pn.seconds=Cn,Pn.minutes=Sn,Pn.hours=xn,Pn.days=$n,Pn.weeks=function(){return _(this.days()/7)},Pn.months=Tn,Pn.years=An,Pn.humanize=function(t){var e,n,i,r,a,o,s,l,u,c,h,d=this.localeData(),p=(n=!t,i=d,r=Ce(e=this).abs(),a=Dn(r.as("s")),o=Dn(r.as("m")),s=Dn(r.as("h")),l=Dn(r.as("d")),u=Dn(r.as("M")),c=Dn(r.as("y")),(h=a<kn.s&&["s",a]||o<=1&&["m"]||o<kn.m&&["mm",o]||s<=1&&["h"]||s<kn.h&&["hh",s]||l<=1&&["d"]||l<kn.d&&["dd",l]||u<=1&&["M"]||u<kn.M&&["MM",u]||c<=1&&["y"]||["yy",c])[2]=n,h[3]=0<+e,h[4]=i,function(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}.apply(null,h));return t&&(p=d.pastFuture(+this,p)),d.postformat(p)},Pn.toISOString=Mn,Pn.toString=Mn,Pn.toJSON=Mn,Pn.locale=Ee,Pn.localeData=Pe,Pn.toIsoString=n("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Mn),Pn.lang=Me,Q("X",0,0,"unix"),Q("x",0,0,"valueOf"),mt("x",ht),mt("X",/[+-]?\d+(\.\d{1,3})?/),_t("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),_t("x",function(t,e,n){n._d=new Date(w(t))}),d.version="2.13.0",t=le,d.fn=Je,d.min=function(){return he("isBefore",[].slice.call(arguments,0))},d.max=function(){return he("isAfter",[].slice.call(arguments,0))},d.now=function(){return Date.now?Date.now():+new Date},d.utc=h,d.unix=function(t){return le(1e3*t)},d.months=function(t,e){return rn(t,e,"months")},d.isDate=l,d.locale=I,d.invalid=m,d.duration=Ce,d.isMoment=b,d.weekdays=function(t,e,n){return an(t,e,n,"weekdays")},d.parseZone=function(){return le.apply(null,arguments).parseZone()},d.localeData=O,d.isDuration=pe,d.monthsShort=function(t,e){return rn(t,e,"monthsShort")},d.weekdaysMin=function(t,e,n){return an(t,e,n,"weekdaysMin")},d.defineLocale=L,d.updateLocale=function(t,e){var n;return null!=e?(null!=M[t]&&(e=D(M[t]._config,e)),(n=new k(e)).parentLocale=M[t],M[t]=n,I(t)):null!=M[t]&&(null!=M[t].parentLocale?M[t]=M[t].parentLocale:null!=M[t]&&delete M[t]),M[t]},d.locales=function(){return S(M)},d.weekdaysShort=function(t,e,n){return an(t,e,n,"weekdaysShort")},d.normalizeUnits=W,d.relativeTimeThreshold=function(t,e){return void 0!==kn[t]&&(void 0===e?kn[t]:(kn[t]=e,!0))},d.prototype=Je,d}),function(t,e){"use strict";"object"==typeof module&&module.exports?module.exports=e(require("moment")):"function"==typeof define&&define.amd?define(["moment"],e):e(t.moment)}(this,function(a){"use strict";var e,o={},s={},u={},c={};a&&"string"==typeof a.version||$("Moment Timezone requires Moment.js. See https://momentjs.com/timezone/docs/#/use-it/browser/");var t=a.version.split("."),n=+t[0],i=+t[1];function l(t){return 96<t?t-87:64<t?t-29:t-48}function r(t){var e=0,n=t.split("."),i=n[0],r=n[1]||"",a=1,o=0,s=1;for(45===t.charCodeAt(0)&&(s=-(e=1));e<i.length;e++)o=60*o+l(i.charCodeAt(e));for(e=0;e<r.length;e++)a/=60,o+=l(r.charCodeAt(e))*a;return o*s}function h(t){for(var e=0;e<t.length;e++)t[e]=r(t[e])}function d(t,e){var n,i=[];for(n=0;n<e.length;n++)i[n]=t[e[n]];return i}function p(t){var e=t.split("|"),n=e[2].split(" "),i=e[3].split(""),r=e[4].split(" ");return h(n),h(i),h(r),function(t,e){for(var n=0;n<e;n++)t[n]=Math.round((t[n-1]||0)+6e4*t[n]);t[e-1]=1/0}(r,i.length),{name:e[0],abbrs:d(e[1].split(" "),i),offsets:d(n,i),untils:r,population:0|e[5]}}function f(t){t&&this._set(p(t))}function g(t){var e=t.toTimeString(),n=e.match(/\([a-z ]+\)/i);"GMT"===(n=n&&n[0]?(n=n[0].match(/[A-Z]/g))?n.join(""):void 0:(n=e.match(/[A-Z]{3,5}/g))?n[0]:void 0)&&(n=void 0),this.at=+t,this.abbr=n,this.offset=t.getTimezoneOffset()}function m(t){this.zone=t,this.offsetScore=0,this.abbrScore=0}function v(t,e){for(var n,i;i=6e4*((e.at-t.at)/12e4|0);)(n=new g(new Date(t.at+i))).offset===t.offset?t=n:e=n;return t}function y(t,e){return t.offsetScore!==e.offsetScore?t.offsetScore-e.offsetScore:t.abbrScore!==e.abbrScore?t.abbrScore-e.abbrScore:e.zone.population-t.zone.population}function b(t,e){var n,i;for(h(e),n=0;n<e.length;n++)i=e[n],c[i]=c[i]||{},c[i][t]=!0}function _(t){return(t||"").toLowerCase().replace(/\//g,"_")}function w(t){var e,n,i,r;for("string"==typeof t&&(t=[t]),e=0;e<t.length;e++)r=_(n=(i=t[e].split("|"))[0]),o[r]=t[e],u[r]=n,b(r,i[2].split(" "))}function C(t,e){t=_(t);var n,i=o[t];return i instanceof f?i:"string"==typeof i?(i=new f(i),o[t]=i):s[t]&&e!==C&&(n=C(s[t],C))?((i=o[t]=new f)._set(n),i.name=u[t],i):null}function S(t){var e,n,i,r;for("string"==typeof t&&(t=[t]),e=0;e<t.length;e++)i=_((n=t[e].split("|"))[0]),r=_(n[1]),s[i]=r,u[i]=n[0],s[r]=i,u[r]=n[1]}function x(t){var e="X"===t._f||"x"===t._f;return!(!t._a||void 0!==t._tzm||e)}function $(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t)}function T(t){var e=Array.prototype.slice.call(arguments,0,-1),n=arguments[arguments.length-1],i=C(n),r=a.utc.apply(null,e);return i&&!a.isMoment(t)&&x(r)&&r.add(i.parse(r),"minutes"),r.tz(n),r}(n<2||2===n&&i<6)&&$("Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js "+a.version+". See momentjs.com"),f.prototype={_set:function(t){this.name=t.name,this.abbrs=t.abbrs,this.untils=t.untils,this.offsets=t.offsets,this.population=t.population},_index:function(t){var e,n=+t,i=this.untils;for(e=0;e<i.length;e++)if(n<i[e])return e},parse:function(t){var e,n,i,r,a=+t,o=this.offsets,s=this.untils,l=s.length-1;for(r=0;r<l;r++)if(e=o[r],n=o[r+1],i=o[r?r-1:r],e<n&&T.moveAmbiguousForward?e=n:i<e&&T.moveInvalidForward&&(e=i),a<s[r]-6e4*e)return o[r];return o[l]},abbr:function(t){return this.abbrs[this._index(t)]},offset:function(t){return $("zone.offset has been deprecated in favor of zone.utcOffset"),this.offsets[this._index(t)]},utcOffset:function(t){return this.offsets[this._index(t)]}},m.prototype.scoreOffsetAt=function(t){this.offsetScore+=Math.abs(this.zone.utcOffset(t.at)-t.offset),this.zone.abbr(t.at).replace(/[^A-Z]/g,"")!==t.abbr&&this.abbrScore++},T.version="0.5.23",T.dataVersion="",T._zones=o,T._links=s,T._names=u,T.add=w,T.link=S,T.load=function(t){w(t.zones),S(t.links),T.dataVersion=t.version},T.zone=C,T.zoneExists=function t(e){return t.didShowError||(t.didShowError=!0,$("moment.tz.zoneExists('"+e+"') has been deprecated in favor of !moment.tz.zone('"+e+"')")),!!C(e)},T.guess=function(t){return e&&!t||(e=function(){try{var t=Intl.DateTimeFormat().resolvedOptions().timeZone;if(t&&3<t.length){var e=u[_(t)];if(e)return e;$("Moment Timezone found "+t+" from the Intl api, but did not have that data loaded.")}}catch(t){}var n,i,r,a=function(){var t,e,n,i=(new Date).getFullYear()-2,r=new g(new Date(i,0,1)),a=[r];for(n=1;n<48;n++)(e=new g(new Date(i,n,1))).offset!==r.offset&&(t=v(r,e),a.push(t),a.push(new g(new Date(t.at+6e4)))),r=e;for(n=0;n<4;n++)a.push(new g(new Date(i+n,0,1))),a.push(new g(new Date(i+n,6,1)));return a}(),o=a.length,s=function(t){var e,n,i,r=t.length,a={},o=[];for(e=0;e<r;e++)for(n in i=c[t[e].offset]||{})i.hasOwnProperty(n)&&(a[n]=!0);for(e in a)a.hasOwnProperty(e)&&o.push(u[e]);return o}(a),l=[];for(i=0;i<s.length;i++){for(n=new m(C(s[i]),o),r=0;r<o;r++)n.scoreOffsetAt(a[r]);l.push(n)}return l.sort(y),0<l.length?l[0].zone.name:void 0}()),e},T.names=function(){var t,e=[];for(t in u)u.hasOwnProperty(t)&&(o[t]||o[s[t]])&&u[t]&&e.push(u[t]);return e.sort()},T.Zone=f,T.unpack=p,T.unpackBase60=r,T.needsOffset=x,T.moveInvalidForward=!0,T.moveAmbiguousForward=!1;var A,D=a.fn;function k(t){return function(){return this._z?this._z.abbr(this):t.call(this)}}a.tz=T,a.defaultZone=null,a.updateOffset=function(t,e){var n,i=a.defaultZone;void 0===t._z&&(i&&x(t)&&!t._isUTC&&(t._d=a.utc(t._a)._d,t.utc().add(i.parse(t),"minutes")),t._z=i),t._z&&(n=t._z.utcOffset(t),Math.abs(n)<16&&(n/=60),void 0!==t.utcOffset?t.utcOffset(-n,e):t.zone(n,e))},D.tz=function(t,e){if(t){if("string"!=typeof t)throw new Error("Time zone name must be a string, got "+t+" ["+typeof t+"]");return this._z=C(t),this._z?a.updateOffset(this,e):$("Moment Timezone has no data for "+t+". See http://momentjs.com/timezone/docs/#/data-loading/."),this}if(this._z)return this._z.name},D.zoneName=k(D.zoneName),D.zoneAbbr=k(D.zoneAbbr),D.utc=(A=D.utc,function(){return this._z=null,A.apply(this,arguments)}),a.tz.setDefault=function(t){return(n<2||2===n&&i<9)&&$("Moment Timezone setDefault() requires Moment.js >= 2.9.0. You are using Moment.js "+a.version+"."),a.defaultZone=t?C(t):null,a};var E=a.momentProperties;return"[object Array]"===Object.prototype.toString.call(E)?(E.push("_z"),E.push("_a")):E&&(E._z=null),a}),function(t,r){"use strict";var e=r.module("ngDropdowns",[]);e.run(["$templateCache",function(t){t.put("ngDropdowns/templates/dropdownSelect.html",['<div ng-class="{\'disabled\': dropdownDisabled}" class="wrap-dd-select" tabindex="0">','<span class="selected">{{dropdownModel[labelField]}}</span>','<ul class="dropdown">','<li ng-repeat="item in dropdownSelect"',' class="dropdown-item"',' dropdown-select-item="item"',' dropdown-item-label="labelField">',"</li>","</ul>","</div>"].join("")),t.put("ngDropdowns/templates/dropdownSelectItem.html",["<li ng-class=\"::{divider: (dropdownSelectItem.divider && !dropdownSelectItem[dropdownItemLabel]), 'divider-label': (dropdownSelectItem.divider && dropdownSelectItem[dropdownItemLabel])}\">",'<a href="" class="dropdown-item"',' ng-if="::!dropdownSelectItem.divider"',' ng-href="{{::dropdownSelectItem.href}}"',' ng-click="selectItem()">',"{{::dropdownSelectItem[dropdownItemLabel]}}","</a>",'<span ng-if="::dropdownSelectItem.divider">',"{{::dropdownSelectItem[dropdownItemLabel]}}","</span>","</li>"].join(""))}]),e.directive("dropdownSelect",["DropdownService",function(i){return{restrict:"A",replace:!0,scope:{dropdownSelect:"=",dropdownModel:"=",dropdownItemLabel:"@",dropdownOnchange:"&",dropdownDisabled:"="},controller:["$scope","$element",function(e,n){e.labelField=e.dropdownItemLabel||"text",i.register(n),this.select=function(t){r.equals(t,e.dropdownModel)||(e.dropdownModel=t),e.dropdownOnchange({selected:t}),n[0].blur()},n.bind("click",function(t){t.stopPropagation(),e.dropdownDisabled||i.toggleActive(n)}),e.$on("$destroy",function(){i.unregister(n)})}],templateUrl:function(t,e){return e.dropdownTemplateUrl||"ngDropdowns/templates/dropdownSelect.html"}}}]),e.directive("dropdownSelectItem",[function(){return{require:"^dropdownSelect",replace:!0,scope:{dropdownItemLabel:"=",dropdownSelectItem:"="},link:function(t,e,n,i){t.selectItem=function(){t.dropdownSelectItem.href||i.select(t.dropdownSelectItem)}},templateUrl:function(t,e){return e.dropdownTemplateUrl||"ngDropdowns/templates/dropdownSelectItem.html"}}}]),e.factory("DropdownService",["$document",function(t){var e=t.find("body"),n={},i=[];return e.bind("click",function(){r.forEach(i,function(t){t.removeClass("active")})}),n.register=function(t){i.push(t)},n.unregister=function(t){var e;-1<(e=i.indexOf(t))&&i.splice(e,1)},n.toggleActive=function(e){r.forEach(i,function(t){t!==e&&t.removeClass("active")}),e.toggleClass("active")},n.clearActive=function(){r.forEach(i,function(t){t.removeClass("active")})},n.isActive=function(t){return t.hasClass("active")},n}])}(window,window.angular),angular.module("mainApp.appCommon.directives.ngEnterDirective",[]).directive("ngEnter",function(){return function(e,t,n){t.bind("keydown keypress",function(t){13===t.which&&(e.$apply(function(){e.$eval(n.ngEnter)}),t.preventDefault())})}}),angular.module("exceptionOverride",[]).factory("$exceptionHandler",function(){return function(t,e){t.message+=' (caused by "'+e+'")',null!=console&&console.log("Error: "+t.message)}}),angular.module("mainApp.appCommon.utilities.URLUtility",["mainApp.appCommon.utilities.ConfigConstantUtility"]).service("URLUtility",function(){this.GetWebServerAddress=function(t){if(null==t)return null;var e=location.pathname,n=e.indexOf(t);return e=-1!=n?e.substring(0,n):e.substring(0,e.length-1),location.protocol+"//"+location.host+e},this.GetBaseUrl=function(){return location.protocol+"//"+location.host+location.pathname},this.GetUrlQueryStrings=function(t){if(null==t)return"";var e="",n=t.indexOf("#");-1!=n&&(t=t.substring(0,n));var i=t.indexOf("?");return-1!=i&&(e=t.substring(i,t.length)),e},this.GetUrlWithQueryStrings=function(t){if(null==t)return null;var e=this.HandleProtocol(t),n=this.GetUrlQueryStrings(window.location.href);return null!=n&&"?"!=n&&(e+=n),e},this.RemoveQueryStringParameter=function(t,e){var n="",i=t.indexOf("#"),r=t.indexOf("?");-1<i&&(i<r?n=t.substring(i,r):(n=t.substring(i),t=t.replace(n,"")));var a=t.split("?");if(2<=a.length){for(var o=encodeURIComponent(e)+"=",s=a[1].split(/[&;]/g),l=s.length;0<l--;)-1!==s[l].lastIndexOf(o,0)&&s.splice(l,1);t=0===s.length?a[0]:a[0]+"?"+s.join("&")}return-1<i&&i<r?t:t+n},this.GetSalesPrismWebServerAddress=function(t){return null==t?null:this.HandleProtocol(t.replace(/\/salesprism.aspx/gi,""))},this.GetSalesPrismMainPageAddress=function(t){return null==t?null:(-1!==t.indexOf("salesprism.aspx")||("/"===t.charAt(t.length-1)?t+="salesprism.aspx":t+="/salesprism.aspx"),this.HandleProtocol(t))},this.GetBardWebServerAddress=function(t){return null==t?null:this.HandleProtocol(t.replace(/\/index.aspx/gi,""))},this.GetBardMainPageAddress=function(t){return null==t?null:(-1!==t.indexOf("index.aspx")||("/"===t.charAt(t.length-1)?t+="index.aspx":t+="/index.aspx"),this.HandleProtocol(t))},this.GetBardMainPageAddressWithHash=function(t){if(null==t)return null;var e=window.location.href,n="",i=e.indexOf("#"),r=e.indexOf("?");return-1<i&&(n=i<r?e.substring(i,r):e.substring(i)),this.GetBardMainPageAddress(t)+n},this.OpenWindow=function(t,e){null!=t&&null!=e&&window.open(t,e)},this.OpenNewWindow=function(t){this.OpenWindow(t,"_blank")},this.OpenPostWindow=function(t,e,n,i){var r=this.ConstructPostContent(e,n,i),a=window.open("about:blank",t);return a&&a.document.write(r),a},this.OpenPostIframe=function(t,e,n,i){var r=this.ConstructPostContent(e,n,i);$("#"+t).html(r)},this.ConstructPostContent=function(t,e,n){var i="<!DOCTYPE html><html><head></head><body>";return i+='<form id="postForm" method=\''+(n=void 0!==n?n:"POST")+"' action='"+t+"'>",$.each(e,function(t,e){i+="<input type='hidden' name='"+t+"' value='"+e+"'></input>"}),i+="</form>",i+="<script type='text/javascript'>document.getElementById(\"postForm\").submit();<\/script>",i+="</body></html>"},this.GetQueryStringValue=function(t,e){e="boolean"==typeof e&&e;var n=null,r=window.location.href,a=r.indexOf("?");if(-1!=a){var o=null,s=r.substring(a+1).split("&");for(i=0;i<s.length;i++)if(2==(o=s[i].split("=")).length&&o[0]==t){n=o[1];break}}if(null!=n&&!e){var l=n.indexOf("#");-1!=l&&(n=n.substring(0,l))}return null!=n?this.Decode(n):null},this.Decode=function(t){var e=t,n=e.match(new RegExp("%..","gi"));if(null!=n)for(i=0;i<n.length;i++){var r=parseInt("0x"+n[i].substring(1)),a=String.fromCharCode(r);e=e.replace(n[i],a)}return e},this.ExtractTabFromHash=function(t){var e=null;switch(t){case ConfigConstantUtility.BardModelHash:case ConfigConstantUtility.BardStatusHash:case ConfigConstantUtility.BardConfigHash:case ConfigConstantUtility.BardReportHash:e=ConfigConstantUtility.ViewBard;break;case ConfigConstantUtility.ActionCenterHash:e=ConfigConstantUtility.ViewActionItems;break;case ConfigConstantUtility.SalesListHash:e=ConfigConstantUtility.ViewSales;break;case ConfigConstantUtility.PlayListHash:case ConfigConstantUtility.LaunchMetricsHash:case ConfigConstantUtility.LaunchRulesHash:case ConfigConstantUtility.LaunchFiltersHash:case ConfigConstantUtility.PlayQuestionsHash:case ConfigConstantUtility.HoldoutsHash:e=ConfigConstantUtility.ViewPlay;break;case ConfigConstantUtility.ConfigConsoleHash:case ConfigConstantUtility.AdminConsoleHash:case ConfigConstantUtility.UsersHash:case ConfigConstantUtility.UserGroupsHash:case ConfigConstantUtility.AlertsHash:case ConfigConstantUtility.PreviewAlertsHash:case ConfigConstantUtility.FileTemplatesHash:case ConfigConstantUtility.MailTemplatesHash:case ConfigConstantUtility.FileUploadHash:case ConfigConstantUtility.ExternalDataHash:e=ConfigConstantUtility.ViewAdmin;break;case ConfigConstantUtility.InvitationsHash:e=ConfigConstantUtility.ViewMessages;break;case ConfigConstantUtility.DashboardCenterHash:e=ConfigConstantUtility.ViewDashboardCenter;break;case ConfigConstantUtility.ChangePasswordHash:e=ConfigConstantUtility.ViewChangePassword;break;case ConfigConstantUtility.ProductHierarchyHash:e=ConfigConstantUtility.ViewProductHierarchy;break;case ConfigConstantUtility.DantePlayHash:e=ConfigConstantUtility.DantePlayHash;break;case ConfigConstantUtility.DantePurchaseTrendsHash:e=ConfigConstantUtility.DantePurchaseTrendsHash;break;case ConfigConstantUtility.DanteCompanyDetailsHash:e=ConfigConstantUtility.DanteCompanyDetailsHash;break;case ConfigConstantUtility.DanteContactsHash:e=ConfigConstantUtility.DanteContactsHash}return e},this.ExtractSubViewFromHash=function(t){var e=null;switch(t){case ConfigConstantUtility.PlayListHash:e="Plays";break;case ConfigConstantUtility.LaunchMetricsHash:e="LaunchMetrics";break;case ConfigConstantUtility.LaunchRulesHash:e="LaunchRules";break;case ConfigConstantUtility.LaunchFiltersHash:e="FilterRules";break;case ConfigConstantUtility.PlayQuestionsHash:e="PlayQuestions";break;case ConfigConstantUtility.HoldoutsHash:e="UploadHoldouts";break;case ConfigConstantUtility.ConfigConsoleHash:e="ConfigConsole";break;case ConfigConstantUtility.AdminConsoleHash:e="AdminConsole";break;case ConfigConstantUtility.UsersHash:e="Users";break;case ConfigConstantUtility.UserGroupsHash:e="UserGroups";break;case ConfigConstantUtility.AlertsHash:e="Alerts";break;case ConfigConstantUtility.PreviewAlertsHash:e="PreviewAlerts";break;case ConfigConstantUtility.FileTemplatesHash:e="FeedTemplates";break;case ConfigConstantUtility.MailTemplatesHash:e="MailMerge";break;case ConfigConstantUtility.FileUploadHash:e="FileUpload";break;case ConfigConstantUtility.ExternalDataHash:e="ExternalData";break;case ConfigConstantUtility.BardStatusHash:e="BardStatus";break;case ConfigConstantUtility.BardConfigHash:e="BardConfig";break;case ConfigConstantUtility.BardReportHash:e="BardReport";break;case ConfigConstantUtility.BardModelHash:e="BardModel"}return e},this.HandleProtocol=function(t){if(null==t)return null;var e=0===t.indexOf("http://"),n=0===t.indexOf("https://");return e||n?t:location.protocol+"//"+t},this.SALESFORCE="salesforce",this.SAML="saml",this.LEA="lea",this.ORACLE="oracle",this.Directory=function(){return this.GetQueryStringValue("Directory")},this.SamlResponseValue=function(){return this.GetQueryStringValue("LESAMLUserLookup")},this.SamlDirectoryValue=function(){return this.GetQueryStringValue("LESAMLDirectoryKey")},this.LeaResponse=function(){return this.GetQueryStringValue("LEAuthenticatedLookup")},this.GetSSOType=function(){return this.Directory()==this.ORACLE?this.ORACLE:null!=this.CrmSessionID()&&null!=this.CrmServerURL()?this.SALESFORCE:null!=this.SamlResponseValue()?this.SAML:null!=this.LeaResponse()?this.LEA:null},this.CrmSessionID=function(){var t=this.GetQueryStringValue("sin");return null!=t?t:this.GetQueryStringValue("sessionid")},this.CrmServerURL=function(){return this.GetQueryStringValue("serverurl")},this.CrmUser=function(){var t=null,e=this.GetQueryStringValue("userlink");if(null!=e){var n=e.lastIndexOf("/");t=-1!=n?e.substring(n+1):e}return null!=t&&15<t.length&&(t=t.substr(0,15)),t},this.CrmType=function(){var t=this.GetQueryStringValue("crmtype");t=t.toLowerCase(),t=StringUtil.CapitalizeFirstLetter(t);var e=ConfigConstantUtility.CrmType;switch(t){case e.None:case e.Salesforce:case e.Siebel:case e.Oracle:return t;default:return e.None}},this.CrmAccount=function(){return this.GetQueryStringValue("Account")},this.CrmLead=function(){return this.GetQueryStringValue("Lead")},this.CrmRecommendation=function(){return this.GetQueryStringValue("Recommendation")},this.CrmContact=function(){return this.GetQueryStringValue("Contact")},this.CrmOpportunity=function(){return this.GetQueryStringValue("Opportunity")},this.HasSalesprism=function(){return this.GetQueryStringValue("HasSalesprism")},this.CrmPurchaseHistoryAccount=function(){return this.GetQueryStringValue("PurchaseHistoryAccount")},this.LpiPreview=function(){return this.GetQueryStringValue("LpiPreview")},this.CustomSettings=function(){return this.GetQueryStringValue("CustomSettings")},this.CrmIntegrationServer=function(){var t=null,e=this.GetQueryStringValue("userlink");if(null!=e){var n=e.lastIndexOf("/");-1!=n&&(t=e.substring(0,n))}return t},this.IntegrationServer=function(){var t=null;return null!=this.CrmServerURL()&&(t=this.CrmIntegrationServer()),null!=t?t:""},this.GetApplicationDirectory=function(){var t=this.Directory();return null==t&&(t=this.SamlDirectoryValue()),t}}),angular.module("mainApp.appCommon.utilities.ResourceUtility",[]).service("ResourceUtility",function(){this.DefaultLocale="en-US",this.configStringsStorageKey="ConfigStrings",this.configStringsKeyValueStorageKey="ConfigStringKeyValues",this.configStringsLocaleStorageKey="ConfigStringsLocale",this.configStrings=null,this.resourceStringsInitialized=!1,this.keyValuePairs=[],this.getString=function(t,e){null==this.configStrings&&this.populateConfigStrings();var n=this.configStrings[t]||t;return e&&(n=this.replaceTokens(n,e)),n},this.clearResourceStrings=function(){$.jStorage.set(this.configStringsStorageKey,null),$.jStorage.set(this.configStringsKeyValueStorageKey,null),$.jStorage.set(this.configStringsLocaleStorageKey,null)},this.getResourceStrings=function(){return $.jStorage.get(this.configStringsStorageKey)},this.getResourceStringKeyValues=function(){return $.jStorage.get(this.configStringsKeyValueStorageKey)},this.setCurrentLocale=function(t){$.jStorage.set(this.configStringsLocaleStorageKey,t)},this.getCurrentLocale=function(){return $.jStorage.get(this.configStringsLocaleStorageKey)},this.replaceTokens=function(t,e){for(var n=0;n<e.length;n++)for(;-1!=t.indexOf("{"+n+"}");)t=t.replace("{"+n+"}",e[n]);return t},this.populateConfigStrings=function(){var t=$.jStorage.get(this.configStringsStorageKey);this.configStrings=t||{}},this.storeStringList=function(t,e){if(null==this.configStrings&&this.populateConfigStrings(),null!=t){for(var n=0;n<t.length;n++){var i=t[n],r=i.Key,a=i.Value;this.keyValuePairs.push(i),this.configStrings[r]=a}this.resourceStringsInitialized=!0}$.jStorage.set(this.configStringsStorageKey,this.configStrings),$.jStorage.set(this.configStringsKeyValueStorageKey,this.keyValuePairs),$(document).trigger("configStringsLoadedEvent"),null!=e&&e()},this.PreloadImage=function(t,e){var n=new Image;n.onload=function(){e(n)},n.src=t.attr("src")},this.SetBrowserTitle=function(){document.title=this.getString("BROWSER_TITLE")}}),angular.module("mainApp.appCommon.utilities.FaultUtility",["mainApp.appCommon.utilities.ConfigConstantUtility","mainApp.appCommon.utilities.ResourceUtility","common.utilities.browserstorage","mainApp.appCommon.modals.SimpleModal"]).service("FaultUtility",["ResourceUtility","BrowserStorageUtility","SimpleModal",function(s,t,i){this.HandleServiceResponseFailure=function(t,e,n){if(n=void 0!==n&&n,!this.HandleSessionTimeout(t)&&!this.HandleAuthenticationIssue(t)&&!n){if(this.HandleSpecialErrors(t))return;var i=this.GenerateErrorMessage(t.Errors);this.ShowFaultAlert(i,e)}},this.HandleNoResponseFailure=function(t,e){if(faultTitle=e.faultTitle,failSilently=e.failSilently,failSilently="undefined"!=typeof failSilently&&failSilently,!failSilently){var n=this.GetWebServiceFaultDetails(t,e);this.ShowFaultAlert(n,e.faultTitle)}},this.HandleSessionTimeout=function(t){var e=!1,n=s.getString("USER_SESSION_TIMEOUT");return-1!=this.GetUserDisplayableErrors(t).indexOf(n)&&(this.ShowFaultAlert(n,s.getString("USER_SESSION_TIMEOUT_TITLE"),this.ResetApp),e=!0),e},this.HandleAuthenticationIssue=function(t){var e=!1,n=s.getString("LOGIN_EXPIRED_AUTHENTICATION_CREDENTIALS"),i=s.getString("LOGIN_INVALID_AUTHENTICATION_CREDENTIALS");return-1!=this.GetUserDisplayableErrors(t).indexOf(n)?(this.ResetApp(),e=!0):-1!=this.GetUserDisplayableErrors(t).indexOf(i)&&(this.ShowFaultAlert(i,s.getString("INVALID_AUTHENTICATION_CREDENTIALS_TITLE"),this.ResetApp),e=!0),e},this.HandleSpecialErrors=function(t){if(null!=t&&null!=t.Errors&&0<t.Errors.length)for(var e=0;e<t.Errors.length;e++){var n=t.Errors[e];if(n.CodeString==ConfigConstantUtility.ImpersonationWriteError)return this.ShowFaultAlert(s.getString(n.CodeString)),!0;if(n.CodeString==ConfigConstantUtility.ValidationInProgressError){for(var i=null,r=0;r<n.DataList.length;r++){var a=n.DataList[r];if(a==s.getString(ConfigConstantUtility.DetailedDescriptionDataKey)){i=a;break}}return null==i&&(i=s.getString(n.CodeString)),this.ShowFaultAlert(i,n.Message),!0}}return!1},this.GetUserDisplayableErrors=function(t){var e="";if(null!=t&&null!=t.Errors&&0<t.Errors.length)for(var n=0;n<t.Errors.length;n++){var i=t.Errors[n],r=i.Message,a=r.replace(i.CodeString,s.getString(i.CodeString));e+=r===a?s.getString(i.CodeString)+" "+a+" ":a+" "}return e},this.GetWebServiceFaultDetails=function(t,e){var n="";switch(t.statusText){case"timeout":var i=s.getString("REQUEST_TIMEOUT_BEGIN"),r=e.timeout/1e3,a=1e3!=e.timeout?s.getString("REQUEST_TIMEOUT_SECONDS"):s.getString("REQUEST_TIMEOUT_SECOND");n="REQUEST_TIMEOUT_BEGIN"!==i?i+" "+r+" "+a+".":(a=" second"+(1e3!=e.timeout?"s.":"."),"Request timed out after "+e.timeout+a)}if(""===n){if(n="SERVER_UNAVAILABLE"!=s.getString("SERVER_UNAVAILABLE")?s.getString("SERVER_UNAVAILABLE"):"Server temporarily unavailable. Please retry later.",0!==t.status){n+="<br /><br />Status Code: "+t.status;var o=e.url.indexOf("?");NewRelicWorker.SendActivity("Error: "+t.status+" "+e.url.substring(0,o),1)}null!=t.statusText&&(n+="<br /><br />Fault Detail: "+t.statusText)}return n},this.GenerateErrorMessage=function(t){var e="";if(!$.isEmptyObject(t))for(var n=0;n<t.length;n++){var i=t[n],r=0;$.isEmptyObject(i.InnerErrors)||(r=i.InnerErrors.length),(0===r||0<r&&"VALIDATION_ERROR"!=i.CodeString)&&(e+=this.GenerateSingleErrorMessage(i,0<r)),0<r&&(e+=this.GenerateErrorMessage(i.InnerErrors))}return e},this.GenerateSingleErrorMessage=function(t,e){return(e=void 0!==e&&e)?"PARENT ERROR: "+s.getString(t.CodeString)+"<br /><br />"+t.Message+"<br /><br /><br />":"ERROR: "+s.getString(t.CodeString)+"<br /><br />"+t.Message+"<br /><br /><br />"},this.ShowFaultAlert=function(t,e,n){i.show({message:t,title:e,okCallback:n})},this.ResetApp=function(){t.clear(!1),s.clearResourceStrings(),window.location.reload()},this.HandleFriendlyServiceResponseErrors=function(t){if(null!=t&&!this.HandleSessionTimeout(t)&&!this.HandleAuthenticationIssue(t))return this.GenerateErrorMessage(t.Errors)}}]),angular.module("mainApp.appCommon.utilities.ConfigConstantUtility",[]).service("ConfigConstantUtility",function(){this.ViewAccount="VIEW_ACCOUNT",this.ViewActionItems="VIEW_ACTION_ITEMS",this.ViewAdmin="VIEW_ADMIN",this.ViewBard="VIEW_LEAD_SCORING",this.ViewMessages="VIEW_INVITATION",this.ViewPlay="VIEW_PLAY",this.ViewSales="VIEW_SALES",this.ViewDashboardCenter="VIEW_DASHBOARDCENTER",this.ViewChangePassword="VIEW_CHANGE_PASSWORD",this.ViewProductHierarchy="VIEW_PRODUCTHIERARCHY",this.ActionCenterHash="#ActionCenter",this.SalesListHash="#SalesList",this.PlayListHash="#PlayList",this.LaunchMetricsHash="#LaunchMetrics",this.LaunchRulesHash="#LaunchRules",this.LaunchFiltersHash="#LaunchFilters",this.PlayQuestionsHash="#PlayQuestions",this.HoldoutsHash="#Holdouts",this.ConfigConsoleHash="#ConfigConsole",this.AdminConsoleHash="#AdminConsole",this.UsersHash="#Users",this.UserGroupsHash="#UserGroups",this.AlertsHash="#Alerts",this.PreviewAlertsHash="#PreviewAlerts",this.FileTemplatesHash="#FileTemplates",this.MailTemplatesHash="#MailTemplates",this.FileUploadHash="#FileUpload",this.ExternalDataHash="#ExternalData",this.InvitationsHash="#Invitations",this.ProductHierarchyHash="#ProductHierarchy",this.BardStatusHash="#BardStatus",this.BardConfigHash="#BardConfig",this.BardReportHash="#BardReport",this.BardModelHash="#BardModel",this.DantePlayHash="#DantePlays",this.DantePurchaseTrendsHash="#DantePurchaseTrends",this.DanteCompanyDetailsHash="#DanteCompanyDetails",this.DanteContactsHash="#DanteContacts",this.Play="Play",this.ApprovePlay="Approve_Play",this.DetailedDescriptionDataKey="DetailedDescription",this.ImpersonationWriteError="IMPERSONATION_WRITE_ERROR",this.ValidationInProgressError="VALIDATION_ALREADY_IN_PROGRESS",this.ModelScoreErrorTargetFilterNoTargets="MODELSCORE_TARGET_FILTERS_NO_ACCOUNTS",this.ModelScoreErrorTrainingFilterNoTargets="MODELSCORE_TRAINING_FILTERS_NO_ACCOUNTS",this.SalesHelp="/Help/Sales_Help/index.html",this.PlayHelp="/Help/PlayMaker_Help/index.html",this.AdminHelp="/Help/Admin_Help/index.html",this.ScoreSourceAnalytic="Analytics",this.ScoreSourceUploaded="Uploaded",this.ScoreSourceRuleBased="RuleBased",this.ScoreSourceUnspecified="Unspecified",this.StringShort=150,this.StringInternalName=50,this.FileUploadMaxBytes=4194304,this.NumericFieldMaxLength=9,this.MonetaryFieldMaxLength=12,this.PlayStageDetails="Details",this.PlayStageTargets="Targets",this.PlayStageRules="Rules",this.PlayStageScore="Score",this.PlayStageContent="Content",this.PlayStageComplete="Complete",this.PlayScoreNone="None",this.PlayScoreError="Error",this.PlayScoreCanceled="Canceled",this.PlayScoreProcessing="Processing",this.PlayScoreComplete="Complete",this.Contains="CONTAINS",this.Equal="EQUAL",this.GreaterThan="GREATER_THAN",this.GreaterOrEqual="GREATER_OR_EQUAL",this.LessThan="LESS_THAN",this.LessOrEqual="LESS_OR_EQUAL",this.GreaterThanSymbol=">",this.GreaterOrEqualSymbol="",this.LessThanSymbol="<",this.LessOrEqualSymbol="",this.NotEqual="NOT_EQUAL",this.StartsWith="STARTS_WITH",this.AfterNowOffsetMinutes="AFTER_NOW_OFFSET_MINUTES",this.BeforeNowOffsetMinutes="BEFORE_NOW_OFFSET_MINUTES",this.Ever="EVER",this.Before="BEFORE",this.After="AFTER",this.Between="BETWEEN",this.InCurrentPeriod="IN_CURRENT_PERIOD",this.InSamePeriod="IN_SAME_PERIOD",this.InNextPeriod="IN_NEXT_PERIOD",this.Sum="Sum",this.Each="Each",this.AtLeastOnce="AtLeastOnce",this.Average="Average",this.HavePurchased="HavePurchased",this.HaveNotPurchased="HaveNotPurchased",this.Spent="Spent",this.Units="Units",this.Revenue="Revenue",this.IsNull="IS_NULL",this.IsNotNull="IS_NOT_NULL",this.IsEmpty="IS_EMPTY",this.IsNotEmpty="IS_NOT_EMPTY",this.FilterTargetTypeStandard="STANDARD",this.FilterTargetTypeProductPurchase="PRODUCT_PURCHASE",this.FilterCategoryStatic="STATIC",FilterCategoryTimesSeries="TIMES_SERIES",this.TargetBuildTypeNone="None",this.TargetBuildTypeBuilder="Builder",this.TargetBuildTypeUpload="Upload",this.UploadAccountAndProbabilityList="UploadAccountAndProbabilityList",this.UploadAccountList="UploadAccountList",this.UploadHoldoutList="UploadHoldoutList",this.UploadPlayAccountProducts="UploadPlayAccountProducts",this.FileUploadManagerPlay="PlayAccountList",this.FileUploadManagerPlayAccountProducts="PlayAccountProducts",this.TrainingBuildTypeCopyTargetFilter="CopyTargetFilter",this.TrainingBuildTypeExplicitlyDefined="ExplicitlyDefined",this.TrainingBuildTypeEmpty="Empty",this.EventBuildTypeExplicitlyDefined="ExplicitlyDefined",EventBuildTypeDefaultFilter="DefaultFilter",this.PlaysWithExistingLeads="PlaysWithExistingLeads",this.LeadLaunchDestination={SalesPrism:"salesprism",Salesforce:"salesforce",SalesPrismAndCRM:"salesprism_and_CRM"},this.ExportPlayCustomerList="PlayCustomerListExport",this.ExportPlayCustomerListContacts="PlayCustomerListContactsExport",this.ExportPlayCustomerListWithContacts="PlayCustomerListWithContactsExport",this.ExportHoldoutAccounts="HoldoutAccountsExport",this.LikelihoodScoringMethodProbability="Probability",this.LikelihoodScoringMethodLift="Lift",this.LikelihoodScoringMethodManual="Manual",this.LikelihoodScoringMethodNumValues="NumValues",this.ScoringMethodSuffixLift="x",this.ScoringMethodSuffixProbability="%",this.ModelHealthScoreExcellent="EXCELLENT",this.ModelHealthScoreGood="GOOD",this.ModelHealthScoreAverage="AVERAGE",this.ModelHealthScoreError="ERROR",this.ModelStatusActive="Active",this.ModelStatusInactive="Inactive",this.ComplexFilterType={Training:"TRAINING",Target:"TARGET",Event:"EVENT",RuleBased:"RULE_BASED"},this.SalesprismChangePasswordMethod="./WebLEApplicationServiceHost.svc/RegisterPendingLogAnchorIDs",this.SalesprismPasswordEncryptionType="rsa",this.BardChangePasswordMethod="./BardService.svc/ChangePassword",this.BardChangePasswordUponLoginMethod="./LoginService.svc/ChangePasswordUponLogin",this.SHA256="SHA-256",this.Base64="Base64",this.RSA="rsa",this.rsa={n:"BEB87612E3BBEFCFE80F58578A54D58DA46EB5B34D15D5F1B66F0C6040467D9910B434876F4730EAC92A9618C1B9B69CAFB3C4CA6ABC93ACEB018D8A8FA90E53301E6DA68A2D0E059654F0605769E60E7B366990AB55E65B7489C7A79A38F3CE0ECF26DF51401C16702D5811D354F1ED64B22919EFBE67332022C1AE75FDB5CFDE0CB45761AB9D26AFA301581CF06F76BF99CCF466B98836E6752E162FAEE550BE9ADCE5125063F9FAF37ECB5E206A830CE64B97A362260EF99582B4B1D3A3A2334261EDA281C112B478C32E609EDA9408BC3AD518F7F49C71236947D9F7677FD62655958349894AFD079595A7DC0D835A23D6F06A995C17EA254DE0961710B1",e:"10001"},this.CrmType={None:"None",Salesforce:"Salesforce",Siebel:"Siebel",Oracle:"Oracle"}}),angular.module("mainApp.appCommon.utilities.AuthenticationUtility",["mainApp.appCommon.utilities.URLUtility"]).service("AuthenticationUtility",["URLUtility",function(e){this.AppendHttpHeaders=function(t){if(null!=t)switch(t.defaults.timeout=12e4,e.GetSSOType()){case e.SALESFORCE:null!=e.Directory()&&(t.defaults.headers.common.Directory=e.Directory()),t.defaults.headers.common.sessionid=e.CrmSessionID(),t.defaults.headers.common.authorization="Bearer "+e.CrmSessionID(),t.defaults.headers.common.serverurl=e.CrmServerURL(),t.defaults.headers.common.userlink=e.CrmUser();break;case e.SAML:null!=e.SamlDirectoryValue()&&(t.defaults.headers.common.Directory=e.SamlDirectoryValue()),t.defaults.headers.common.LESAMLUserLookup=e.SamlResponseValue();break;case e.LEA:null!=e.Directory()&&(t.defaults.headers.common.Directory=e.Directory()),t.defaults.headers.common.LEAuthenticatedLookup=e.LeaResponse();break;case e.ORACLE:t.defaults.headers.common.Directory=e.Directory(),t.defaults.headers.common.ssoToken=e.CrmSessionID(),t.defaults.headers.common.hostName=e.CrmServerURL(),t.defaults.headers.common.userlink=e.CrmUser()}}}]),angular.module("mainApp.appCommon.utilities.SortUtility",[]).service("SortUtility",function(){this.MultiSort=function(t,e){if(t instanceof Array&&!(t.length<=0)){var n=typeof t[0];if("boolean"===n||"number"===n||"string"===n)t.sort();else{var i=this.GetCompareFunction(e);"function"==typeof i&&t.sort(i)}}},this.GetCompareFunction=function(l){var t,u=this;return l instanceof Array&&0<l.length&&(t=function(t,e){for(var n=0;n<l.length;n++){var i=l[n],r=i.Name,a=i.IsAscending;"boolean"!=typeof a&&(a=!0);var o=i.CompareFunction,s=u.CompareObjectsByProperty(t,e,r,a,o);if(0!==s)return s}return 0}),t},this.CompareObjectsByProperty=function(t,e,n,i,r){var a=0;if(null==t&&null==e)a=0;else if(null==t)a=-1;else if(null==e)a=1;else{var o=t[n],s=e[n];a=("function"==typeof r?r:this.DefaultCompare)(o,s)}return i?a:-1*a},this.DefaultCompare=function(t,e){return t<e?-1:t==e?0:e<t?1:0},this.ReverseBooleanCompare=function(t,e){return"boolean"!=typeof t||"boolean"!=typeof e?0:t===e?0:!1===t?1:!0===t?-1:void 0}}),angular.module("mainApp.appCommon.utilities.WidgetConfigUtility",[]).service("WidgetConfigUtility",function(){this.ANALYTIC_ATTRIBUTE_LIST_WIDGET="AnalyticAttributeListWidget",this.ANALYTIC_ATTRIBUTE_TILE_WIDGET="AnalyticAttributeTileWidget",this.ARC_CHART_WIDGET="ArcChartWidget",this.COLLAPSIBLE_PANEL_WIDGET="CollapsiblePanelWidget",this.GRID_WIDGET="GridWidget",this.LEAD_DETAILS_TILE_WIDGET="LeadDetailsTileWidget",this.MODEL_DETAILS_WIDGET="ModelDetailsWidget",this.MODEL_LIST_TILE_WIDGET="ModelListTileWidget",this.REPEATER_WIDGET="RepeaterWidget",this.PLAY_DETAILS_TILE_WIDGET="PlayDetailsTileWidget",this.PLAY_LIST_TILE_WIDGET="PlayListTileWidget",this.PURCHASE_HISTORY_WIDGET="PurchaseHistoryWidget",this.RICH_TEXT_WIDGET="RichTextWidget",this.SCREEN_WIDGET="ScreenWidget",this.SCREEN_HEADER_WIDGET="ScreenHeaderWidget",this.TALKING_POINT_WIDGET="TalkingPointWidget",this.TEST_WIDGET="TestWidget",this.TAB_WIDGET="TabWidget",this.THRESHOLD_EXPLORER_WIDGET="ThresholdExplorerWidget",this.ACTIVE_WIDGET_ALL="All",this.ACTIVE_WIDGET_EVEN="Even",this.ACTIVE_WIDGET_FIRST="First",this.ACTIVE_WIDGET_LAST="Last",this.ACTIVE_WIDGET_NONE="None",this.ACTIVE_WIDGET_ODD="Odd",this.GetWidgetConfig=function(t,e){if(null==t)return null;if(null==e||""===e)return null;if(t.ID===e)return t;if(null==t.Widgets)return null;for(var n=0;n<t.Widgets.length;n++){var i=t.Widgets[n],r=this.GetWidgetConfig(i,e);if(null!==r)return r}return null}}),angular.module("mainApp.appCommon.utilities.MetadataUtility",["mainApp.appCommon.utilities.SortUtility"]).service("MetadataUtility",["SortUtility",function(e){this.PropertyType={INTEGER:"Int",INTEGER64:"Int64",DECIMAL:"Decimal",DOUBLE:"Double",BOOL:"Bool",STRING:"String",DATE_TIME_OFFSET:"DateTimeOffset",CURRENCY:"Currency",PROBABILITY:"Probability",PERCENTAGE:"Percentage",EPOCH_TIME:"EpochTime",DATE_TIME:"DateTime",SEGMENT:"Segment"},this.ApplicationContext={Account:"LatticeForAccounts",Lead:"LatticeForLeads",PurchaseHistory:"PurchaseHistory"},this.NotionNames={Lead:"DanteLead",Account:"DanteAccount"},this.GetNotionMetadata=function(t,e){if(null==e||null==e.Notions||0===e.Notions.length||null==t||""===t)return null;for(var n=0;n<e.Notions.length;n++){var i=e.Notions[n];if(t==i.Key)return i.Value}return null},this.GetNotionAssociationMetadata=function(t,e,n){if(null==n||null==t||null==e||""===e)return null;var i=this.GetNotionMetadata(t,n);if(null==i||null==i.Associations)return null;for(var r=0;r<i.Associations.length;r++){var a=i.Associations[r];if(e==a.TargetNotion)return a}return null},this.GetNotionProperty=function(t,e){if(null==e||null==e.Properties||null==t||""===t)return null;for(var n=0;n<e.Properties.length;n++){var i=e.Properties[n];if(t==i.Name)return i}return null},this.GetCompareFunction=function(t){return e.DefaultCompare},this.GetNotionPropertiesOfKeyValue=function(e,n,t){return null==t||null==t.Properties||null==e||""===e?null:t.Properties.filter(function(t){return t[e]===n})}}]),angular.module("mainApp.appCommon.utilities.AnimationUtility",[]).service("AnimationUtility",function(){this.CalculateRgbBetweenValues=function(t,e,n){if(null==t||null==e||null==n||n<0)return null;1<n&&(n/=100);var i=n*t.R+(1-n)*e.R,r=n*t.G+(1-n)*e.G,a=n*t.B+(1-n)*e.B;return{R:i=Math.round(i),G:r=Math.round(r),B:a=Math.round(a)}},this.ConvertSingleRgbToHex=function(t){if(null==t)return null;var e=t.toString(16);return 1==e.length?"0"+e:e},this.ConvertRgbToHex=function(t,e,n){return null==t||null==e||null==n?null:"#"+this.ConvertSingleRgbToHex(t)+this.ConvertSingleRgbToHex(e)+this.ConvertSingleRgbToHex(n)}}),angular.module("mainApp.appCommon.utilities.DateTimeFormatUtility",[]).service("DateTimeFormatUtility",function(){this.OneDayInMS=864e5,this.FormatJsonDateCSharpFormat=function(t,e){var n=this.ParseJsonDate(t),i=this.ConvertCSharpFormat(e);return null==n||isNaN(n)||null==i?"":dateFormat(new Date(n),i)},this.FormatCSharpDate=function(t,e){var n=this.ConvertCSharpDateTimeOffsetToJSDate(t),i=this.ConvertCSharpFormat(e);return null==n||isNaN(n)||null==i?"":dateFormat(new Date(n),i)},this.ConvertCSharpDateTimeOffsetToJSDate=function(t){if(null==t||null==t.DateTime||null==t.OffsetMinutes)return null;var e=t.DateTime,n=e.indexOf("("),i=e.indexOf(")");if(-1===n||-1===i)return null;var r=parseInt(e.substring(n+1,i));return null==r||isNaN(r)?null:new Date(r)},this.CalculateDaysBetweenDates=function(t,e){if(null==t||null==e)return null;var n=e.getTime()-t.getTime();return Math.floor(n/this.OneDayInMS)},this.ParseJsonDate=function(t){var e=$.trim(t);if(0===e.length)return null;var n=e.indexOf("("),i=e.indexOf("-");if(-1==n||-1==i||i<=n)return null;var r=e.substring(n+1,i);return Number(r)},this.ConvertJSDateToCSharpDateTimeOffset=function(t,e){return t instanceof Date?(!0===e?t.setHours(23,59,59,999):!1===e&&t.setHours(0,0,0,0),{DateTime:"/Date("+t.getTime()+")/",OffsetMinutes:-1*t.getTimezoneOffset()}):t},this.ConvertCSharpSimpleDateToJSDate=function(t){return new Date(t.Year,t.Month-1,t.Day)},this.MinutesToHoursAndMinutes=function(t){if(isNaN(t))return null;var e={};return e.Hours=parseInt(t/60),e.Minutes=t%60,e},this.ConvertCSharpFormat=function(t,e){if(null==e)return"m/d/yyyy h:MM tt Z";for(var n=null,i=0;i<dateFormatList.length;i++)if(dateFormatList[i].Key==t){n=dateFormatList[i].Value;break}if(null==n||0===n.length)return null;var r=n.split("");for(i=0;i<r.length;i++)switch(r[i]){case"M":r[i]="m";break;case"m":r[i]="M";break;case"z":r[i]="o";for(var a=i+1;a<r.length;a++)"z"==r[a]&&(r[a]="");break;case"K":r[i]="Z"}return n=r.join("")},this.Now=function(t){var e=this.ConvertCSharpFormat(t);return null==e?"":dateFormat(new Date,e)},this.FormatStringDate=function(t,e){if(e=null!=e&&"boolean"==typeof e&&e,null==t||""===t)return"";var n=new Date(t);return"Invalid Date"==n?"":e?n.toLocaleDateString()+" "+n.toLocaleTimeString():n.toLocaleDateString()},this.FormatEpochDate=function(t){if(null==t||""===t)return"";if(isNaN(t))return"";var e=1e3*parseInt(t),n=new Date;return n.setTime(e),n.toUTCString()},this.Today=function(t){t=null!=t&&"boolean"==typeof t&&t;var e=new Date,n=e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear();if(t){var i=e.getHours(),r="AM";0===i?i=12:12<i&&(i-=12,r="PM"),n+=" "+i+":"+e.getMinutes()+" "+r}return n},this.TodayUTC=function(t){t=null!=t&&"boolean"==typeof t&&t;var e=new Date,n=e.getUTCMonth()+1+"/"+e.getUTCDate()+"/"+e.getUTCFullYear();if(t){var i=e.getUTCHours(),r="AM";0===i?i=12:12<i&&(i-=12,r="PM"),n+=" "+i+":"+e.getUTCMinutes()+" "+r}return n}}),angular.module("common.utilities.number",[]).service("NumberUtility",function(){this.AbbreviateLargeNumber=function(t,e){if(null==t||"number"!=typeof t)return null;e=null!=e&&"number"==typeof e?e:2,e=Math.pow(10,e);for(var n=["K","M","B","T"],i=n.length-1;0<=i;i--){var r=Math.pow(10,3*(i+1));if(r<=t){1e3==(t=Math.round(t*e/r)/e)&&i<n.length-1&&(t=1,i++),t+=n[i];break}}return t},this.RoundNumber=function(t,e){return null==t||"number"!=typeof t?t:(e=null!=e&&"number"==typeof e?e:2,t=t.toString().split("e"),+((t=(t=Math.round(+(t[0]+"e"+(t[1]?+t[1]+e:e)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]-e:-e)))},this.NumberWithCommas=function(t){if(isNaN(t))return null;var e=t.toString().split(".");return e[0].replace(/\B(?=(\d{3})+(?!\d))/g,",")+(e[1]?"."+e[1]:"")}}),angular.module("mainApp.appCommon.utilities.AnalyticAttributeUtility",["mainApp.appCommon.utilities.ResourceUtility","mainApp.appCommon.utilities.DateTimeFormatUtility","common.utilities.number"]).service("AnalyticAttributeUtility",["ResourceUtility","DateTimeFormatUtility","NumberUtility",function(c,a,i){this.ApprovedUsage={None:"None",Model:"Model",ModelAndModelInsights:"ModelAndModelInsights",ModelAndAllInsights:"ModelAndAllInsights",IndividualDisplay:"IndividualDisplay"},this.DataType={String:"STRING",LongString:"LONGSTRING",Date:"DATE",DateTime:"DATETIME",Time:"TIME",Double:"DOUBLE",Float:"FLOAT",Int:"INT",Integer:"INTEGER",Short:"SHORT",Long:"LONG",Boolean:"BOOLEAN",Bit:"BIT",Epoch:"EPOCHTIME"},this.FundamentalType={Email:"EMAIL",Probability:"PROBABILITY",Phone:"PHONE",Enum:"ENUM",URI:"URI",Currency:"CURRENCY",Percent:"PERCENT",Year:"YEAR",Boolean:"BOOLEAN",Numeric:"NUMERIC"},this.FindAttributeMetadataData=function(t,e){if(null==e||null==t||null==t.AttributeMetadata||0===t.AttributeMetadata.length)return null;for(var n=0;n<t.AttributeMetadata.length;n++)if(e.AttributeName==t.AttributeMetadata[n].ColumnName)return t.AttributeMetadata[n];return null},this.FindAttributeBucket=function(t,e){if(null==e||null==t||null==t.Summary||null==t.Summary.Predictors||0===t.Summary.Predictors.length)return null;for(var n=null,i=0;i<t.Summary.Predictors.length;i++)if(e.AttributeName==t.Summary.Predictors[i].Name){n=t.Summary.Predictors[i];break}if(null==n||null==n.Elements||0===n.Elements.length)return null;for(var r=0;r<n.Elements.length;r++){var a=n.Elements[r];if(null!=a.Values&&0<a.Values.length){for(var o=0;o<a.Values.length;o++)if(e.AttributeValue==a.Values[o]||"Yes"===e.AttributeValue&&"1.0"===a.Values[o]||"No"===e.AttributeValue&&"0.0"===a.Values[o]||"0"===e.AttributeValue&&"0.0"===a.Values[o]||"1"===e.AttributeValue&&"1.0"===a.Values[o])return a}else{var s=null!=a.LowerInclusive?parseFloat(a.LowerInclusive):null,l=null!=a.UpperExclusive?parseFloat(a.UpperExclusive):null,u=null!=e.AttributeValue?parseFloat(e.AttributeValue):null;if(s<=u&&(u<l||null==l))return a}}return null},this.FormatBooleanBucketName=function(t){var e=t;return"NA"==t||"N/A"==t||"NULL"==t||"NOT AVAILABLE"==t||-1==parseInt(t)?e="Not Available":"N"==t||"NO"==t||"FALSE"==t||"F"==t||0===parseInt(t)?e="No":"Y"!=t&&"YES"!=t&&"TRUE"!=t&&"T"!=t&&1!=parseInt(t)||(e="Yes"),e},this.GetAttributeBucketName=function(t,e){if(null==t)return"";var n,i,r=null;if(null!=t.Values&&0<t.Values.length)if(null==t.Values[0])r=c.getString("ANALYTIC_ATTRIBUTE_NULL_VALUE_LABEL");else{if(null!=e)if((null!=e.FundamentalType?e.FundamentalType.toUpperCase():null)==this.FundamentalType.Boolean){var a=t.Values[0].toString().toUpperCase();return r=this.FormatBooleanBucketName(a)}for(var o="",s=0;s<t.Values.length;s++){var l=this.FormatBucketValue(t.Values[s],e);""===o?o=l:o+=", "+l}r=o}else if(null!=t.LowerInclusive&&null!=t.UpperExclusive)if(null!=e){var u=null!=e.DataType?e.DataType.toUpperCase():null;r=u==this.DataType.Int||u==this.DataType.Integer?this.FormatIntegerBucket(t.LowerInclusive,t.UpperExclusive,e):(n=this.FormatBucketValue(t.LowerInclusive,e),i=this.FormatBucketValue(t.UpperExclusive,e),c.getString("ANALYTIC_ATTRIBUTE_CONTINUOUS_BETWEEN_LABEL",[n,i]))}else n=this.FormatBucketValue(t.LowerInclusive,e),i=this.FormatBucketValue(t.UpperExclusive,e),r=c.getString("ANALYTIC_ATTRIBUTE_CONTINUOUS_BETWEEN_LABEL",[n,i]);else r=null==t.LowerInclusive&&null==t.UpperExclusive?c.getString("ANALYTIC_ATTRIBUTE_ALL_VALUES_LABEL"):null!=t.LowerInclusive?(n=this.FormatBucketValue(t.LowerInclusive,e),c.getString("ANALYTIC_ATTRIBUTE_GREATER_THAN_LABEL",[n])):(i=this.FormatBucketValue(t.UpperExclusive,e),c.getString("ANALYTIC_ATTRIBUTE_LESS_THAN_LABEL",[i]));return r},this.FormatIntegerBucket=function(t,e,n){if(e-t<=1)return t;var i=this.FormatBucketValue(t,n),r=this.FormatBucketValue(e-1,n);return c.getString("ANALYTIC_ATTRIBUTE_CONTINUOUS_BETWEEN_LABEL",[i,r])},this.AbbreviateNumber=function(t,e){var n=parseFloat(t);return isNaN(n)?t:e==this.FundamentalType.Year?n:0===n?n:n<1?n.toFixed(2):n<1e3&&n%1!=0?n.toFixed(1):i.AbbreviateLargeNumber(n,1)},this.FormatBucketValue=function(t,e){if(null==t||null==e)return t;var n,i=null!=e.FundamentalType?e.FundamentalType.toUpperCase():null;if(i==this.FundamentalType.Year||i==this.FundamentalType.Currency||i==this.FundamentalType.Numeric||i==this.FundamentalType.Percent){var r=this.AbbreviateNumber(t,i);return i==this.FundamentalType.Currency?c.getString("CURRENCY_SYMBOL")+r:i==this.FundamentalType.Percent?r+"%":r}switch(null!=e.DataType?e.DataType.toUpperCase():null){case this.DataType.Double:case this.DataType.Int:case this.DataType.Integer:case this.DataType.Short:case this.DataType.Long:case this.DataType.Float:n=this.AbbreviateNumber(t,i);break;case this.DataType.Date:n=a.FormatStringDate(t,!1);break;case this.DataType.DateTime:case this.DataType.Time:n=a.FormatStringDate(t,!0);break;case this.DataType.Boolean:case this.DataType.Bit:n=this.FormatBooleanValueForDisplay(t);break;case this.DataType.Epoch:n=a.FormatEpochDate(t);break;default:n=t}return n},this.SortAttributeList=function(t,e){return null==t||0===t.length||(!1===e?t.sort(function(t,e){return t.Lift-e.Lift<0?-1:t.Lift-e.Lift==0?0:0<t.Lift-e.Lift?1:0}):t.sort(function(t,e){return e.Lift-t.Lift<0?-1:e.Lift-t.Lift==0?0:0<e.Lift-t.Lift?1:0})),t},this.FormatLift=function(t){return null==t||"number"!=typeof t?null:0===t?"0":t.toFixed(1)},this.ShouldShowNullBucket=function(t,e){if(null==t)return!1;if(e=null!=e?parseFloat(e):100,null!=t.Values&&0<t.Values.length)for(var n=0;n<t.Values.length;n++)if(null==t.Values[n]&&t.Lift<=e)return!1;return!0},this.ShowBasedOnTags=function(t,e){if(null==t||null==e)return!1;null==e.Tags&&(e.Tags=[]);var n=!0;if(null!=t.RequiredTags)for(var i=0;i<t.RequiredTags.length;i++){for(var r=t.RequiredTags[i],a=!1,o=0;o<e.Tags.length;o++)if(r==e.Tags[o]){a=!0;break}if(!a){n=!1;break}}var s=!1;if(null!=t.ExcludedTags)for(var l=0;l<t.ExcludedTags.length;l++)for(var u=t.ExcludedTags[l],c=0;c<e.Tags.length;c++)if(u==e.Tags[c]){s=!0;break}return!s&&!(null!=t.RequiredTags&&!n)},this.IsApprovedForUsage=function(t,e){if(null==t||null==e||null==e.ApprovedUsage)return!1;for(var n=0;n<e.ApprovedUsage.length;n++)if(e.ApprovedUsage[n]==t)return!0;return!1},this.IsAllowedForInsights=function(t){return null!=t&&null!=t.ApprovedUsage&&0!==t.ApprovedUsage.length&&(!0===this.IsApprovedForUsage(this.ApprovedUsage.ModelAndAllInsights,t)||!0===this.IsApprovedForUsage(this.ApprovedUsage.IndividualDisplay,t))},this.FormatBooleanValueForDisplay=function(t){return null===t||""===t||void 0===t?"":("boolean"!=typeof t&&"number"!=typeof t||(t=t.toString()),"1"==(t=t.toUpperCase())||"TRUE"===t?c.getString("BOOLEAN_TRUE_DISPLAY_LABEL"):"0"==t||"FALSE"===t?c.getString("BOOLEAN_FALSE_DISPLAY_LABEL"):"")},this.GetAttributeList=function(t,e,n,i){return t.length+e.length<=n?t.concat(e):80<=i?this.PopulateGroomedAttributeList(t,e,n,5):60<=i?this.PopulateGroomedAttributeList(t,e,n,4):40<=i?this.PopulateGroomedAttributeList(t,e,n,3):this.PopulateGroomedAttributeList(t,e,n,0)},this.PopulateGroomedAttributeList=function(t,e,n,i){var r=[];if(n<i)return r;if(t.length<=i)for(var a=(r=t).length,o=0;o<n-a&&o<e.length;o++)r.push(e[o]);else{e.length<n-i&&(i=Math.min(n-e.length,t.length));for(var s=0;s<i;s++)r.push(t[s]);for(var l=0;l<n-i;l++)r.push(e[l])}return r},this.GetLeadCount=function(t){return t.Summary.DLEventTableData.SourceRowCount}}]),angular.module("mainApp.appCommon.utilities.StringUtility",[]).service("StringUtility",function(){this.IsEmptyString=function(t){var e=!0;return null!=t&&""!==t.trim()&&(e=!1),e}}),angular.module("mainApp.appCommon.utilities.PurchaseHistoryUtility",["common.utilities.number","mainApp.appCommon.utilities.ResourceUtility"]).service("PurchaseHistoryUtility",["NumberUtility","ResourceUtility",function(n,i){var c={M:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Q:["1","2","3","4"]};this.periodToMomentFormat={D:"YYYY MMM DD",M:"YYYY MMM",Q:"YYYY Q",Y:"YYYY"},this.formatNumber=function(t,e){return t=Math.ceil(t),!0===e?1e6<=t?n.AbbreviateLargeNumber(t,2):n.AbbreviateLargeNumber(t,1):n.NumberWithCommas(t)},this.formatDollar=function(t,e){return(t<0?"- ":"")+i.getString("CURRENCY_SYMBOL")+this.formatNumber(Math.abs(t),e)},this.formatPercent=function(t){return"number"!=typeof t?null:(0===(t=Math.round(10*t)/10)?0:t.toFixed(1))+"%"},this.periodIdComparator=function(t,e){return new Date(t)-new Date(e)},this.getPrevYearPeriod=function(t){if(t){var e=t.split(" ");return e[0]=parseInt(e[0])-1,isNaN(e[0])?t:e.join(" ")}},this.convertPeriodOffsetToDate=function(t,e,n){var i;switch(t){case"D":i="days";break;case"M":i="months";break;case"Q":i="quarters";break;case"Y":i="years";break;default:i="days"}return moment.utc(1e3*e).add(n,i)},this.isValidPeriodId=function(t,e){if(!t||!e)return!1;var n=e.split(" "),i=parseInt(n[0]),r=c[t];return!!r&&!(!i||i>(new Date).getFullYear()||-1===r.indexOf(n[1]))},this.formatDisplayPeriodId=function(t,e,n){var i=e.split(" "),r=i[1];switch(r+=" ",r+=n?i[0]:"'"+i[0].substring(2,4),t){case"M":return r;case"Q":return"Q"+r}},this.getAdjacentPeriodId=function(t,e,n){var i=e.split(" "),r=parseInt(i[0]);if(!r)return null;var a=c[t];if(!a)return null;var o=a.indexOf(i[1]),s=n?-1:1,l=n?a.length-1:0;return o===(n?0:a.length-1)?r+s+" "+a[l]:-1<o?r+" "+a[o+s]:null},this.getNextPeriodId=function(t,e){return this.getAdjacentPeriodId(t,e,!1)},this.getPrevPeriodId=function(t,e){return this.getAdjacentPeriodId(t,e,!0)},this.getPeriodRange=function(t,e,n){if(!t||!this.isValidPeriodId(t,e)||!this.isValidPeriodId(t,n))return[];if(0<this.periodIdComparator(e,n))return[];var i=c[t];if(!i)return[];var r=e.split(" "),a=parseInt(r[0]),o=c[t].indexOf(r[1]);if(-1===o)return[];for(var s=[],l=i.length,u=null;u!==n;)u=a+" "+i[o],s.push(u),o++==l-1&&(o=0,a++);return s},this.getQuarterFromPeriodId=function(t,e){switch(t){case"M":return moment(new Date(e+" 1")).format(this.periodToMomentFormat.Q);case"Q":return e}},this.getPrevQuarterPeriod=function(t,e){var n,i=e.split(" "),r=parseInt(i[0]);switch(t){case"M":return n=this.getQuarterFromPeriodId(t,e),this.getPrevQuarterPeriod("Q",n);case"Q":if((n=parseInt(i[1]))&&r){var a=1<n?n-1:4;return(r=4===a?r-1:r)+" "+a}return}}}]),angular.module("mainApp.appCommon.modals.SimpleModal",["mainApp.appCommon.utilities.ResourceUtility"]).service("SimpleModal",["ResourceUtility",function(r){this.show=function(t,e){var n={showCloseButton:!0,height:250,width:500,title:"",message:"",okButtonLabel:r.getString("BUTTON_OK_LABEL")};angular.extend(n,t);var i=$("<div></div>");i.html(n.message),i.dialog({height:n.height,width:n.width,autoOpen:!1,closeOnEscape:!1,modal:!0,title:n.title,dialogClass:!0===n.showCloseButton?"":"no-close-button",buttons:[{text:n.okButtonLabel,click:function(){null!=e&&"function"==typeof e&&e(),i.dialog("close")}}],close:function(t,e){i.remove()}}),i.dialog("open")}}]),angular.module("mainApp.appCommon.services.WidgetFrameworkService",["mainApp.appCommon.utilities.WidgetConfigUtility","mainApp.appCommon.utilities.MetadataUtility","mainApp.appCommon.widgets.RepeaterWidget","mainApp.appCommon.widgets.ScreenWidget","mainApp.appCommon.widgets.ArcChartWidget","mainApp.appCommon.widgets.CollapsiblePanelWidget","mainApp.appCommon.widgets.ScreenHeaderWidget","mainApp.appCommon.widgets.TabWidget"]).service("WidgetFrameworkService",["$compile","$rootScope","WidgetConfigUtility","MetadataUtility",function(n,i,c,d){this.CreateWidget=function(t){if(null!=t&&null!=t.element&&null!=t.widgetConfig){var e=i.$new();switch(e.data=t.data,e.parentData=t.parentData,e.metadata=t.metadata,e.widgetConfig=t.widgetConfig,e.element=t.element,e.isActive=t.isActive,t.widgetConfig.Type){case c.ANALYTIC_ATTRIBUTE_LIST_WIDGET:n(t.element.html("<div data-analytic-attribute-list-widget></div>"))(e);break;case c.ANALYTIC_ATTRIBUTE_TILE_WIDGET:n(t.element.html("<div data-analytic-attribute-tile-widget></div>"))(e);break;case c.ARC_CHART_WIDGET:n(t.element.html("<div data-arc-chart-widget></div>"))(e);break;case c.COLLAPSIBLE_PANEL_WIDGET:n(t.element.html("<div data-collapsible-panel-widget></div>"))(e);break;case c.GRID_WIDGET:break;case c.LEAD_DETAILS_TILE_WIDGET:n(t.element.html("<div data-lead-details-tile-widget></div>"))(e);break;case c.MODEL_DETAILS_WIDGET:n(t.element.html("<div data-model-details-widget></div>"))(e);break;case c.MODEL_LIST_TILE_WIDGET:n(t.element.html("<div data-model-list-tile-widget></div>"))(e);break;case c.PLAY_DETAILS_TILE_WIDGET:n(t.element.html("<div data-play-details-tile-widget></div>"))(e);break;case c.PLAY_LIST_TILE_WIDGET:n(t.element.html("<div data-play-list-tile-widget></div>"))(e);break;case c.REPEATER_WIDGET:n(t.element.html("<div data-repeater-widget></div>"))(e);break;case c.SCREEN_WIDGET:n(t.element.html("<div data-screen-widget></div>"))(e);break;case c.SCREEN_HEADER_WIDGET:n(t.element.html("<div data-screen-header-widget></div>"))(e);break;case c.TALKING_POINT_WIDGET:n(t.element.html("<div data-talking-point-widget></div>"))(e);break;case c.TAB_WIDGET:n(t.element.html("<div data-tab-widget></div>"))(e);break;case c.TEST_WIDGET:break;case c.THRESHOLD_EXPLORER_WIDGET:n(t.element.html("<div data-threshold-explorer-widget></div>"))(e);break;case c.PURCHASE_HISTORY_WIDGET:n(t.element.html("<div data-purchase-history-widget></div>"))(e);break;default:return}}},this.CreateChildWidgets=function(t,e){var n=t.widgetConfig.Columns||1;this.CreateChildWidgetsInColumnLayout(t,e,n)},this.CreateChildWidgetsInColumnLayout=function(i,r,t){var a=this;if(null!=i&&null!=i.widgetConfig){var o=i.widgetConfig.Widgets;null!=o&&a.CreateWidgetsInColumnLayout(i.element,o.length,t,function(t,e,n){a.CreateChildWidget(i,t,o,r,e,n)})}},this.CreateWidgetsInColumnLayout=function(t,e,n,i){var r=1!==n&&"number"==typeof n,a="layout-column";r&&this.CreateLayoutColumnHtml(t,n,a);for(var o=Math.floor(e/n),s=e%n,l=0,u=0,c=0;c<e;c++){var h=$("<div></div>");r?(o<=u&&(0<s&&u==o?s--:(l++,u=0)),u++,this.AddItemToColumn(t,a,l,h)):this.AddItemToElement(t,h),"function"==typeof i&&i(h,e,c)}},this.CreateLayoutColumnHtml=function(t,e,n){for(var i=100/e,r=0;r<e;r++){var a=$('<div class="float-left '+n+" "+n+"-"+r+'"></div>');$(t).append(a),a.css("width",i+"%")}},this.AddItemToColumn=function(t,e,n,i){var r=$(t).find("."+e+"-"+n);$(r).append(i)},this.AddItemToElement=function(t,e){$(t).append(e)},this.CreateChildWidget=function(t,e,n,i,r,a){var o=n[a],s=this.GetChildDataAtIndex(i,r,a),l=t.isActive;this.CreateWidget({scope:t.scope,element:e,widgetConfig:o,metadata:t.metadata,data:s,parentData:t.parentData,isActive:l})},this.IsChildActive=function(t,e,n){if(!Array.isArray(t))return!0;var i=-1!==t.indexOf(c.ACTIVE_WIDGET_ALL),r=-1!==t.indexOf(c.ACTIVE_WIDGET_EVEN),a=-1!==t.indexOf(c.ACTIVE_WIDGET_FIRST),o=-1!==t.indexOf(c.ACTIVE_WIDGET_LAST),s=-1!==t.indexOf(c.ACTIVE_WIDGET_NONE),l=-1!==t.indexOf(c.ACTIVE_WIDGET_ODD),u=!1;return i?u=!0:s?u=!1:r||a||o||l?(r&&(u=u||(e+1)%2==0),a&&(u=u||0===e),o&&(u=u||e===n-1),l&&(u=u||(e+1)%2!=0)):u=!0,u},this.GetChildDataAtIndex=function(t,e,n){return t instanceof Array&&t.length===e?t[n]:t},this.GetSortProperties=function(t,e){if(null==t)return[];var n=t.Sorts;if(!(n instanceof Array))return[];if(null==e)return[];for(var i=d.GetNotionMetadata(t.TargetNotion,e),r=[],a=0;a<n.length;a++){var o=n[a];if(null!=o){var s=o.Property,l=o.IsAscending,u=d.GetNotionProperty(s,i),c=null!=u?u.PropertyTypeString:null,h={Name:s,IsAscending:l,CompareFunction:d.GetCompareFunction(c)};r.push(h)}}return r}}]),angular.module("mainApp.appCommon.services.PlayTileService",["mainApp.appCommon.utilities.ResourceUtility","mainApp.appCommon.utilities.MetadataUtility","mainApp.appCommon.utilities.DateTimeFormatUtility","common.utilities.number"]).service("PlayTileService",["ResourceUtility","MetadataUtility","DateTimeFormatUtility","NumberUtility",function(b,_,w,C){this.GetTileData=function(t,e,n,a){if(null==t||null==e||null==n)return{};var o={ID:null,Name:"",Lift:null,LiftDisplayKey:null,ActiveDays:null,ActiveDaysDisplayKey:null,Revenue:null,RevenueDisplayKey:null,Objective:"",PlayType:"",IsActive:!0,CrmId:null},i=_.GetNotionMetadata(e.Notion,n),r=_.GetNotionProperty(e.IdProperty,i);null!=r&&(o.ID=t[r.Name]||null);var s=_.GetNotionProperty(e.NameProperty,i);null!=s&&s.PropertyTypeString==_.PropertyType.STRING&&(o.Name=t[s.Name]||"");var l=_.GetNotionProperty(e.LiftProperty,i);null!=l&&l.PropertyTypeString==_.PropertyType.DOUBLE&&(o.Lift=t[l.Name]||null,null!=o.Lift&&(o.Lift=o.Lift.toPrecision(2),o.Lift+="x",o.LiftDisplayKey=b.getString(l.DisplayNameKey)));var u=_.GetNotionProperty(e.LaunchDateProperty,i);if(null!=u){o.ActiveDaysDisplayKey=b.getString(u.DisplayNameKey);var c,h=t[u.Name]||null;if(null!=h)if(u.PropertyTypeString==_.PropertyType.DATE_TIME_OFFSET)c=w.ConvertCSharpDateTimeOffsetToJSDate(h),o.ActiveDays=w.CalculateDaysBetweenDates(c,new Date);else if(u.PropertyTypeString==_.PropertyType.EPOCH_TIME){var d=1e3*parseInt(h);(c=new Date).setTime(d),o.ActiveDays=w.CalculateDaysBetweenDates(c,new Date)}}0===o.ActiveDays&&(o.ActiveDays=1);var p=_.GetNotionProperty(e.RevenueProperty,i);if(null!=p&&p.PropertyTypeString==_.PropertyType.CURRENCY){var f=t[p.Name]||null;null!=f&&(o.Revenue=C.AbbreviateLargeNumber(f),o.RevenueDisplayKey=b.getString(p.DisplayNameKey))}var g=_.GetNotionProperty(e.ObjectiveProperty,i);null!=g&&g.PropertyTypeString==_.PropertyType.STRING&&(o.Objective=t[g.Name]||"",null!=o.Objective&&"string"==typeof o.Objective&&140<o.Objective.length&&(o.Objective=o.Objective.substring(0,140)+"..."));var m=_.GetNotionProperty(e.PlayTypeProperty,i);null!=m&&(o.PlayType=t[m.Name]||null);var v=_.GetNotionProperty(e.CrmIdProperty,i);if(null!=v)if(o.CrmId=t[v.Name],null==o.CrmId)null!=a&&"function"==typeof a&&a(o);else{var y="IsLeadActiveEvent="+o.CrmId;window.parent.postMessage(y,"*"),window.addEventListener("message",function(t){if(t&&-1!==t.data.indexOf("IsLeadActiveReturnEvent="+o.CrmId)){var e=t.data.indexOf("?"),n=null!=t.data?t.data.substring(e+1,t.data.length):null;if(null!=n){var i=n.indexOf("="),r=n.substring(i+1,n.length);o.IsActive="true"===r}null!=a&&"function"==typeof a&&a(o)}})}else null!=a&&"function"==typeof a&&a(o)}}]),angular.module("mainApp.appCommon.services.PurchaseHistoryService",["mainApp.appCommon.utilities.PurchaseHistoryUtility","mainApp.appCommon.utilities.MetadataUtility","mainApp.appCommon.factory.ProductTotalFactory","mainApp.appCommon.factory.ProductTreeFactory"]).service("PurchaseHistoryService",["ProductTree","ProductTotal","MetadataUtility","PurchaseHistoryUtility",function(s,y,u,x){var b=["M","Q"];this.createProductTree=function(t){var e,n,i,r=new s("root",[]);for(var a in t){i=r,n=this.getProductFromHierarchyId(t,a);for(var o=0;o<n.length&&null!==(e=n[o]);o++)i=i.nodes[e]?i.nodes[e]:i.addNode(new s(e,n.slice(0,o+1)))}return r},this.mapProductHierarchyToId=function(t){return t.reduce(function(t,e){return t[e.ProductHierarchyID]=e,t},{})},this.getProductFromHierarchyId=function(t,e){var n=t[e];if(!n)return[];for(var i,r=[],a=1;a<4&&null!==(i=n["Level"+a+"Name"]);a++)r.push(i);return r},this.getProductHierarchyIdFromProduct=function(t,e){var n,i,r=0;for(var a in t){r=0,n=t[a];for(var o=0;o<3;o++)i=n["Level"+(o+1)+"Name"],e[o]===i?r++:void 0===e[o]&&null===i&&r++;if(3===r)return a}return null},this.constructPurchaseHistory=function(t,e,n,i,r){var a,o,s,l,u,c,h=e.PurchaseHistoryAttributes,d=e.Period,p=e.PeriodStartDate,f=b.indexOf(d);f=-1===f?0:f;for(var g=0;g<h.length;g++)if(a=h[g],s=this.getProductFromHierarchyId(n,a.ProductHierarchyID),o=t.getNode(s)){l=x.convertPeriodOffsetToDate(d,p,a.PeriodOffset);for(var m=f;m<b.length;m++)u=b[m],c=l.format(x.periodToMomentFormat[u]),o.data[u]||(o.data[u]={}),o.data[u][c]||(o.data[u][c]={}),o.data[u][c][i]||(o.data[u][c][i]=new y(r)),o.data[u][c][i].aggregate(a)}x.periodToMomentFormat.M;var v=new Date(1e3*p);return t.periodStartDate=t.periodStartDate&&v>t.periodStartDate?t.periodStartDate:v,this.depthFirstAggregate(t,i),t},this.depthFirstAggregate=function(t,e){var n,i,r=t.nodes,a=t.data;for(var o in r){n=r[o],this.depthFirstAggregate(n,e);for(var s=0;s<b.length;s++)for(var l in a[i=b[s]]||(a[i]={}),n.data[i])a[i][l]||(a[i][l]={}),n.data[i][l][e]&&(a[i][l][e]||(a[i][l][e]=new y(n.data[i][l][e].RepresentativeAccounts)),a[i][l][e].aggregate(n.data[i][l][e]))}},this.getYoyStat=function(t){var e=null;return 0<t?e="increase":t<0&&(e="decrease"),e},this.getSpendDiff=function(t,e){var n=null;return null!==t&&null!==e?n=t-e:null!==t?n=t:null!==e&&(n=-e),n},this.getPeriodDataFromProduct=function(t,e,n,i,r){var a=null,o=null,s=null,l=null,u=null,c=t.data;if(!c[e])return{periodId:n,accountTotalSpend:a,accountPrevYearSpend:o,accountQuarterTotalSpend:s,accountPrevQuarterTotalSpend:l,segmentAverageSpend:u};var h=c[e][n];if(h){var d=h[i];d&&(a=d.TotalSpend);var p=h[r];p&&(u=p.AverageSpend)}var f=x.getPrevYearPeriod(n),g=c[e][f];if(g){g[r];var m=g[i];m&&(o=m.TotalSpend)}var v=x.getQuarterFromPeriodId(e,n);if(v){var y=c.Q[v];if(y){var b=y[i];b&&(s=b.TotalSpend)}var _=x.getPrevQuarterPeriod("Q",v),w=c.Q[_];if(w){var C=w[i];C&&(l=C.TotalSpend)}}var S=this.getSpendDiff(a,o);return{periodId:n,yoyStat:this.getYoyStat(S),yoyDiff:S,accountTotalSpend:a,accountPrevYearSpend:o,accountQuarterTotalSpend:s,accountPrevQuarterTotalSpend:l,segmentAverageSpend:u}},this.constructProduct=function(s,l,u,c,t){var h=this,d=null,p=null,f=null,e=t.map(function(t){var e=h.getPeriodDataFromProduct(s,c,t,l,u),n=e.accountTotalSpend,i=e.accountPrevYearSpend,r=e.segmentAverageSpend,a=e.accountQuarterTotalSpend,o=e.accountPrevQuarterTotalSpend;return null!==n&&(d=+d+n),null!==i&&(p=+p+i),null!==r&&(f=+f+r),{periodId:t,yoyStat:e.yoyStat,accountTotalSpend:n,accountPrevYearSpend:i,segmentAverageSpend:r,accountQuarterTotalSpend:a,accountPrevQuarterTotalSpend:o}}),n=h.getSpendDiff(d,p),i=h.getYoyStat(n),r=h.getSpendDiff(d,f);return{displayName:s.displayName,periods:e,yoyStat:i,yoyDiff:n,segmentDiff:r,accountProductTotalSpend:d,accountProductTotalPrevYearSpend:p,segmentProductTotalAverageSpend:f,hasChildren:s.hasChildren()}},this.constructProducts=function(t,e,n,i,r){var a=this,o=t.nodes;return Object.keys(o).map(function(t){return a.constructProduct(o[t],e,n,i,r)})},this.filterAccountSegmentProperties=function(t,e){var n={};for(var i in e)t[i]&&(n[i]=e[i]);return n},this.getAccountSegments=function(t,e,n){var r=this,i=u.GetNotionMetadata("DanteAccount",t);if(null==i||null==i.Properties)return null;var a=u.GetNotionPropertiesOfKeyValue("PropertyTypeString",u.PropertyType.SEGMENT,i);if(null==a)return null;var o={};a.forEach(function(t){o[t.Name]=t});var s=r.filterAccountSegmentProperties(o,e),l=[];return 0<Object.keys(s).length&&n.forEach(function(t){var e=r.filterAccountSegmentProperties(o,t),n=0<Object.keys(e).length;for(var i in e)if(e[i]!==s[i]){n=!1;break}n&&l.push({segmentName:t.DisplayName,segmentAccountId:t.BaseExternalID,representativeAccounts:t.RepresentativeAccounts})}),l}}]),angular.module("mainApp.appCommon.services.PurchaseHistoryTooltip",[]).service("PurchaseHistoryTooltip",["$filter",function(n){var a=this;this.show=function(t,e,n){var i=e.target.offsetLeft-t.outerWidth()/2+e.target.clientWidth/2,r=e.target.offsetTop-t.outerHeight()-20;t.html(a.template(n)),t.css({left:i,top:r}),t.addClass("active")},this.hide=function(t){t.removeClass("active")},this.template=function(t){var e="";return e+='<li><span>Spend</span><span class="float-right">'+n("formatDollar")(t.accountTotalSpend)+"</span></li>",e+='<li><span>Last Year Spend</span><span class="float-right">'+n("formatDollar")(t.accountPrevYearSpend)+"</span></li>",e+="<li><hr></li>",e+='<li><span>Quarterly Spend</span><span class="float-right">'+n("formatDollar")(t.accountQuarterTotalSpend)+"</span></li>",e+='<li><span>Last Quarter</span><span class="float-right">'+n("formatDollar")(t.accountPrevQuarterTotalSpend)+"</span></li>"}}]),angular.module("mainApp.appCommon.factory.ProductTreeFactory",[]).factory("ProductTree",function(){var t=function(t,e){this.displayName=t,this.levelsId=e,this.nodes={},this.data={},this.descendants={},this.expanded=!1};return t.prototype.hasChildren=function(){return 0<Object.keys(this.nodes).length},t.prototype.hasData=function(){return!!this.data&&0<Object.keys(this.data).length},t.prototype.addNode=function(t){return this.nodes[t.displayName]=t,this.nodes[t.displayName]},t.prototype.getNode=function(t){if(!Array.isArray(t)||0===t.length)return this;for(var e=this,n=0;n<t.length&&e;n++)e=e.nodes[t[n]]?e.nodes[t[n]]:null;return e},t.prototype.depthFirstTraversal=function(t,e){e=e||function(){return!0};var n,i=this.nodes;if(e(n)){if(angular.isArray(i))for(var r=0;r<i.length;r++)(n=i[r]).depthFirstTraversal(t,e);else if(angular.isObject(i))for(var a in i)(n=i[a]).depthFirstTraversal(t,e);t(this)}},t.prototype.expandAll=function(){this.depthFirstTraversal(function(t){t.expanded=!0})},t.prototype.collapseAll=function(){this.depthFirstTraversal(function(t){t.expanded=!1})},t.prototype.toggleExpand=function(){this.expanded=!this.expanded,this.expanded||this.collapseAll()},t.prototype.searchTreeDescendants=function(t){if(!t)return!0;var e=function(t,e){return-1<t.toLowerCase().indexOf(e.toLowerCase())};if(e(this.displayName,t))return!0;for(var n in this.descendants)if(e(n,t))return!0;return!1},t}),angular.module("mainApp.appCommon.factory.ProductTotalFactory",["mainApp.appCommon.utilities.ConfigConstantUtility"]).factory("ProductTotal",["ConfigConstantUtility",function(t){var e=function(t){this.RepresentativeAccounts=t||1,this.TotalSpend=0,this.TotalVolume=0,this.TransactionCount=0,this.AverageSpend=0};return e.prototype.aggregate=function(t){this.TotalVolume+=t.TotalVolume,this.TotalSpend+=t.TotalSpend,this.TransactionCount+=t.TransactionCount,this.AverageSpend=this.TotalSpend/this.RepresentativeAccounts},e}]),angular.module("mainApp.appCommon.utilities.WidgetEventConstantUtility",[]).service("WidgetEventConstantUtility",function(){this.PLAY_DETAILS_TAB_CLICKED="PlayDetailsTabClickedEvent"}),angular.module("mainApp.appCommon.widgets.ScreenWidget",["mainApp.appCommon.services.WidgetFrameworkService"]).controller("ScreenWidgetController",["$scope","$element","WidgetFrameworkService",function(t,e,n){var i=t.widgetConfig,r=t.metadata,a=t.data,o=t.parentData,s=$("<div></div>");$(e).append(s);var l={element:s,widgetConfig:i,metadata:r,data:a,parentData:o};n.CreateChildWidgets(l,t.data)}]).directive("screenWidget",function(){return{templateUrl:"app/AppCommon/widgets/screenWidget/ScreenWidgetTemplate.html"}}),angular.module("mainApp.appCommon.widgets.ScreenHeaderWidget",["mainApp.appCommon.utilities.MetadataUtility","mainApp.appCommon.services.WidgetFrameworkService"]).controller("ScreenHeaderWidgetController",["$scope","MetadataUtility","WidgetFrameworkService",function(t,e,n){var i=t.widgetConfig,r=t.metadata,a=t.data,o=e.GetNotionMetadata(i.Notion,r),s=e.GetNotionProperty(i.TitleProperty,o);null!=s&&(t.title=a[s.Name]||"");var l=e.GetNotionProperty(i.SubtitleProperty,o);null!=l&&(t.subtitle=a[l.Name]||"")}]).directive("screenHeaderWidget",function(){return{templateUrl:"app/AppCommon/widgets/screenHeaderWidget/ScreenHeaderWidgetTemplate.html"}}),angular.module("mainApp.appCommon.widgets.RepeaterWidget",["mainApp.appCommon.utilities.MetadataUtility","mainApp.appCommon.utilities.SortUtility","mainApp.appCommon.services.WidgetFrameworkService"]).controller("RepeaterWidgetController",["$scope","$element","$q","MetadataUtility","SortUtility","WidgetFrameworkService",function(t,e,n,i,r,s){var l=t.widgetConfig,u=t.metadata,c=t.data,h=t.parentData,d=null,a=i.GetNotionAssociationMetadata(l.Notion,l.TargetNotion,u);if(null==u||null!=a&&null!=c[a.Name]){d=null==u?h:c[a.Name];var o=s.GetSortProperties(l,u);r.MultiSort(d,o);var p=d.length,f=l.Columns||1;s.CreateWidgetsInColumnLayout(e,p,f,function(t,e,n){var i=l.ActiveWidgets,r=s.IsChildActive(i,n,d.length),a={element:t,widgetConfig:l,metadata:u,data:c,parentData:h,isActive:r},o=d[n];s.CreateChildWidgetsInColumnLayout(a,o,1)})}}]).directive("repeaterWidget",function(){return{templateUrl:"app/AppCommon/widgets/repeaterWidget/RepeaterWidgetTemplate.html"}}),angular.module("mainApp.appCommon.widgets.LeadDetailsTileWidget",["mainApp.appCommon.utilities.ResourceUtility","mainApp.appCommon.utilities.WidgetConfigUtility","common.utilities.browserstorage","mainApp.appCommon.services.WidgetFrameworkService"]).controller("LeadDetailsTileWidgetController",["$scope","ResourceUtility","WidgetConfigUtility","BrowserStorageUtility","WidgetFrameworkService",function(t,e,n,i,r){var a=t.widgetConfig,o=a.ActiveWidgets;t.header=e.getString("DANTE_LEAD_TILE_HEADER");var s=i.getCrmCustomSettings();if(null!=s&&null!=s.ShowScore&&(o=!0===s.ShowScore?[n.ACTIVE_WIDGET_ALL]:[n.ACTIVE_WIDGET_NONE]),void 0!==o&&-1===o[0].indexOf(n.ACTIVE_WIDGET_NONE)){var l=t.metadata,u=t.data,c={element:$(".js-dante-lead-tile-score",t.element),widgetConfig:a,metadata:l,data:u};r.CreateChildWidgets(c,t.data)}else t.style=function(){return{"line-height":"160px"}},t.style2=function(){return{"margin-top":"-120px"}}}]).directive("leadDetailsTileWidget",["$compile",function(t){return{templateUrl:"app/AppCommon/widgets/leadDetailsTileWidget/LeadDetailsTileWidgetTemplate.html"}}]),angular.module("mainApp.appCommon.widgets.ArcChartWidget",["mainApp.appCommon.utilities.ResourceUtility","mainApp.appCommon.utilities.MetadataUtility","mainApp.appCommon.utilities.AnimationUtility","mainApp.appCommon.services.WidgetFrameworkService","mainApp.appCommon.directives.charts.ArcChartDirective"]).service("ArcChartService",["WidgetConfigUtility","MetadataUtility","AnimationUtility",function(t,e,i){this.CalculateArcColor=function(t){if(null==t)return null;99<t&&(t=99),t<5&&(t=5);var e={R:255,G:255,B:102},n=null;return n=50<t?i.CalculateRgbBetweenValues({R:27,G:172,B:94},e,t):(t*=2,i.CalculateRgbBetweenValues(e,{R:178,G:0,B:0},t)),i.ConvertRgbToHex(n.R,n.G,n.B)}}]).controller("ArcChartWidgetController",["$scope","ResourceUtility","MetadataUtility","WidgetFrameworkService","ArcChartService",function(t,e,n,i,r){var a=t.widgetConfig,o=t.metadata,s=t.data;t.ChartValue=0,t.ChartTotal=100,t.ChartLabel=null,t.ChartColor="#FF0000",t.ChartSize=50;var l=n.GetNotionMetadata(a.Notion,o),u=n.GetNotionProperty(a.ValueProperty,l);null!=u&&(t.ChartValue=s[u.Name]||null,null!=t.ChartValue&&(t.ChartValue=Math.round(t.ChartValue)),t.ChartColor=r.CalculateArcColor(t.ChartValue));var c=n.GetNotionProperty(a.LabelProperty,l);null!=c&&(t.ChartLabel=s[c.Name]||null),null!=t.ChartLabel||null==a.LabelResourceKey&&""===a.LabelResourceKey||(t.ChartLabel=e.getString(a.LabelResourceKey))}]).directive("arcChartWidget",["$compile",function(t){return{templateUrl:"app/AppCommon/widgets/arcChartWidget/ArcChartWidgetTemplate.html"}}]),angular.module("mainApp.appCommon.widgets.CollapsiblePanelWidget",["mainApp.appCommon.utilities.ResourceUtility","mainApp.appCommon.utilities.MetadataUtility","mainApp.appCommon.services.WidgetFrameworkService"]).controller("CollapsiblePanelWidgetController",["$scope","MetadataUtility","ResourceUtility","WidgetFrameworkService",function(t,e,n,i){var r=t.widgetConfig,a=t.metadata,o=t.data,s=t.parentData,l=t.isActive;if(l=void 0===l||l,null!=o){var u=$(".js-collapsible-panel-content",t.element);t.panelOpen=l,t.panelOpen||u.slideToggle();var c=e.GetNotionMetadata(r.Notion,a),h=e.GetNotionProperty(r.TitleProperty,c);t.panelTitle="",null!=h&&h.PropertyTypeString==e.PropertyType.STRING?t.panelTitle=o[h.Name]||"":null!=r.TitleString&&(t.panelTitle=n.getString(r.TitleString)),t.panelClicked=function(){t.panelOpen=!t.panelOpen,u.slideToggle()};var d={scope:t,element:u,widgetConfig:r,metadata:a,data:o,parentData:s};i.CreateChildWidgets(d,o)}}]).directive("collapsiblePanelWidget",function(){return{templateUrl:"app/AppCommon/widgets/collapsiblePanelWidget/CollapsiblePanelWidgetTemplate.html"}}),angular.module("mainApp.appCommon.widgets.AnalyticAttributeTileWidget",["mainApp.appCommon.utilities.ResourceUtility","common.utilities.browserstorage"]).controller("AnalyticAttributeTileWidgetController",["$scope","ResourceUtility","BrowserStorageUtility",function(t,e,n){t.widgetConfig,t.metadata;var i=t.data,r=n.getCrmCustomSettings();null!=r&&null!=r.ShowLift?t.showLift=r.ShowLift:t.showLift=i.ShowLift,t.ResourceUtility=e,t.hasLift=null!=i.Lift,t.aboveAverageLift=null!=i.Lift&&1<i.Lift,t.icon=t.aboveAverageLift?"up-arrow-dots":"down-arrow-dots"}]).directive("analyticAttributeTileWidget",function(){return{templateUrl:"app/AppCommon/widgets/analyticAttributeTileWidget/AnalyticAttributeTileWidgetTemplate.html"}}),angular.module("mainApp.appCommon.widgets.AnalyticAttributeListWidget",["mainApp.appCommon.utilities.ResourceUtility","mainApp.appCommon.utilities.MetadataUtility","mainApp.appCommon.utilities.AnalyticAttributeUtility","mainApp.appCommon.services.WidgetFrameworkService"]).service("AnalyticAttributeListService",["AnalyticAttributeUtility",function(y){this.GroomAttributeList=function(t,e,n,i,r){if(null==t||0===t.length||null==i)return t;var a=this.GetStoredNotion(i.ModelNotion,n);if(null==a)return null;for(var o=y.GetLeadCount(a),s=parseInt(i.Limit),l=[],u=[],c=0;c<t.length;c++){var h=t[c],d=y.FindAttributeMetadataData(a,h),p=y.FindAttributeBucket(a,h);if(null!=d&&null!=p&&!0===p.IsVisible&&y.IsAllowedForInsights(d)&&y.ShowBasedOnTags(i,d)&&y.ShouldShowNullBucket(p,i.NullThreshold)){if(p.Count/o<.01)continue;var f="true"==i.ShowLift,g=y.GetAttributeBucketName(p,d),m=y.FormatLift(p.Lift),v={DisplayName:d.DisplayName,Description:d.Description,BucketName:g,Lift:m,ShowLift:f};1<m?l.push(v):1!==m&&u.push(v)}}return l=y.SortAttributeList(l),u=y.SortAttributeList(u),y.GetAttributeList(l,u,s,e)},this.GetStoredNotion=function(t,e){var n=null,i=$.jStorage.get(t);if(null!=i&&null!=i.listData)for(var r=0;r<i.listData.length;r++){var a=i.listData[r];if(a.Id==e){n=a.Data;break}}return n}}]).controller("AnalyticAttributeListWidgetController",["$scope","ResourceUtility","MetadataUtility","AnalyticAttributeUtility","WidgetFrameworkService","AnalyticAttributeListService",function(r,t,e,n,a,i){var o=r.widgetConfig,s=r.metadata,l=r.data;r.ResourceUtility=t,r.liftDescending=!0,r.hasAttributes=!1;var u=null!=o&&"true"==o.ShowLift;r.liftLabel=u?t.getString("ANALYTIC_ATTRIBUTE_LIFT_HEADER_LABEL"):t.getString("ANALYTIC_ATTRIBUTE_PROBABILITY_HEADER_LABEL");var c=e.GetNotionAssociationMetadata(o.Notion,o.TargetNotion,s);if(null!=c){var h=e.GetNotionMetadata(o.Notion,s),d=e.GetNotionProperty(o.ValueProperty,h),p=null;null!=d&&null!=(p=l[d.Name]||null)&&(p=Math.round(p));var f=i.GroomAttributeList(l[c.Name],p,l[o.ModelIdProperty],o,s);r.hasAttributes=null!=f&&0<f.length,r.liftSortClicked=function(t){null!=t&&t.preventDefault(),r.liftDescending=!r.liftDescending,f=n.SortAttributeList(f,r.liftDescending),r.createAttributeList()},r.createAttributeList=function(){var t=$(".js-analytic-attribute-list",r.element);t.empty();for(var e=0;e<f.length;e++){var n=$("<div></div>");t.append(n);var i={element:n,widgetConfig:o,metadata:s,data:l};a.CreateChildWidgets(i,f[e])}},r.learnMoreTooltip=t.getString("ANALYTIC_ATTRIBUTE_INTERNAL_LEARN_MORE"),null!=o.RequiredTags&&0!==o.RequiredTags.length&&"External"===o.RequiredTags[0]&&(r.learnMoreTooltip=t.getString("ANALYTIC_ATTRIBUTE_EXTERNAL_LEARN_MORE")),$(".tooltip").tooltip({position:{my:"left+15 center",at:"right center"}}),r.learnMoreClicked=function(t){null!=t&&t.preventDefault()},r.hasAttributes&&r.createAttributeList()}}]).directive("analyticAttributeListWidget",function(){return{templateUrl:"app/AppCommon/widgets/analyticAttributeListWidget/AnalyticAttributeListWidgetTemplate.html"}}),angular.module("mainApp.appCommon.widgets.PlayListTileWidget",["common.utilities.browserstorage","mainApp.appCommon.services.WidgetFrameworkService","mainApp.appCommon.services.PlayTileService"]).controller("PlayListTileWidgetController",["$scope","$rootScope","$element","BrowserStorageUtility","WidgetFrameworkService","PlayTileService",function(i,t,r,e,a,n){var o=i.widgetConfig,s=i.metadata,l=i.data,u=!(i.noScoreClass=null),c=e.getCrmCustomSettings();null!=c&&null!=c.ShowScore&&(u=c.ShowScore),null!=c&&null!=c.ShowLift?i.showLift=c.ShowLift:i.showLift=!0,i.showScore=u;n.GetTileData(l,o,s,function(t){i.tileData=t;var e=$(r),n={element:$(".js-dante-play-tile-score",e),widgetConfig:o,metadata:s,data:l};u?a.CreateChildWidgets(n,i.data):i.noScoreClass="dante-play-tile-no-score"}),i.playNameClicked=function(){t.$broadcast("ShowPlayDetails",i.tileData.ID)}}]).directive("playListTileWidget",["$compile",function(t){return{templateUrl:"app/AppCommon/widgets/playListTileWidget/PlayListTileWidgetTemplate.html"}}]),angular.module("mainApp.appCommon.widgets.PlayDetailsTileWidget",["mainApp.appCommon.utilities.WidgetEventConstantUtility","common.utilities.browserstorage","mainApp.appCommon.services.WidgetFrameworkService","mainApp.appCommon.services.PlayTileService"]).controller("PlayDetailsTileWidgetController",["$scope","$rootScope","$element","WidgetEventConstantUtility","BrowserStorageUtility","WidgetFrameworkService","PlayTileService",function(i,t,r,e,n,a,o){var s=i.widgetConfig,l=i.metadata,u=i.data,c=!0,h=n.getCrmCustomSettings();null!=h&&null!=h.ShowScore&&(c=h.ShowScore),i.showScore=c;o.GetTileData(u,s,l,function(t){i.tileData=t;var e=$(r),n={element:$(".js-dante-play-details-nav-tile-score",e),widgetConfig:s,metadata:l,data:u};a.CreateChildWidgets(n,i.data)}),i.isSelected=u.isSelected,i.playNameClicked=function(){t.$broadcast(e.PLAY_DETAILS_TAB_CLICKED,i.tileData.ID)},i.$on("PlayDetailsTabClickedEvent",function(t,e){i.isSelected=i.tileData.ID==e})}]).directive("playDetailsTileWidget",["$compile",function(t){return{templateUrl:"app/AppCommon/widgets/playDetailsTileWidget/PlayDetailsTileWidgetTemplate.html"}}]),angular.module("mainApp.appCommon.widgets.TabWidget",["mainApp.appCommon.utilities.ResourceUtility","mainApp.appCommon.utilities.MetadataUtility","mainApp.appCommon.services.WidgetFrameworkService","common.utilities.browserstorage"]).controller("TabWidgetController",["$scope","$element","ResourceUtility","MetadataUtility","WidgetFrameworkService","BrowserStorageUtility",function(s,a,l,r,o,u){var c=s.widgetConfig,h=s.metadata,d=s.data,p=s.parentData;if(null!=c&&0!==c.length){var f=null!=c.DefaultTab?parseInt(c.DefaultTab):1,g=function(t){var e=u.getCrmCustomSettings();if(t&&"purchaseHistoryScreenWidget"===t.ID&&e&&!0===e.ShowPurchaseHistory)return!0;if(null==t||null==t.Notion||null==t.TargetNotion)return!1;var n=r.GetNotionAssociationMetadata(t.Notion,t.TargetNotion,h);if(null==n)return!1;var i=d[n.Name];return null!=i&&0<i.length};s.tabs=[];!function(){for(var t=0;t<c.Widgets.length;t++){var e=c.Widgets[t],n=g(e);if(n){var i={ID:e.ID,IsActive:!1,Title:l.getString(e.TitleString),HasData:n,NoDataString:l.getString(e.NoDataString)};s.tabs.push(i)}else t<f&&f--}if(0!==s.tabs.length){for(var r=!1,a=0;a<s.tabs.length;a++){var o=s.tabs[a];o.HasData&&f===a&&(r=!0,o.IsActive=!0)}r||(s.tabs[0].IsActive=!0)}}(),setTimeout(function(){for(var t=0;t<c.Widgets.length;t++){var e=c.Widgets[t],n=g(e),i=$("#"+e.ID,a),r=$("<div></div>");i.append(r),i&&n&&o.CreateWidget({element:r,widgetConfig:e,metadata:h,data:d,parentData:p})}},0),s.tabClicked=function(t,e){null!=t&&t.preventDefault();for(var n=0;n<s.tabs.length;n++)s.tabs[n].IsActive=!1;e.IsActive=!0}}}]).directive("tabWidget",function(){return{templateUrl:"app/AppCommon/widgets/tabWidget/TabWidgetTemplate.html"}});var talkingPointParser=function(){var t={trace:function(){},yy:{},symbols_:{error:2,expressions:3,e:4,EOF:5,"&&":6,"||":7,"==":8,"!=":9,">":10,"<":11,">=":12,"<=":13,"(":14,")":15,TRUE:16,FALSE:17,StringLiteral:18,DecimalLiteral:19,NUMERIC_LITERAL:20,STRING_LITERAL:21,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",6:"&&",7:"||",8:"==",9:"!=",10:">",11:"<",12:">=",13:"<=",14:"(",15:")",16:"TRUE",17:"FALSE",20:"NUMERIC_LITERAL",21:"STRING_LITERAL"},productions_:[0,[3,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,1],[4,1],[4,1],[4,1],[19,1],[18,1]],performAction:function(t,e,n,i,r,a,o){var s=a.length-1;switch(r){case 1:return a[s-1];case 2:this.$=a[s-2]&&a[s];break;case 3:this.$=a[s-2]||a[s];break;case 4:this.$=a[s-2]==a[s];break;case 5:this.$=a[s-2]!=a[s];break;case 6:this.$=parseFloat(a[s-2])>parseFloat(a[s]);break;case 7:this.$=parseFloat(a[s-2])<parseFloat(a[s]);break;case 8:this.$=parseFloat(a[s-2])>=parseFloat(a[s]);break;case 9:this.$=parseFloat(a[s-2])<=parseFloat(a[s]);break;case 10:this.$=a[s-1];break;case 11:this.$=!0;break;case 12:this.$=!1;break;case 15:this.$=u(a[s]);break;case 16:var l=u(a[s]);"true"==l.toLowerCase()?this.$=!0:"false"==l.toLowerCase()?this.$=!1:this.$=l}},table:[{3:1,4:2,14:[1,3],16:[1,4],17:[1,5],18:6,19:7,20:[1,9],21:[1,8]},{1:[3]},{5:[1,10],6:[1,11],7:[1,12],8:[1,13],9:[1,14],10:[1,15],11:[1,16],12:[1,17],13:[1,18]},{4:19,14:[1,3],16:[1,4],17:[1,5],18:6,19:7,20:[1,9],21:[1,8]},{5:[2,11],6:[2,11],7:[2,11],8:[2,11],9:[2,11],10:[2,11],11:[2,11],12:[2,11],13:[2,11],15:[2,11]},{5:[2,12],6:[2,12],7:[2,12],8:[2,12],9:[2,12],10:[2,12],11:[2,12],12:[2,12],13:[2,12],15:[2,12]},{5:[2,13],6:[2,13],7:[2,13],8:[2,13],9:[2,13],10:[2,13],11:[2,13],12:[2,13],13:[2,13],15:[2,13]},{5:[2,14],6:[2,14],7:[2,14],8:[2,14],9:[2,14],10:[2,14],11:[2,14],12:[2,14],13:[2,14],15:[2,14]},{5:[2,16],6:[2,16],7:[2,16],8:[2,16],9:[2,16],10:[2,16],11:[2,16],12:[2,16],13:[2,16],15:[2,16]},{5:[2,15],6:[2,15],7:[2,15],8:[2,15],9:[2,15],10:[2,15],11:[2,15],12:[2,15],13:[2,15],15:[2,15]},{1:[2,1]},{4:20,14:[1,3],16:[1,4],17:[1,5],18:6,19:7,20:[1,9],21:[1,8]},{4:21,14:[1,3],16:[1,4],17:[1,5],18:6,19:7,20:[1,9],21:[1,8]},{4:22,14:[1,3],16:[1,4],17:[1,5],18:6,19:7,20:[1,9],21:[1,8]},{4:23,14:[1,3],16:[1,4],17:[1,5],18:6,19:7,20:[1,9],21:[1,8]},{4:24,14:[1,3],16:[1,4],17:[1,5],18:6,19:7,20:[1,9],21:[1,8]},{4:25,14:[1,3],16:[1,4],17:[1,5],18:6,19:7,20:[1,9],21:[1,8]},{4:26,14:[1,3],16:[1,4],17:[1,5],18:6,19:7,20:[1,9],21:[1,8]},{4:27,14:[1,3],16:[1,4],17:[1,5],18:6,19:7,20:[1,9],21:[1,8]},{6:[1,11],7:[1,12],8:[1,13],9:[1,14],10:[1,15],11:[1,16],12:[1,17],13:[1,18],15:[1,28]},{5:[2,2],6:[2,2],7:[2,2],8:[2,2],9:[2,2],10:[2,2],11:[2,2],12:[2,2],13:[2,2],15:[2,2]},{5:[2,3],6:[2,3],7:[2,3],8:[2,3],9:[2,3],10:[2,3],11:[2,3],12:[2,3],13:[2,3],15:[2,3]},{5:[2,4],6:[1,11],7:[1,12],8:[2,4],9:[2,4],10:[2,4],11:[2,4],12:[2,4],13:[2,4],15:[2,4]},{5:[2,5],6:[1,11],7:[1,12],8:[2,5],9:[2,5],10:[2,5],11:[2,5],12:[2,5],13:[2,5],15:[2,5]},{5:[2,6],6:[1,11],7:[1,12],8:[2,6],9:[2,6],10:[2,6],11:[2,6],12:[2,6],13:[2,6],15:[2,6]},{5:[2,7],6:[1,11],7:[1,12],8:[2,7],9:[2,7],10:[2,7],11:[2,7],12:[2,7],13:[2,7],15:[2,7]},{5:[2,8],6:[1,11],7:[1,12],8:[2,8],9:[2,8],10:[2,8],11:[2,8],12:[2,8],13:[2,8],15:[2,8]},{5:[2,9],6:[1,11],7:[1,12],8:[2,9],9:[2,9],10:[2,9],11:[2,9],12:[2,9],13:[2,9],15:[2,9]},{5:[2,10],6:[2,10],7:[2,10],8:[2,10],9:[2,10],10:[2,10],11:[2,10],12:[2,10],13:[2,10],15:[2,10]}],defaultActions:{10:[2,1]},parseError:function(t,e){if(!e.recoverable)throw new Error(t);this.trace(t)},parse:function(t){var e=this,n=[0],i=[null],r=[],a=this.table,o="",s=0,l=0,u=0,c=1,h=r.slice.call(arguments,1);this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,void 0===(this.yy.parser=this).lexer.yylloc&&(this.lexer.yylloc={});var d=this.lexer.yylloc;r.push(d);var p=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError?this.parseError=this.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var f,g,m,v,y,b,_,w,C,S,x={};;){if(m=n[n.length-1],void 0===(v=this.defaultActions[m]?this.defaultActions[m]:(null==f&&(S=void 0,"number"!=typeof(S=e.lexer.lex()||c)&&(S=e.symbols_[S]||S),f=S),a[m]&&a[m][f]))||!v.length||!v[0]){var $="";for(b in C=[],a[m])this.terminals_[b]&&2<b&&C.push("'"+this.terminals_[b]+"'");$=this.lexer.showPosition?"Parse error on line "+(s+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+C.join(", ")+", got '"+(this.terminals_[f]||f)+"'":"Parse error on line "+(s+1)+": Unexpected "+(f==c?"end of input":"'"+(this.terminals_[f]||f)+"'"),this.parseError($,{text:this.lexer.match,token:this.terminals_[f]||f,line:this.lexer.yylineno,loc:d,expected:C})}if(v[0]instanceof Array&&1<v.length)throw new Error("Parse Error: multiple actions possible at state: "+m+", token: "+f);switch(v[0]){case 1:n.push(f),i.push(this.lexer.yytext),r.push(this.lexer.yylloc),n.push(v[1]),f=null,g?(f=g,g=null):(l=this.lexer.yyleng,o=this.lexer.yytext,s=this.lexer.yylineno,d=this.lexer.yylloc,0<u&&u--);break;case 2:if(_=this.productions_[v[1]][1],x.$=i[i.length-_],x._$={first_line:r[r.length-(_||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(_||1)].first_column,last_column:r[r.length-1].last_column},p&&(x._$.range=[r[r.length-(_||1)].range[0],r[r.length-1].range[1]]),void 0!==(y=this.performAction.apply(x,[o,l,s,this.yy,v[1],i,r].concat(h))))return y;_&&(n=n.slice(0,-1*_*2),i=i.slice(0,-1*_),r=r.slice(0,-1*_)),n.push(this.productions_[v[1]][0]),i.push(x.$),r.push(x._$),w=a[n[n.length-2]][n[n.length-1]],n.push(w);break;case 3:return!0}}return!0}};function u(t){return"string"!=typeof t?t:t.replace(/^\'|\'$/g,"")}var e={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(20<t.length?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(20<t.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,i,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(i=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var a in r)this[a]=r[a];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),a=0;a<r.length;a++)if((n=this._input.match(this.rules[r[a]]))&&(!e||n[0].length>e[0].length)){if(e=n,i=a,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,r[a])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,r[i]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return 0<=(t=this.conditionStack.length-1-Math.abs(t||0))?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0},performAction:function(t,e,n,i){switch(n){case 0:break;case 1:return"STRING_LITERAL";case 2:return"NUMERIC_LITERAL";case 3:case 4:return"TRUE";case 5:case 6:return"FALSE";case 7:return"(";case 8:return")";case 9:return"[";case 10:return"]";case 11:return".";case 12:return"==";case 13:return"!=";case 14:return"<=";case 15:return"<";case 16:return">=";case 17:return">";case 18:return"&&";case 19:return"||";case 20:return"EOF";case 21:return"ERROR"}},rules:[/^(?:\s+)/,/^(?:("([^\"\\]*(\\.[^\"\\]*)*)"|'([^\'\\]*(\\.[^\'\\]*)*)'))/,/^(?:((([0]|(([1-9])([0-9]+)*))\.([0-9]+)*)|(\.([0-9]+))|(([0]|(([1-9])([0-9]+)*)))))/,/^(?:true)/,/^(?:'true')/,/^(?:false)/,/^(?:'false')/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:\.)/,/^(?:==)/,/^(?:!=)/,/^(?:<=)/,/^(?:<)/,/^(?:>=)/,/^(?:>)/,/^(?:&&)/,/^(?:\|\|)/,/^(?:$)/,/^(?:.)/,/^(?:.)/],conditions:{REGEXP:{rules:[],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22],inclusive:!0}}};function n(){this.yy={}}return t.lexer=e,new((n.prototype=t).Parser=n)}();"undefined"!=typeof require&&"undefined"!=typeof exports&&(exports.parser=talkingPointParser,exports.Parser=talkingPointParser.Parser,exports.parse=function(){return talkingPointParser.parse.apply(talkingPointParser,arguments)},exports.main=function(t){t[1]||(console.log("Usage: "+t[0]+" FILE"),process.exit(1));var e=require("fs").readFileSync(require("path").normalize(t[1]),"utf8");return exports.parser.parse(e)},"undefined"!=typeof module&&require.main===module&&exports.main(process.argv.slice(1))),angular.module("mainApp.appCommon.widgets.TalkingPointWidget",["mainApp.appCommon.utilities.MetadataUtility","mainApp.appCommon.utilities.DateTimeFormatUtility","common.utilities.number","mainApp.appCommon.utilities.ResourceUtility"]).service("TalkingPointWidgetService",["MetadataUtility","DateTimeFormatUtility","NumberUtility","ResourceUtility","LpiPreviewStore","URLUtility",function(h,d,n,i,s,l){this.decodeHtmlEntities=function(t){return $("<textarea/>").html(t).text()},this.evaluateLookupPath=function(t,e,n,i,r,a){var o=/^account\.(.*?)/i,s="";if(o.test(t))t=t.replace(o,"$1"),property=h.GetNotionProperty(t,i),s=this.lookupHelper(e,t);else{var l=this.getPlay(n,e.SalesforceAccountID,a);property=h.GetNotionProperty(t,r),s=this.lookupHelper(l,t)}return property&&!this.ignoreFormatType&&(this.CurrentProperty=property,s=this.formatType(s,property.PropertyTypeString)),s},this.formatType=function(t,e){switch(e){case h.PropertyType.CURRENCY:t=i.getString("CURRENCY_SYMBOL")+n.AbbreviateLargeNumber(n.RoundNumber(t,2),1);break;case h.PropertyType.EPOCH_TIME:t=new Date(1e3*t).toLocaleDateString()}return t},this.lookupHelper=function(t,e){if(null!==t&&null!==e)for(var n in e=e.toLowerCase(),t)if(t.hasOwnProperty(n)&&e==n.toLowerCase())return t[n]},this.getPlay=function(t,e,n){if("true"===l.LpiPreview())return s.getLead();if(null===t||null===e)return null;var i="DanteLead",r=$.jStorage.get(i);if(null===r&&(i+="-"+e,r=$.jStorage.get(i)),null===r)return null;for(var a=0;a<r.listData.length;a++){var o=r.listData[a];if(o.Data&&o.Data.PlayID){if(void 0!==n){if(o.Data.RecommendationID.toString()===n.toString())return o.Data}else if(o.Data.PlayID===t)return o.Data}else if(o.PlayID===t)return o}return null},this.logError=function(t){},this.FormatTalkingPoint=function(t,i,r,e,a){var o=this,s=/\{!([^\}]*)\}/g,l=h.GetNotionMetadata("DanteAccount",e),u=h.GetNotionMetadata("DanteLead",e);function c(t,e){var n;switch(e){case"Space":n="&nbsp;";break;case"Today":new Date;n=d.Today();break;case"Now":new Date;n=d.Today(!0);break;case"NowUTC":new Date;n=d.TodayUTC(!0);break;case"Newline":n="<br/>";break;default:n=o.evaluateLookupPath(e,i,r,l,u,a)}switch(n){case void 0:o.logError("Could not evaluate lookup path "+e);break;case null:n=""}return n}return t=(t=t.replace(/\[([^\]]*)\]([^\[]*)\[end\]/gi,function(t,e,n){var i=e;i=e.replace(s,function(t,e){o.ignoreFormatType=!0;var n="'"+c(0,e)+"'";return delete o.ignoreFormatType,n}),i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=o.decodeHtmlEntities(i)).replace(/([^<>])=/g,"$1==")).replace(/<>/g,"!=")).replace(/([^a-zA-Z0-9.])?(True)([^a-zA-Z0-9.])?/gi,"$1true$3")).replace(/([^a-zA-Z0-9.])?(False)([^a-zA-Z0-9.])?/gi,"$1false$3")).replace(/[^a-zA-Z0-9.]OR[^a-zA-Z0-9.]/g,"||")).replace(/[^a-zA-Z0-9.]AND[^a-zA-Z0-9.]/g,"&&")).replace(/[^a-zA-Z0-9.]null[^a-zA-Z0-9.]/g,"''")).replace(/"[^\\"\n]*(\\["\\][^\\"\n]*)*"|'[^\\'\n]*(\\['\\][^\\'\n]*)*'/g,function(t){return t.replace(" ","")})).replace(/(\s+|^|\||&)((?:\S+?)\s*?(?:==|!=|<=|>=|>|<)\s*?(?:\S+?))(\s+|$|\||&)/g,"$1($2)$3")).replace(/"[^\\"\n]*(\\["\\][^\\"\n]*)*"|'[^\\'\n]*(\\['\\][^\\'\n]*)*'/g,function(t){return t.replace(""," ")});try{if(talkingPointParser.parse(i))return n}catch(t){o.logError(t)}return""})).replace(s,c)}}]).controller("TalkingPointWidgetController",["$scope","$element","TalkingPointWidgetService","ResourceUtility","URLUtility",function(t,e,n,i,r){t.widgetConfig;var a=t.metadata,o=t.data,s=t.parentData;if(null!==o){var l=r.CrmRecommendation(),u=n.FormatTalkingPoint(o.Content,s,o.PlayID,a,l);u.match(/(<[^>]*>|\s)*/)[0].length==u.length&&(u=i.getString("DANTE_NO_TALKING_POINTS_FOR_SECTION")),t.talkingPointText=u,window.TalkingPointsCleanupTimer&&(clearTimeout(window.TalkingPointsCleanupTimer),delete window.TalkingPointsCleanupTimer),window.TalkingPointsCleanupTimer=setTimeout(function(){var n={1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:1,10:2,12:3,14:4,18:5,24:6,36:7};$("font[size]").each(function(t,e){e.size=n[parseInt(e.size)]||2}),delete window.TalkingPointsCleanupTimer},1),setTimeout(function(){$("a",e).click(function(t){"undefined"!=typeof sforce&&null!=sforce&&(t.stopImmediatePropagation(),t.preventDefault(),sforce.one.navigateToURL(this.href,!0))})},1)}}]).directive("talkingPointWidget",function(){return{templateUrl:"app/AppCommon/widgets/talkingPointWidget/TalkingPointWidgetTemplate.html"}}),angular.module("mainApp.appCommon.widgets.PurchaseHistoryWidget",["mainApp.appCommon.utilities.PurchaseHistoryUtility","mainApp.appCommon.widgets.PurchaseHistoryWidget.controllers.PurchaseHistoryNav","mainApp.appCommon.widgets.PurchaseHistoryWidget.controllers.PurchaseHistorySpendTable","mainApp.appCommon.widgets.PurchaseHistoryWidget.controllers.PurchaseHistorySegmentTable","mainApp.appCommon.widgets.PurchaseHistoryWidget.controllers.PurchaseHistoryYearTable","mainApp.appCommon.widgets.PurchaseHistoryWidget.stores.PurchaseHistoryStore"]).filter("startFrom",function(){return function(t,e){return t?(e=+e,t.slice(e)):[]}}).filter("range",function(){return function(t){for(var e=[],n=0;n<t;n++)e.push(n);return e}}).filter("formatDollar",["PurchaseHistoryUtility",function(n){return function(t,e){return null===t?"":n.formatDollar(t,e)}}]).filter("sortWithNulls",["$filter","$parse",function(s,l){var u=function(t,e){for(var n=0,i=0;i<t.length;i++)if(null!==e(t[i])){n=i;break}return n},c=function(t,e){var n=t.slice(0,e);return t.slice(e).concat(n)};return function(t,e,n){var i,r=s("orderBy")(t,e,n);if(!Array.isArray(r))return r;if(!n)return r;if("string"!=typeof e)return i=r.lastIndexOf(null)+1,c(r,i);var a=l(e);if(a.constant){var o=a();return i=u(r,function(t){return t[o]}),c(r,i)}return i=u(r,function(t){return a(t)}),c(r,i)}}]).controller("PurchaseHistoryWidgetController",["$scope","$element","$compile","$rootScope","$q","$http","PurchaseHistoryUtility","$timeout","PurchaseHistoryStore",function(n,r,a,o,t,s,e,i,l){n.widgetConfig;var u=n.metadata,c=this;c.defaultView="spend-view",c.renderTable=function(t){var e;switch(t){case"spend-view":e="app/AppCommon/widgets/purchaseHistoryWidget/templates/purchaseHistorySpendTableTemplate.html";break;case"yearly-view":e="app/AppCommon/widgets/purchaseHistoryWidget/templates/purchaseHistoryYearTableTemplate.html";break;case"segment-view":e="app/AppCommon/widgets/purchaseHistoryWidget/templates/purchaseHistorySegmentTableTemplate.html"}o.$new();return s.get(e).success(function(t){a($("#purchaseHistoryMain").html(t))(n)})},n.$on("purchaseHistoryViewChange",function(t,e){c.renderTable(e.view)}),l.initPurchaseHistory(n.data.SalesforceAccountID,u).then(function(){s.get("app/AppCommon/widgets/purchaseHistoryWidget/templates/purchaseHistoryNavTemplate.html").success(function(t){$(".initial-loading-spinner-container").remove();var e=o.$new();e.view=c.defaultView,a($("#purchaseHistoryHeader").html(t))(e),c.renderTable(e.view)})}).catch(function(i){s.get("app/core/views/NoAssociationView.html").success(function(t){var e=o.$new(),n=Object.keys(i).join(", ");e.message1="No "+n+" found.",e.message1=e.message1.replace(/\,\s([^\,]+)$/," and $1"),r.replaceWith(a(t)(e))})})}]).directive("purchaseHistoryWidget",["$compile",function(t){return{templateUrl:"app/AppCommon/widgets/purchaseHistoryWidget/PurchaseHistoryWidgetTemplate.html",link:function(t,e,n){var i=$("#purchaseHistoryScreenWidget")[0];i.setAttribute("class",i.className+" ph-overflow-x")}}}]),angular.module("mainApp.appCommon.widgets.PurchaseHistoryWidget.directives.PurchaseHistoryTimeline",["mainApp.appCommon.utilities.PurchaseHistoryUtility","mainApp.appCommon.services.PurchaseHistoryService","mainApp.appCommon.widgets.PurchaseHistoryWidget.stores.PurchaseHistoryStore"]).directive("purchaseHistoryTimeline",["$rootScope","$compile","$window","$timeout","PurchaseHistoryStore","PurchaseHistoryUtility",function(t,e,r,a,n,A){return{restrict:"A",replace:!0,scope:{periodStartIndex:"=",colsize:"="},link:function(S,x,t,T){var n=function(){var t=S.colsize,e=S.periods.slice(S.periodStartIndex,S.periodStartIndex+t);console.log(S.periodStartIndex,S.periodStartIndex,t);var i=x.find("#ph-chart")[0];$(i).empty();var n=24,r=0,a=0,o=0,s=i.clientWidth-o-r,l=i.clientHeight-n-a;if(!(l<=0)){var u=d3.select(i).append("svg").attr("width",s+o+r).attr("height",l+n+a).append("g").attr("transform","translate("+o+","+n+")"),c=d3.scale.ordinal().rangeRoundBands([0,s],1/3,1/6),h=d3.scale.linear().range([l,0]),d=d3.max(e,function(t){return Math.max(t.accountTotalSpend,t.accountPrevYearSpend)});c.domain(d3.range(0,t,1)),h.domain([0,d]);var p,f,g,m=c.rangeBand(),v=u.append("g").selectAll(".bar").data(e).enter().append("rect").attr("class","bar").attr("x",function(t,e){return c(e)}).attr("width",m).attr("y",function(t){return h(t.accountTotalSpend)}).attr("height",function(t){return l-h(t.accountTotalSpend)}),y=u.append("g").attr("class","prev-year-line").attr("transform","translate("+m/2+", 0)");y.append("path").attr("d",(p=c,f=h,g="accountPrevYearSpend",d3.svg.line().x(function(t,e){return p(e)}).y(function(t){return f(t[g])})(e)));var b=y.selectAll("dots").data(e).enter().append("circle").attr("r",4).attr("cx",function(t,e){return c(e)}).attr("cy",function(t,e){return h(t.accountPrevYearSpend)}),_=u.append("g").attr("class","bar-text").attr("transform","translate(0, -10)").selectAll("text").data(e).enter().append("text").attr("dx",function(t,e){var n=A.formatDollar(t.accountTotalSpend,!0).length/2*6;return c(e)+m/2-n}).attr("dy",function(t,e){return h(t.accountTotalSpend)+5}).text(function(t,e){var n=t.accountTotalSpend;if(n&&0<n)return A.formatDollar(t.accountTotalSpend,!0)}),w=function(e,t){d3.select(this);var n=T.createToolTipContent(e);d3.select(i).append("div").style("position","absolute").style("bottom",function(){var t=Math.max(e.accountTotalSpend,e.accountPrevYearSpend);return l-h(t)+24+"px"}).style("left",function(){return c(t)+m/2-77+"px"}).attr("id","chart-tooltip").html('<div class="ph-timeline-toolip"><p>'+n.title+"</p><p>"+n.content+"</p></div>")},C=function(){$("#chart-tooltip").remove()};v.on("mouseover",w),v.on("mouseout",C),_.on("mouseover",w),_.on("mouseout",C),b.on("mouseover",w),b.on("mouseout",C)}},i=function(){a(function(){T.update(),n()},1e3,!1)};S.$watch("periodStartIndex",function(t,e){t!==e&&n()});i(),window.onresize=function(){S.$apply()};var e=!0;S.$watch(function(){return angular.element(r)[0].innerWidth},function(){e?e=!1:n()}),S.$on("purchaseHistorySpendTableChange",function(t,e){i()})},controller:"PurchaseHistoryTimelineCtrl",controllerAs:"PurchaseHistoryTimelineVm",templateUrl:"app/AppCommon/widgets/purchaseHistoryWidget/templates/purchaseHistoryTimelineTemplate.html"}}]).controller("PurchaseHistoryTimelineCtrl",["$scope","PurchaseHistoryService","PurchaseHistoryStore","PurchaseHistoryUtility",function(e,t,n,o){e.max=0;this.update=function(){e.periods=n.productTreeSelectedPeriods.data.periods,e.max=e.periods.length-e.colsize},this.handlePeriodRangeClick=function(t){t<0?-1<e.periodStartIndex-1&&e.periodStartIndex--:0<t&&e.periodStartIndex+1<=e.max&&e.periodStartIndex++},this.createToolTipContent=function(t){var e="",n=t.accountTotalSpend,i=t.accountPrevYearSpend,r=n-i,a=Math.abs(r/i);return isNaN(a)?a=0:Math.abs(a)===1/0&&(a=1),0===r?e+="No Change":(e+=o.formatDollar(r),e+=" ( ",e+=r<0?"Down":"Up",/(Up)/.test(e+=" ")&&1===a?e+="- ":e+=o.formatPercent(100*a),e+=" )"),{title:"Compared to Last Year",content:e}}}]),angular.module("mainApp.appCommon.widgets.PurchaseHistoryWidget.controllers.PurchaseHistoryNav",["mainApp.appCommon.widgets.PurchaseHistoryWidget.stores.PurchaseHistoryStore","mainApp.appCommon.utilities.PurchaseHistoryUtility","mainApp.appCommon.services.PurchaseHistoryService"]).controller("PurchaseHistoryNavCtrl",["$scope","$rootScope","PurchaseHistoryStore","PurchaseHistoryService","PurchaseHistoryUtility",function(a,n,o,t,d){var s=this;s.handleViewChange=function(e){e.disabled||a.view===e.view||(a.view=e.view,a.views.forEach(function(t){t.selected=t.view===e.view}),a.filterSelected=a.filterOptions[0],o.productTreeSelectedPeriods.collapseAll(),n.$broadcast("purchaseHistoryViewChange",e))},s.getHeaderContent=function(t){var e=t.accountProductTotalSpend,n=t.accountProductTotalPrevYearSpend,i=t.segmentProductTotalAverageSpend,r=t.yoyDiff,a=t.segmentDiff,o=null;null!==n&&(o=Math.round(r/n*100));var s="-";null!==e&&(s=d.formatDollar(e,!1));var l="-";null===n&&null===e||(l=0<=r?"Up":"Down",l+=" ",null!==o&&(l+=d.formatPercent(Math.abs(o))),l+=" ",r<0&&(l+="("),l+=d.formatDollar(Math.abs(r),!1),r<0&&(l+=")"));var u="-";null!==i&&(u=d.formatDollar(Math.abs(a),!1),u+=" ",u+=0<=a?"More":"Less",u+=" Than Average");var c=l.match(/(Down|Up)/),h="";return c&&(h=c[0].toLowerCase()+"-arrow-long"),{totalSpend:{textHtml:s},yearlyCompare:{textHtml:l+'<span class="ph-header-icon '+h+'"></span>'},segmentCompare:{textHtml:u}}},s.getPeriodIdOptions=function(e,t,n){return d.getPeriodRange(e,t,n).map(function(t){return{text:d.formatDisplayPeriodId(e,t,!0),value:t}})},s.selectStartPeriodId=function(t){o.setPeriodIdRange(t.value,p)},s.selectEndPeriodId=function(t){o.setPeriodIdRange(h,t.value)},s.selectPeriod=function(t){var e=i;i=d.periodToMomentFormat[t.value],u=moment(o.periodStartDatePeriodId,e).format(i),c=moment(o.periodEndDatePeriodId,e).format(i),o.setPeriod(t.value)};var l=o.period,i=d.periodToMomentFormat[l],u=moment(o.periodStartDatePeriodId,i).format(i),c=moment(o.periodEndDatePeriodId,i).format(i),h=o.startPeriodId,p=o.endPeriodId;s.update=function(){var t=o.productTreeSelectedPeriods;l=o.period,h=o.startPeriodId,p=o.endPeriodId,a.headerContents=s.getHeaderContent(t.data),a.periodIdStartOptions=s.getPeriodIdOptions(l,u,p),a.periodIdEndOptions=s.getPeriodIdOptions(l,h,c);for(var e=!1,n=0;n<a.periodIdStartOptions.length;n++)a.periodIdStartOptions[n].value===h&&(a.periodIdStartSelected=a.periodIdStartOptions[n],e=!0);e||(a.periodIdStartSelected=a.periodIdStartOptions[a.periodIdStartOptions.length-1]);for(var i=!1,r=0;r<a.periodIdEndOptions.length;r++)a.periodIdEndOptions[r].value===p&&(a.periodIdEndSelected=a.periodIdEndOptions[r],i=!0);i||(a.periodIdEndSelected=a.periodIdEndOptions[0])};var e=o.segment.segmentName;a.views=[{titleHtml:"Total Spend",contentKey:"totalSpend",icon:"chart",selected:"spend-view"===a.view,view:"spend-view",disabled:!1},{titleHtml:"Spend Compared to Year Before",contentKey:"yearlyCompare",icon:"calendar",selected:"yearly-view"===a.view,view:"yearly-view",disabled:!1},{titleHtml:e?'Spend Compared to Similar in <span class="ph-segment-label">'+e+"</span>":"No segment available",contentKey:"segmentCompare",icon:"building",selected:"segment-view"===a.view,view:"segment-view",disabled:!e}];for(var r=!(a.periodOptions=[{text:"Monthly",value:"M"},{text:"Quarterly",value:"Q"}]),f=0;f<a.periodOptions.length;f++)if(a.periodOptions[f].value===l){a.periodSelected=a.periodOptions[f],r=!0;break}r||(a.periodSelected=a.periodOptions[0]);var g=function(t,e){var n=!1;return t.depthFirstTraversal(function(t){null!==t.data.accountProductTotalSpend&&(n=!0)}),n},m=function(t,e){var n=!1;return t.depthFirstTraversal(function(t){null===t.data.accountProductTotalSpend&&(n=!0)}),n},v=function(t,e){return!0};s.selectFilter=function(t){var e=v;switch(t.value){case"PH_FILTER_HAS_SPEND":e=g;break;case"PH_FILTER_NO_SPEND":e=m;break;case"PH_FILTER_ALL":e=v}n.$broadcast("purchaseHistoryFilterChange",e)},a.filterOptions=[{text:"Show All",value:"PH_FILTER_ALL"},{text:"Show Only With Spend",value:"PH_FILTER_HAS_SPEND"},{text:"Show Only Without Spend",value:"PH_FILTER_NO_SPEND"}],a.filterSelected=a.filterOptions[0],a.$on("purchaseHistoryStoreChange",function(t,e){s.update()}),s.update()}]),angular.module("mainApp.appCommon.widgets.PurchaseHistoryWidget.controllers.PurchaseHistorySpendTable",["mainApp.appCommon.utilities.PurchaseHistoryUtility","mainApp.appCommon.services.PurchaseHistoryService","mainApp.appCommon.widgets.PurchaseHistoryWidget.stores.PurchaseHistoryStore","mainApp.appCommon.widgets.PurchaseHistoryWidget.directives.PurchaseHistoryTimeline","mainApp.appCommon.services.PurchaseHistoryTooltip"]).controller("PurchaseHistorySpendTableCtrl",["$scope","$element","$rootScope","$compile","PurchaseHistoryService","PurchaseHistoryUtility","PurchaseHistoryStore","PurchaseHistoryTooltip",function(i,t,e,n,r,a,o,s){var l=this;l.defaultColsize=12,l.toggleNode=function(t){t.toggleExpand()},l.expandAll=function(){i.tree.expandAll()},l.collapseAll=function(){i.tree.collapseAll()};var u=angular.element("#ph-tooltip");l.showTooltip=function(t,e){t.stopPropagation(),s.show(u,t,e)},l.hideTooltip=function(){s.hide(u)},l.searchProduct=function(t,e){return t.searchTreeDescendants(i.searchProduct)},l.update=function(){var e=o.period,t=o.periodRange;i.formattedPeriodRange=t.map(function(t){return a.formatDisplayPeriodId(e,t)}),i.tree=o.productTreeSelectedPeriods;var n=t.length;n<l.defaultColsize?(i.colsize=n,i.periodStartIndex=0):(i.colsize=l.defaultColsize,i.periodStartIndex=n-i.colsize),console.log("update();",t,i),i.$broadcast("purchaseHistorySpendTableChange")},i.sortKey="data.accountProductTotalSpend",i.sortReverse=!0,i.sortBy=function(t){i.sortKey===t?i.sortReverse=!i.sortReverse:i.sortKey=t},i.$on("purchaseHistoryStoreChange",function(t,e){l.update()}),i.$on("purchaseHistoryFilterChange",function(t,e){l.spendFilter=e}),l.update()}]),angular.module("mainApp.appCommon.widgets.PurchaseHistoryWidget.controllers.PurchaseHistorySegmentTable",["mainApp.appCommon.widgets.PurchaseHistoryWidget.stores.PurchaseHistoryStore","mainApp.appCommon.utilities.PurchaseHistoryUtility","mainApp.appCommon.services.PurchaseHistoryService"]).controller("PurchaseHistorySegmentTableCtrl",["$scope","PurchaseHistoryStore","PurchaseHistoryUtility",function(n,t,i){var r=this;r.toggleNode=function(t){t.toggleExpand()},r.expandAll=function(){n.tree.expandAll()},r.collapseAll=function(){n.tree.collapseAll()},r.calculateBarWidthPercentage=function(t,e){var n;return n=e<t?70:t/e*70||0,i.formatPercent(n)},r.searchProduct=function(t,e){return t.searchTreeDescendants(n.searchProduct)},r.update=function(){n.tree=t.productTreeSelectedPeriods,maxSpendSegmentDiff=n.tree.data.maxSpendSegmentDiff,n.tree.depthFirstTraversal(function(t){var e=r.calculateBarWidthPercentage(Math.abs(t.data.segmentDiff),maxSpendSegmentDiff);t.data.segmentBarStyle={width:e}})},n.sortKey="data.segmentProductTotalAverageSpend",n.sortReverse=!0,n.sortBy=function(t){n.sortKey===t?n.sortReverse=!n.sortReverse:n.sortKey=t},n.$on("purchaseHistoryStoreChange",function(){r.update()}),n.$on("purchaseHistoryFilterChange",function(t,e){r.spendFilter=e}),r.update()}]),angular.module("mainApp.appCommon.widgets.PurchaseHistoryWidget.controllers.PurchaseHistoryYearTable",["mainApp.appCommon.widgets.PurchaseHistoryWidget.stores.PurchaseHistoryStore","mainApp.appCommon.utilities.PurchaseHistoryUtility"]).controller("PurchaseHistoryYearTableCtrl",["$scope","PurchaseHistoryStore","PurchaseHistoryUtility",function(n,t,i){var r=this;r.toggleNode=function(t){t.toggleExpand()},r.expandAll=function(){n.tree.expandAll()},r.collapseAll=function(){n.tree.collapseAll()},r.calculateBarWidthPercentage=function(t,e){var n;return n=e<t?90:t/e*90||0,i.formatPercent(n)},r.searchProduct=function(t,e){return t.searchTreeDescendants(n.searchProduct)},r.update=function(){n.tree=t.productTreeSelectedPeriods;var i=n.tree.data.maxSpendYoy;n.tree.depthFirstTraversal(function(t){var e=r.calculateBarWidthPercentage(t.data.accountProductTotalSpend,i),n=r.calculateBarWidthPercentage(t.data.accountProductTotalPrevYearSpend,i);t.data.currentYearBarStyle={width:e},t.data.prevYearBarStyle={width:n}})},n.sortKey="data.yoyDiff",n.sortReverse=!1,n.sortBy=function(t){n.sortKey===t?n.sortReverse=!n.sortReverse:n.sortKey=t},n.$on("purchaseHistoryStoreChange",function(){r.update()}),n.$on("purchaseHistoryFilterChange",function(t,e){r.spendFilter=e}),r.update()}]),angular.module("mainApp.appCommon.widgets.PurchaseHistoryWidget.stores.PurchaseHistoryStore",["mainApp.core.services.NotionService","mainApp.appCommon.utilities.PurchaseHistoryUtility","mainApp.appCommon.services.PurchaseHistoryService","mainApp.appCommon.factory.ProductTreeFactory"]).service("PurchaseHistoryStore",["$rootScope","$q","ProductTree","NotionService","PurchaseHistoryUtility","PurchaseHistoryService",function(i,h,t,d,p,f){this.purchaseHistoryList=[],this.periodRange=[],this.segment=null,this.accountId=null,this.period="M",this.danteProductHierarchy=[],this.productTree=null,this.productTreeSelectedPeriods=null,this.initPurchaseHistory=function(r,a){var o,s,l,u,c=this;if(c.productTree){var t=h.defer();return t.resolve(null),t.promise}return c.accountId=r,h.all([d.findOne("DanteAccount",r),d.findItemsByKey("DanteAccount",!0,"IsSegment"),d.findAll("DanteProductHierarchy"),d.findOneByKey("DantePurchaseHistory",r,"account")]).then(function(t){var e={};if(null!==t[0]&&null!==t[0].resultObj||(e.Account=t[0]),null!==t[2]&&0!==t[2].length||(e["Product Hierarchy"]=t[2]),null!==t[3]&&null!==t[3].resultObj||(e["Purchase History"]=t[3]),Object.keys(e).length){var n=h.defer();return n.reject(e),n.promise}o=t[0].resultObj,s=t[1],l=t[2],u=t[3].resultObj,c.danteProductHierarchy=l,c.danteProductHierarchy=f.mapProductHierarchyToId(c.danteProductHierarchy),c.firstTransactionDate=u.FirstTransactionDate?1e3*u.FirstTransactionDate:-1,c.finalTransactionDate=u.FinalTransactionDate?1e3*u.FinalTransactionDate:-1,c.productTree=f.createProductTree(c.danteProductHierarchy),c.productTreeSelectedPeriods=angular.copy(c.productTree),c.productTreeSelectedPeriods.depthFirstTraversal(function(t){if("root"!==t.displayName&&0<t.levelsId.length){t.descendants[t.displayName]=t.displayName;var e=t.nodes;for(var n in e)angular.extend(t.descendants,e[n].descendants)}}),c.productTree=f.constructPurchaseHistory(c.productTree,u,c.danteProductHierarchy,c.accountId,o.RepresentativeAccounts),c.purchaseHistoryList.push(r);var i=f.getAccountSegments(a,o,s);return console.log("initPurchaseHistory",r,c.accountId,t[1],i),c.segment=i[0],c.segment?d.findOneByKey("DantePurchaseHistory",c.segment.segmentAccountId,"spendanalyticssegment"):(c.segment={},{})}).then(function(t){if(t.resultObj){var e=t.resultObj;c.productTree=f.constructPurchaseHistory(c.productTree,e,c.danteProductHierarchy,c.segment.segmentAccountId,c.segment.representativeAccounts),c.purchaseHistoryList.push(c.segment.segmentAccountId)}var n,i,r=p.periodToMomentFormat[c.period];n=-1<c.finalTransactionDate&&c.finalTransactionDate<(new Date).getTime()?moment(c.finalTransactionDate):moment(),i=-1<c.firstTransactionDate&&c.firstTransactionDate<(new Date).getTime()?moment(c.firstTransactionDate):moment(c.productTree.periodStartDate),c.endPeriodId=n.format(r),c.startPeriodId=n.add(-11,"months").format(r),c.periodEndDatePeriodId=c.endPeriodId,c.periodStartDatePeriodId=i.format(r),p.periodIdComparator(c.startPeriodId,c.periodStartDatePeriodId)<0&&(c.startPeriodId=c.periodStartDatePeriodId),console.log(c.periodEndDatePeriodId),console.log(c.periodStartDatePeriodId),c.setPeriodRange(),c.setSelectedPeriodsTree()})},this.setSelectedPeriodsTree=function(){var r=this,a=null,o=null;r.productTreeSelectedPeriods.depthFirstTraversal(function(t){var e=r.productTree.getNode(t.levelsId);if(t.expanded=!1,t.data=f.constructProduct(e,r.accountId,r.segment.segmentAccountId,r.period,r.periodRange),"root"!==t.displayName&&0<t.levelsId.length&&(a=Math.max(a,t.data.accountProductTotalSpend,t.data.accountProductTotalPrevYearSpend),o=Math.max(o,Math.abs(f.getSpendDiff(t.data.accountProductTotalSpend,t.data.segmentProductTotalAverageSpend)))),angular.isObject(t.nodes)){var n=[];for(var i in t.nodes)n.push(t.nodes[i]);t.nodes=n}}),r.productTreeSelectedPeriods.data.maxSpendYoy=a,r.productTreeSelectedPeriods.data.maxSpendSegmentDiff=o},this.setPeriodRange=function(){this.periodRange=p.getPeriodRange(this.period,this.startPeriodId,this.endPeriodId)},this.setPeriod=function(t){var e=p.periodToMomentFormat[this.period],n=p.periodToMomentFormat[t];this.period=t,this.startPeriodId=moment(this.startPeriodId,e).format(n),this.endPeriodId=moment(this.endPeriodId,e).format(n),this.setPeriodRange(),this.setSelectedPeriodsTree(),i.$broadcast("purchaseHistoryStoreChange")},this.setPeriodIdRange=function(t,e){this.startPeriodId=t,this.endPeriodId=e,this.setPeriodRange(),this.setSelectedPeriodsTree(),i.$broadcast("purchaseHistoryStoreChange")}}]),angular.module("mainApp.appCommon.directives.charts.ArcChartDirective",[]).directive("arcChart",["$window",function(r){return{restrict:"EA",scope:{},link:function(t,n,e){var i=e.chartSize,a=e.chartColor,o=e.chartValue,s=e.chartTotal,l=e.chartLabel;window.onresize=function(){t.$apply()},t.$watch(function(){return angular.element(r)[0].innerWidth},function(){t.render()}),t.render=function(){var t=2*Math.PI;$(n[0]).empty();var e=d3.select(n[0]).append("svg").attr("width",i).attr("height",i).append("g").attr("transform","translate("+i/2+","+i/2+")"),r=d3.svg.arc().startAngle(0).innerRadius(i/2-3).outerRadius(i/2);e.append("path").datum({endAngle:t}).style("fill","#DDDDDD").attr("d",r);e.append("path").datum({endAngle:0}).style("fill",a).attr("d",r).transition().duration(1e3).call(function(t,i){t.attrTween("d",function(e){var n=d3.interpolate(e.endAngle,i);return function(t){return e.endAngle=n(t),r(e)}})},o/s*t),e.append("text").attr("class","arc-chart-value").style("fill","#555555").attr("dy",".20em").text(o),null!=l&&e.append("text").attr("class","arc-chart-label").attr("dy","1.5em").style("fill","#BBBBBB").text(l)}}}}]),angular.module("mainApp",["ngRoute","ngSanitize","ngAnimate","ngDropdowns","templates-main","common.utilities.browserstorage","mainApp.appCommon.utilities.MetadataUtility","mainApp.core.utilities.ServiceErrorUtility","mainApp.appCommon.utilities.StringUtility","mainApp.core.services.ResourceStringsService","mainApp.core.services.SessionService","mainApp.core.services.ConfigurationService","mainApp.core.services.DanteWidgetService","mainApp.core.services.NotionService","mainApp.core.services.LpiPreviewService","mainApp.core.controllers.MainViewController","mainApp.core.controllers.ServiceErrorController","mainApp.core.controllers.NoNotionController","mainApp.core.controllers.NoAssociationController"]).controller("MainController",["$scope","$rootScope","$compile","$http","URLUtility","BrowserStorageUtility","ResourceUtility","ServiceErrorUtility","MetadataUtility","StringUtility","ResourceStringsService","SessionService","ConfigurationService","DanteWidgetService","NotionService","LpiPreviewStore","AuthenticationUtility",function(u,n,r,a,c,h,t,l,d,o,e,s,p,f,g,m,v){void 0===window.console&&(window.console={log:function(){}}),null==c.LpiPreview()&&(!function(n){if(!function(){try{return window.self!==window.top}catch(t){return!0}}())return console.log("-!- No IFrame Detected.");var t=function(){var t=document.getElementById("mainView");if(t){var e=t.offsetHeight;void 0!==n.MVDHeight&&n.MVDHeight==e||(e&&150<e?window.parent.postMessage("IFrameResizeEvent="+e,"*"):window.parent.postMessage("IFrameResizeEvent=auto","*"),n.MVDHeight=e)}};t(),n.resizeTimer=setInterval(t,10)}(this),window.addEventListener("message",function(t){if(t&&"string"==typeof t.data){var e=t.data.split("="),n=e[0],i=e[1],r={CrmAccountSelectedEvent:"account",CrmLeadSelectedEvent:"lead",CrmRecommendationSelectedEvent:"recommendation",CrmContactSelectedEvent:"contact",CrmOpportunitySelectedEvent:"opportunity",CrmTabSelectedEvent:"tab"}[n];if(r)switch(r){case"tab":u.handleCrmTabSelectedEvent(t,i);break;case"account":u.handleCrmAccountSelectedEvent(t,r);break;default:u.handleCrmObjectSelectedEvent(t,r)}}},!1)),u.handleCrmTabSelectedEvent=function(t,i){var e=document.querySelector('div[data-ng-controller="TabWidgetController"]');if(!e||!i)return!1;var r=angular.element(e).scope();return r?(r.$apply(function(){var t=r.tabs;if(t&&t.length&&!(t.length<2)){for(var e=0,n=0;n<t.length;n++){t[n].Title.replace(" ","").toLowerCase()===i.toLowerCase()&&(e=n)}r.tabClicked(null,t[e])}}),!1):void 0},u.handleCrmAccountSelectedEvent=function(t,e){var n=t.data.indexOf("="),i=t.data.substring(n+1,t.data.length);u.getRootNotion(i)},u.handleCrmObjectSelectedEvent=function(t,e){var n=t.data.indexOf("="),r=t.data.indexOf("?"),a=null,o=null;if(-1!=r){a=t.data.substring(n+1,r);var s=t.data.substring(r+1,t.data.length).split("?");for(i=0;i<s.length;i++){var l=s[i].split("=");l.length<2||"AccountID"==l[0]&&(o=l[1])}}else a=t.data.substring(n+1,t.data.length);u.getRootNotion(o,a,e)},u.validateSession=function(){v.AppendHttpHeaders(a),u.getResourceStrings()},u.getResourceStrings=function(){e.GetResourceStrings(t.DefaultLocale).then(function(t){u.getConfiguration()})},u.getConfiguration=function(){var t=c.CustomSettings();if(!o.IsEmptyString(t)){var e=JSON.parse(t.replace(/\n/g,"\\n").replace(/\r/g,"\\r"));h.setCrmCustomSettings(e),null!=e&&!0===e.hideNavigation&&$("body").addClass("dante-hide-navigation")}p.GetConfiguration().then(function(t){var e=null;if(null!=t&&!0===t.success){var n=null;e=null!==c.LpiPreview()?"recommendation":null!==c.CrmPurchaseHistoryAccount()&&null===c.CrmRecommendation()?"purchaseHistory":null!=c.CrmLead()?(n=c.CrmLead(),"lead"):null!=c.CrmRecommendation()?(n=c.CrmRecommendation(),"recommendation"):null!=c.CrmContact()?(n=c.CrmContact(),"contact"):null!=c.CrmOpportunity()?(n=c.CrmOpportunity(),"opportunity"):"account",u.getRootNotion(c.CrmAccount(),n,e)}else l.ShowErrorView(t)})},u.setApplicationContext=function(t,e,n){var i=null,r=c.CrmLead(),a=c.CrmRecommendation(),o=c.CrmContact(),s=c.CrmOpportunity(),l=c.CrmPurchaseHistoryAccount();"true"===c.LpiPreview()?h.setRootApplication(d.ApplicationContext.Account):l&&!a?(e=i=l,h.setRootApplication(d.ApplicationContext.PurchaseHistory)):null!=t||a?(i=t||e,h.setRootApplication(d.ApplicationContext.Account)):(i=e,null==r&&null==o&&null==s||h.setRootApplication(d.ApplicationContext.Lead));var u={ID:e,Notion:null!=r||null!=o||null!=s?d.NotionNames.Lead:d.NotionNames.Account,associationType:n};return h.setSelectedCrmObject(u),i},u.getRootNotion=function(t,e,n){var i=u.setApplicationContext(t,e,n),r=f.GetApplicationWidgetConfig();if(null==r)return null;var a=function(t){null!=t?null!==t.resultObj?(g.setRootNotion(t.resultObj,r),h.setRootApplication(d.ApplicationContext.PurchaseHistory),u.showMainView()):u.showNoAssociationView():l.ShowErrorView(t)},o=function(t){if(null!=t)if(null!=t.resultObj)g.setRootNotion(t.resultObj,r),u.showMainView();else{var e=c.CrmPurchaseHistoryAccount(),n=h.getCrmCustomSettings();null!==e&&!0===n.ShowPurchaseHistory?g.findOne("DanteAccount",e).then(a):u.showNoAssociationView()}else l.ShowErrorView(t)};function s(t){var e=angular.isObject(t.data)?t.data:{};"lpipreview"===e.context&&e.notion&&"lead"===e.notion&&(m.setLead(e.notionObject),o({resultObj:e.notionObject}))}"recommendation"===n&&null!==c.LpiPreview()?(window.addEventListener("message",s,!1),window.self!==window.parent&&window.parent.postMessage("initLpiPreview","*"),u.$on("$destroy",function(){window.removeEventListener("message",s)})):"recommendation"==n?g.findOneByKey(d.NotionNames.Lead,i,"RecommendationID",1).then(o):g.findOne(r.Notion,i).then(o)},u.showMainView=function(){a.get("app/core/views/MainView.html").success(function(t){var e=n.$new();r($("#mainView").html(t))(e)})},u.validateSession(),u.$on("ShowServiceErrorView",function(t,e){a.get("app/core/views/ServiceErrorView.html").success(function(t){var e=n.$new();r($("#mainView").html(t))(e)})}),u.showNoAssociationView=function(){a.get("app/core/views/NoAssociationView.html").success(function(t){var e=n.$new();r($("#mainView").html(t))(e)})}}]).factory("CacheTemplate",["$templateCache",function(e){return{request:function(t){return!t.cache&&/(\.html$)/.test(t.url)&&(t.cache=e),t}}}]).config(["$httpProvider",function(t){t.interceptors.push("CacheTemplate")}]),angular.module("common.utilities.browserstorage",[]).service("BrowserStorageUtility",function(){this.CacheTimeout=12e5,this._clientSessionStorageKey="DanteClientSession",this._clientSession=null,this._resourceStringsStorageKey="DanteResourceStrings",this._resourceStrings=null,this._currentRootObjectStorageKey="DanteCurrentRootObject",this._currentRootObject=null,this._rootApplicationStorageKey="DanteRootApplication",this._rootApplication=null,this._metadataStorageKey="DanteMetadata",this._metadata=null,this._widgetConfigStorageKey="DanteWidgetConfig",this._widgetConfig=null,this._selectedCrmObjectStorageKey="DanteSelectedCrmObject",this._selectedCrmObject=null,this.crmCustomSettings=null,this.setClientSession=function(t,e){var n={};null!=t&&null!=t.AvailableRights&&($.each(t.AvailableRights,function(t,e){n[e.Key]=e.Value}),t.availableRightsDictionary=n),this._setProperty(t,e,"_clientSession","_clientSessionStorageKey")},this.getClientSession=function(){return this._getProperty("_clientSession","_clientSessionStorageKey")},this.setResourceStrings=function(t,e){this._setProperty(t,e,"_resourceStrings","_resourceStringsStorageKey")},this.getResourceStrings=function(){return this._getProperty("_resourceStrings","_resourceStringsStorageKey")},this.setCurrentRootObject=function(t,e){this._setProperty(t,e,"_currentRootObject","_currentRootObjectStorageKey")},this.getCurrentRootObject=function(){return this._getProperty("_currentRootObject","_currentRootObjectStorageKey")},this.setRootApplication=function(t,e){this._setProperty(t,e,"_rootApplication","_rootApplicationStorageKey")},this.getRootApplication=function(){return this._getProperty("_rootApplication","_rootApplicationStorageKey")},this.setMetadata=function(t,e){this._setProperty(t,e,"_metadata","_metadataStorageKey")},this.getMetadata=function(){return this._getProperty("_metadata","_metadataStorageKey")},this.setWidgetConfig=function(t,e){this._setProperty(t,e,"_widgetConfig","_widgetConfigStorageKey")},this.getWidgetConfig=function(){return this._getProperty("_widgetConfig","_widgetConfigStorageKey")},this.setSelectedCrmObject=function(t,e){this._setProperty(t,e,"_selectedCrmObject","_selectedCrmObjectStorageKey")},this.getSelectedCrmObject=function(){return this._getProperty("_selectedCrmObject","_selectedCrmObjectStorageKey")},this.setCrmCustomSettings=function(t){this.crmCustomSettings=t},this.getCrmCustomSettings=function(){return this.crmCustomSettings},this._setProperty=function(t,e,n,i){this[i]&&(null!=t&&(t.Timestamp=(new Date).getTime()+this.CacheTimeout),$.jStorage.set(this[i],t),this[n]=t,e&&"function"==typeof e&&e())},this._getProperty=function(t,e){if(t&&e){if(null==this[t]){var n=$.jStorage.get(this[e]);this[t]=n||null}return this[t]}return null},this.clear=function(t){(t="boolean"==typeof t&&t)||this.setClientSession(null),this.setCurrentRootObject(null),this.setWidgetConfig(null),this.setMetadata(null),this.setRootApplication(null),this.setResourceStrings(null)}}),angular.module("mainApp.core.utilities.ServiceErrorUtility",["mainApp.appCommon.utilities.ResourceUtility","mainApp.appCommon.utilities.FaultUtility","mainApp.appCommon.modals.SimpleModal"]).service("ServiceErrorUtility",["$rootScope","FaultUtility","ResourceUtility","SimpleModal",function(e,r,a,n){this.InvalidCredentials="LOGIN_INVALID_AUTHENTICATION_CREDENTIALS",this.ExpiredCredentials="LOGIN_EXPIRED_AUTHENTICATION_CREDENTIALS",this.ExpiredPassword="LOGIN_EXPIRED_USER_PASSWORD",this.HandleFriendlyServiceResponseErrors=function(t){if(null!=t&&!this.HandleSessionTimeout(t))return this.GetUserDisplayableErrors(t)},this.HandleServiceResponseFailure=function(t,e,n){if(!(n=void 0!==n&&n)){var i=this.HandleFriendlyServiceResponseErrors(t);r.ShowFaultAlert(i,e)}},this.HandleFriendlyNoResponseFailure=function(){var t=a.getString("UNEXPECTED_SERVICE_ERROR");return"UNEXPECTED_SERVICE_ERROR"==t&&(t="Unknown error occurred."),{success:!1,resultObj:null,resultErrors:t}},this.HandleSessionTimeout=function(t){var e=!1;return this.ServiceResponseContainsError(t,this.ExpiredCredentials)&&(n.show({message:a.getString(this.ExpiredCredentials),title:a.getString("EXPIRED_SESSION_TITLE"),showCloseButton:!1}),e=!0),e},this.GetUserDisplayableErrors=function(t){var e="";if(null!=t&&null!=t.Errors&&0<t.Errors.length)for(var n=0;n<t.Errors.length;n++){var i=t.Errors[n].Key;e+=t.Errors[n].Value.replace(i,a.getString(i))}return e},this.ServiceResponseContainsError=function(t,e){var n=!1;if(null!=t&&null!=t.Errors&&0<t.Errors.length)for(var i=0;i<t.Errors.length;i++)t.Errors[i].Key==e&&(n=!0);return n},this.ServiceResultError="",this.ShowErrorView=function(t){this.ServiceResultError=null==t?this.HandleFriendlyNoResponseFailure():t.resultErrors,e.$broadcast("ShowServiceErrorView")}}]),angular.module("mainApp.core.services.ResourceStringsService",["mainApp.appCommon.utilities.URLUtility","mainApp.appCommon.utilities.ResourceUtility"]).service("ResourceStringsService",["$http","$q","URLUtility","ResourceUtility",function(e,n,t,u){this.DefaultLocale="en-US",this.GetResourceStrings=function(t){var l=n.defer();return null==t&&(t=this.DefaultLocale),e({method:"GET",url:"resources/"+t+"/ResourceStrings.txt"}).success(function(t,e,n,i){if(null!=t){for(var r={},a=t.split("\r\n"),o=0;o<a.length;o++)if(""!==a[o]){var s=a[o].split("=");r[s[0]]=s[1]}u.configStrings=r,u.resourceStringsInitialized=!0,l.resolve(!0)}}).error(function(t,e,n,i){l.resolve(!0)}),l.promise}}]),angular.module("mainApp.core.services.SessionService",["mainApp.appCommon.utilities.URLUtility","common.utilities.browserstorage","mainApp.core.utilities.ServiceErrorUtility","mainApp.appCommon.utilities.AuthenticationUtility"]).service("SessionService",["$http","$q","URLUtility","BrowserStorageUtility","ServiceErrorUtility","AuthenticationUtility",function(i,r,a,o,t,s){this.ValidateSession=function(){s.AppendHttpHeaders(i);var t=a.CrmSessionID(),e=o.getClientSession();null!=e&&e==t||o.clear(!1);var n=r.defer();return n.resolve({Success:!0}),n.promise}}]),angular.module("mainApp.core.services.ConfigurationService",["common.utilities.browserstorage","mainApp.core.utilities.ServiceErrorUtility"]).service("ConfigurationService",["$http","$q","BrowserStorageUtility","ServiceErrorUtility",function(n,i,o,s){this.GetConfiguration=function(){var a=i.defer(),t=o.getMetadata(),e=o.getWidgetConfig();if(null!=t&&t.Timestamp>(new Date).getTime()&&null!=e&&e.Timestamp>(new Date).getTime()){a.resolve({success:!0,resultObj:null,resultErrors:null})}else n({method:"GET",url:"/ulysses/danteconfiguration"}).success(function(t,e,n,i){null==t&&a.resolve(s.HandleFriendlyNoResponseFailure());var r={success:t.Success,resultObj:null,resultErrors:null};!0===t.Success?(null!=t.Result&&null!=t.Result.MetadataDocument&&o.setMetadata(t.Result.MetadataDocument),null!=t.Result&&null!=t.Result.WidgetConfigurationDocument&&o.setWidgetConfig(JSON.parse(t.Result.WidgetConfigurationDocument))):r.resultErrors=s.HandleFriendlyServiceResponseErrors(t),a.resolve(r)}).error(function(t,e,n,i){a.resolve(s.HandleFriendlyNoResponseFailure())});return a.promise}}]),angular.module("mainApp.core.services.DanteWidgetService",["common.utilities.browserstorage","mainApp.appCommon.utilities.WidgetConfigUtility","mainApp.appCommon.utilities.MetadataUtility"]).service("DanteWidgetService",["$compile","BrowserStorageUtility","WidgetConfigUtility","MetadataUtility","ServiceErrorUtility",function(t,r,a,e,o){this.GetApplicationWidgetConfig=function(){var t=r.getRootApplication();if(null==t)return null;var e=r.getWidgetConfig();if(!e)return o.ShowErrorView({resultErrors:"Error - Unable to get APPLICATION WIDGET CONFIGURATION, Application Context not set?"});if(null!=e.Applications)for(var n=0;n<e.Applications.length;n++){var i=a.GetWidgetConfig(e.Applications[n],t);if(null!=i)return i}return null}}]),angular.module("mainApp.core.services.NotionService",["common.utilities.browserstorage","mainApp.core.utilities.ServiceErrorUtility","mainApp.appCommon.utilities.MetadataUtility","mainApp.appCommon.utilities.ResourceUtility"]).service("NotionService",["$http","$q","BrowserStorageUtility","ServiceErrorUtility","MetadataUtility","ResourceUtility",function(c,h,u,d,a,o){this.findOne=function(o,s){var l=this,u=h.defer();if(null==o||null==s)return u.resolve(null),u.promise;var t=$.jStorage.get(o);if(null!=t&&null!=t.listData)for(var e=0;e<t.listData.length;e++){var n=t.listData[e];if(n.Id==s&&n.Timestamp>(new Date).getTime()){var i={success:!0,resultObj:n.Data,resultErrors:null};return u.resolve(i),u.promise}}return console.log("GetItem",o,s),c({method:"GET",url:"/ulysses/datacollection/accounts/"+s+"/TalkingPoint/danteformat"}).success(function(t,e,n,i){null==t&&u.resolve(d.HandleFriendlyNoResponseFailure());var r={success:t.Success,resultObj:null,resultErrors:null};if(!0===t.Success)if(null!=t.Result){var a=JSON.parse(t.Result);l.storeNotionData(o,s,a),r.resultObj=a}else l.storeNotionData(o,s,null);else r.resultErrors=d.HandleFriendlyServiceResponseErrors(t);u.resolve(r)}).error(function(t,e,n,i){u.resolve(d.HandleFriendlyNoResponseFailure())}),u.promise},this.findOneByKey=function(o,s,t){var l=this,u=h.defer();if(null==o||null==s)return u.resolve(null),u.promise;var e=$.jStorage.get(o);if(null!=e&&null!=e.listData)for(var n=0;n<e.listData.length;n++){var i=e.listData[n];if(i.Id==s&&i.Timestamp>(new Date).getTime()){var r={success:!0,resultObj:i.Data,resultErrors:null};return u.resolve(r),u.promise}}console.log("GetItemsByKey ONE",o,t,s);var a="./DanteService.svc/GetItemsByKey?notionName="+o;switch(a+="&keyname="+t,a+="&value="+s,a+="&limit=1",o){case"DanteLead":a="/ulysses/recommendations/"+s+"/danteformat";break;case"DantePurchaseHistory":a="/ulysses/purchasehistory/"+t+"/"+s+"/danteformat"}return c({method:"GET",url:a}).success(function(t,e,n,i){null==t&&u.resolve(d.HandleFriendlyNoResponseFailure());var r={success:t.Success,resultObj:null,resultErrors:null};if(!0===t.Success)if(null!=t.Result){var a=JSON.parse(t.Result);l.storeNotionData(o,s,a),r.resultObj=a}else l.storeNotionData(o,s,null);else r.resultErrors=d.HandleFriendlyServiceResponseErrors(t);u.resolve(r)}).error(function(t,e,n,i){u.resolve(d.HandleFriendlyNoResponseFailure())}),u.promise},this.findItemsByKey=function(t,e,n,i){var o=h.defer();if(null==t||null==e||null==n)return o.resolve(null),o.promise;var s=t+"-"+e,r=$.jStorage.get(s);if(null!=r&&r.Timestamp>(new Date).getTime())o.resolve(r.listData);else{console.log("GetItemsByKey",t,n,e,i);var a="./DanteService.svc/GetItemsByKey?notionName="+t;switch(a+="&keyname="+n,a+="&value="+e,a+="&limit="+(i||-1),t){case"DanteTalkingPoint":a="/ulysses/talkingpoints/playid/"+e+"/danteformat";break;case"DanteAccount":"IsSegment"===n&&(a="/ulysses/datacollection/accounts/spendanalyticssegments/danteformat")}c({method:"GET",url:a}).success(function(t,e,n,i){null==t&&o.resolve(d.HandleFriendlyNoResponseFailure());var r={listData:[],Timestamp:(new Date).getTime()+u.CacheTimeout,resultErrors:null};if(!0===t.Success&&null!=t.Result){for(var a=0;a<t.Result.length;a++)r.listData.push(JSON.parse(t.Result[a]));$.jStorage.set(s,r)}else r.resultErrors=d.HandleFriendlyServiceResponseErrors(t);o.resolve(r.listData)}).error(function(t,e,n,i){o.resolve(d.HandleFriendlyNoResponseFailure())})}return o.promise},this.storeNotionData=function(t,e,n){var i={Id:e,Data:n,Timestamp:(new Date).getTime()+u.CacheTimeout},r=$.jStorage.get(t);if(null===r||null===r.listData||0===r.listData.length){var a={listData:[]};a.listData.push(i),console.log("new storeNotionData();",t,a),$.jStorage.set(t,a)}else{console.log("cached storeNotionData();",t,e,i);for(var o,s=!1,l=0;l<r.listData.length;l++)if((o=r.listData[l]).Id==e){s=!0;break}!0===s?(o.Data=n,o.Timestamp=i.Timestamp):r.listData.push(i),$.jStorage.set(t,r)}},this.findAll=function(o){var s=h.defer();if(null==o)return s.resolve(null),s.promise;var t=$.jStorage.get(o);if(null!=t&&t.Timestamp>(new Date).getTime())s.resolve(t.listData);else{console.log("GetAllItems",o);c({method:"GET",url:"/ulysses/producthierarchy/danteformat"}).success(function(t,e,n,i){null===t&&s.resolve(d.HandleFriendlyNoResponseFailure());var r={listData:[],Timestamp:(new Date).getTime()+u.CacheTimeout,resultErrors:null};if(!0===t.Success&&null!==t.Result){for(var a=0;a<t.Result.length;a++)r.listData.push(JSON.parse(t.Result[a]));$.jStorage.set(o,r)}else r.resultErrors=d.HandleFriendlyServiceResponseErrors(t);s.resolve(r.listData)}).error(function(t,e,n,i){s.resolve(d.HandleFriendlyNoResponseFailure())})}return s.promise},this.findItemsByKeys=function(t,e,n){var o=h.defer();if(null==t||!Array.isArray(e)||0===e.length)return o.resolve(null),o.promise;var i=JSON.stringify(e),s=t+"-"+i,r=$.jStorage.get(s);if(null!=r&&r.Timestamp>(new Date).getTime())return o.resolve(r.listData),o.promise;console.log("GetItemsByKeys",t,e,n);var a="./DanteService.svc/GetItemsByKeys?notionName="+t;return a+="&keyValuePairs="+i,c({method:"GET",url:a+="&limit="+(n||-1)}).success(function(t,e,n,i){null==t&&o.resolve(d.HandleFriendlyNoResponseFailure());var r={listData:[],Timestamp:(new Date).getTime()+u.CacheTimeout,resultErrors:null};if(!0===t.Success&&null!=t.Result){for(var a=0;a<t.Result.length;a++)r.listData.push(JSON.parse(t.Result[a]));$.jStorage.set(s,r)}else r.resultErrors=d.HandleFriendlyServiceResponseErrors(t);o.resolve(r.listData)}).error(function(t,e,n,i){o.resolve(d.HandleFriendlyNoResponseFailure())}),o.promise},this.setRootNotion=function(t,e){var n=u.getMetadata();if(null==t||null==e||null==n)return{};var i=a.GetNotionMetadata(e.Notion,n),r=a.GetNotionProperty(e.HeaderNameProperty,i);null!=r&&r.PropertyTypeString==a.PropertyType.STRING?t.HeaderName=t[r.Name]||"":t.HeaderName=o.getString("DANTE_GENERIC_HEADER_LABEL"),u.setCurrentRootObject(t)}}]),angular.module("mainApp.core.services.LpiPreviewService",[]).service("LpiPreviewStore",function(){this.lead=null,this.setLead=function(t){this.lead=t},this.getLead=function(){return this.lead}}),angular.module("mainApp.core.controllers.MainViewController",["mainApp.appCommon.utilities.ResourceUtility","mainApp.appCommon.utilities.MetadataUtility","mainApp.appCommon.utilities.URLUtility","common.utilities.browserstorage","mainApp.core.utilities.ServiceErrorUtility","mainApp.core.controllers.MainHeaderController","mainApp.core.services.DanteWidgetService","mainApp.core.services.NotionService","mainApp.plays.controllers.PlayListController","mainApp.plays.controllers.PlayDetailsController","mainApp.leads.controllers.LeadDetailsController","mainApp.purchaseHistory.controllers.PurchaseHistoryController","mainApp.appCommon.widgets.AnalyticAttributeTileWidget","mainApp.appCommon.widgets.AnalyticAttributeListWidget","mainApp.appCommon.widgets.PlayListTileWidget","mainApp.appCommon.widgets.PlayDetailsTileWidget","mainApp.appCommon.widgets.LeadDetailsTileWidget","mainApp.appCommon.widgets.TalkingPointWidget","mainApp.appCommon.widgets.PurchaseHistoryWidget"]).controller("MainViewController",["$scope","$rootScope","$compile","$http","ResourceUtility","BrowserStorageUtility","DanteWidgetService","MetadataUtility","NotionService","URLUtility","ServiceErrorUtility",function(t,r,a,e,n,i,o,s,l,u,c){var h=i.getCrmCustomSettings();t.showMainHeader=!h||!h.HideHeader;var d=i.getSelectedCrmObject();if(i.getRootApplication()===s.ApplicationContext.PurchaseHistory)e.get("app/purchaseHistory/views/PurchaseHistoryView.html").success(function(t){var e=r.$new();a($("#mainContentView").html(t))(e),m("purchase-history")});else if("recommendation"==d.associationType){var p=i.getCurrentRootObject(),f=p.SalesforceAccountID;if(f){var g=o.GetApplicationWidgetConfig();l.findOne("DanteAccount",f).then(function(t){null!=t&&!0===t.success?null!=t.resultObj&&(l.setRootNotion(t.resultObj,g),b(p.PlayID,!0)):c.ShowErrorView(t)})}else b(p.PlayID,!0)}else i.getRootApplication()==s.ApplicationContext.Lead?v():i.getRootApplication()==s.ApplicationContext.Account&&d&&null!=d.ID?b(d.ID,!0):y();function m(t){setTimeout(function(){$("body").removeClass("page-lead-details").removeClass("page-play-details").removeClass("page-play-list").removeClass("page-purchase-history").addClass("page-"+t)},0)}function v(){e.get("app/leads/views/LeadDetailsView.html").success(function(t){var e=r.$new();a($("#mainContentView").html(t))(e),m("lead-details")})}function y(){e.get("app/plays/views/PlayListView.html").success(function(t){var e=r.$new();a($("#mainContentView").html(t))(e),m("play-list")})}function b(n,i){i=null!=i&&"boolean"==typeof i&&i,e.get("app/plays/views/PlayDetailsView.html",{port:":8443"}).success(function(t){var e=r.$new();e.playId=n,e.isLatticeForLeadsContext=i,a($("#mainContentView").html(t))(e),m("play-details")})}t.$on("ShowLeadDetails",function(t,e){v()}),t.$on("ShowPlayList",function(t,e){y()}),t.$on("ShowPlayDetails",function(t,e){b(e)})}]),angular.module("mainApp.core.controllers.MainHeaderController",["mainApp.appCommon.utilities.ResourceUtility","mainApp.appCommon.utilities.URLUtility","mainApp.appCommon.utilities.MetadataUtility","common.utilities.browserstorage"]).controller("MainHeaderController",["$scope","$rootScope","ResourceUtility","URLUtility","BrowserStorageUtility","MetadataUtility",function(t,n,e,i,r,a){t.ResourceUtility=e;var o=r.getCurrentRootObject();t.headerLabel=o.HeaderName;var s="true"===i.HasSalesprism(),l=r.getRootApplication()==a.ApplicationContext.Account;t.showSellingIdeas=l,t.showSalesprismButton=s&&l,t.handleViewInSalesprismClick=function(){var t="GoToSalesprismAccountEvent="+o.SalesforceAccountID;window.parent.postMessage(t,"*")},t.handlePlayListClick=function(t){null!=t&&t.preventDefault();var e=r.getSelectedCrmObject();r.getRootApplication()!=a.ApplicationContext.Lead&&(r.getRootApplication()==a.ApplicationContext.Account&&e&&null!=e.ID||(r.setSelectedCrmObject(null),n.$broadcast("ShowPlayList")))}}]),angular.module("mainApp.core.controllers.ServiceErrorController",["mainApp.appCommon.utilities.ResourceUtility","mainApp.core.utilities.ServiceErrorUtility"]).controller("ServiceErrorController",["$scope","ResourceUtility","ServiceErrorUtility",function(t,e,n){t.serviceErrorTitle=e.getString("UNEXPECTED_SERVICE_ERROR_TITLE"),"UNEXPECTED_SERVICE_ERROR_TITLE"==t.serviceErrorTitle&&(t.serviceErrorTitle="System error occurred. Please contact Lattice support with the error below."),t.serviceErrorMessage=n.ServiceResultError}]),angular.module("mainApp.core.controllers.NoNotionController",["mainApp.appCommon.utilities.ResourceUtility","common.utilities.browserstorage","mainApp.appCommon.utilities.MetadataUtility"]).controller("NoNotionController",["$scope","ResourceUtility","BrowserStorageUtility","MetadataUtility",function(t,e,n,i){var r="";r=n.getRootApplication()==i.ApplicationContext.Lead?"lead":"account",t.title=e.getString("NO_NOTION_FOUND_TITLE",[r]),t.message1=e.getString("NO_NOTION_FOUND_MESSAGE_1",[r]),t.message2=e.getString("NO_NOTION_FOUND_MESSAGE_2",[r])}]),angular.module("mainApp.core.controllers.NoAssociationController",["mainApp.appCommon.utilities.ResourceUtility","common.utilities.browserstorage","mainApp.appCommon.utilities.MetadataUtility"]).controller("NoAssociationController",["$scope","ResourceUtility","BrowserStorageUtility","MetadataUtility",function(t,e,n,i){var r=n.getSelectedCrmObject(),a=r.associationType;t.supportEmail=null,t.supportEmailMessage=null;var o=n.getCrmCustomSettings();"purchaseHistory"===a?t.message1=e.getString("NO_NOTION_FOUND_MESSAGE_1",["SalesforceAccountID: "+r.ID]):null!=o&&null!=o.NoDataMessage?t.message1=t.message1||"No Recommendations Found":t.message1=t.message1||e.getString("NO_ASSOCIATION_FOUND_MESSAGE_1"),null!=o&&null!=o.SupportEmail&&(t.supportEmail="support@lattice-engines.com",t.supportEmailMessage=e.getString("NO_ASSOCIATION_FOUND_SUPPORT_EMAIL"))}]),angular.module("mainApp.plays.controllers.PlayListController",["mainApp.appCommon.utilities.WidgetConfigUtility","mainApp.appCommon.services.WidgetFrameworkService","common.utilities.browserstorage","mainApp.core.services.DanteWidgetService","mainApp.core.services.NotionService","mainApp.core.controllers.MainHeaderController","mainApp.plays.controllers.NoPlaysController"]).controller("PlayListController",["$scope","$http","$rootScope","$compile","WidgetConfigUtility","BrowserStorageUtility","WidgetFrameworkService","DanteWidgetService","NotionService",function(t,n,i,r,e,a,o,s,l){var u=a.getCurrentRootObject(),c=a.getMetadata(),h=s.GetApplicationWidgetConfig(),d=e.GetWidgetConfig(h,"playListScreenWidget");null!=d&&l.findItemsByKey("DanteLead",u.SalesforceAccountID,"SalesforceAccountID").then(function(t){if(null!=t)if(u.Preleads=t,null!=u.Preleads&&0!==u.Preleads.length){var e=$("#playListScreen");o.CreateWidget({element:e,widgetConfig:d,metadata:c,data:u})}else n.get("app/plays/views/NoPlaysView.html").success(function(t){var e=i.$new();e.accountName=u.DisplayName;var n=$("#mainContentView");n.addClass("no-plays-background"),r(n.html(t))(e)})})}]),angular.module("mainApp.plays.controllers.PlayDetailsController",["mainApp.appCommon.utilities.WidgetConfigUtility","mainApp.appCommon.utilities.WidgetEventConstantUtility","mainApp.appCommon.utilities.MetadataUtility","mainApp.appCommon.utilities.URLUtility","mainApp.appCommon.services.WidgetFrameworkService","common.utilities.browserstorage","mainApp.core.services.DanteWidgetService","mainApp.core.services.NotionService","mainApp.core.controllers.MainHeaderController","mainApp.plays.controllers.NoPlaysController"]).controller("PlayDetailsController",["$scope","$http","$rootScope","$compile","WidgetConfigUtility","WidgetEventConstantUtility","MetadataUtility","BrowserStorageUtility","WidgetFrameworkService","DanteWidgetService","NotionService","URLUtility","LpiPreviewStore",function(a,o,s,l,u,t,e,c,h,n,d,p,i){var f=c.getCurrentRootObject(),g=c.getMetadata(),m=n.GetApplicationWidgetConfig(),r=c.getSelectedCrmObject(),v=null,y=a.playId;a.showPlayDetailsNav=!1,a.showTabs=!0;var b=u.GetWidgetConfig(m,"playDetailsTileRepeater");if(null!=b&&null!=e.GetNotionAssociationMetadata(b.Notion,b.TargetNotion,g)){var _=u.GetWidgetConfig(m,"playDetailsTileWidget"),w=e.GetNotionMetadata(_.Notion,g),C=e.GetNotionProperty(_.IdProperty,w),S=e.GetNotionProperty(_.CrmIdProperty,w),x=function(t){for(var e=null,n=0;n<v.length;n++){var i=v[n];if(i[C.Name]==t||i[S.Name]==t||i.PlayID&&i.PlayID==t){e=v[n];break}}null==e&&(e=v[0]);var r=u.GetWidgetConfig(m,"playDetailsHeaderWidget");if(null!=r){var a,o=$("#playDetailsHeader");h.CreateWidget({element:o,widgetConfig:r,metadata:g,data:e}),null===p.LpiPreview()?(a=e,d.findItemsByKey("DanteTalkingPoint",a.PlayID,"PlayID").then(function(t){null!==t&&0<t.length&&(a.TalkingPoints=t.slice().sort(k))})).then(function(){}).then(function(){D(e)}):D(e)}},T=p.CrmRecommendation();if("recommendation"===r.associationType&&"true"===p.LpiPreview()){var A=i.getLead();v=[A],selectedPlay=v[0],x(selectedPlay)}else"recommendation"===r.associationType&&T?d.findOneByKey("DanteLead",T,"RecommendationID",1).then(function(t){v=[t.resultObj],selectedPlay=v[0].PlayID,x(selectedPlay)}):d.findItemsByKey(b.TargetNotion,f[b.TargetNotionKey],b.TargetNotionKey).then(function(t){if(null!=t)if(null!=(v=t)&&0!==v.length){var e,n=!(a.showPlayDetailsNav=!0);if(null!=C&&null!=C.Name)for(var i=0;i<t.length;i++)if((e=t[i]).isSelected=y==e[C.Name]||y==e[S.Name],!0===e.isSelected){n=!0;break}0<v.length&&!n&&(v[0].isSelected=!0),f.Preleads=t,n&&a.isLatticeForLeadsContext&&(f.Preleads=[e]);var r=$("#playDetailsNav");h.CreateWidget({element:r,widgetConfig:b,metadata:g,data:f,parentData:f}),x(y)}else o.get("app/plays/views/NoPlaysView.html").success(function(t){var e=s.$new();e.accountName=f.DisplayName;var n=$("#mainContentView");n.addClass("no-plays-background"),l(n.html(t))(e)})});a.$on(t.PLAY_DETAILS_TAB_CLICKED,function(t,e){x(e)})}function D(t){var e=u.GetWidgetConfig(m,"playDetailsTabWidget");if(null!=e){var n=c.getCrmCustomSettings();if(a.showTabs=!n||!n.HideTabs,null!=n&&null!=n.DefaultTab)switch(n.DefaultTab.trim().toUpperCase()){case"TALKINGPOINTS":e.DefaultTab=1;break;case"PURCHASEHISTORY":e.DefaultTab=2;break;default:e.DefaultTab=0}if(null!=n&&!0===n.HideBSTab)for(var i=0;i<e.Widgets.length;i++)if("playAttributesScreenWidget"===e.Widgets[i].ID){e.Widgets.splice(i,1),e.DefaultTab>i&&e.DefaultTab--;break}var r=$("#playDetailsContent");h.CreateWidget({element:r,widgetConfig:e,metadata:g,data:t,parentData:f})}}function k(t,e){return t.Offset<e.Offset?-1:t.Offset>e.Offset?1:0}}]),angular.module("mainApp.plays.controllers.NoPlaysController",["mainApp.appCommon.utilities.ResourceUtility","common.utilities.browserstorage"]).controller("NoPlaysController",["$scope","ResourceUtility","BrowserStorageUtility",function(t,e,n){t.showCustomMessage=!1,t.noPlaysMessage=e.getString("DANTE_NO_PLAYS_LABEL"),t.customMessage="";var i=n.getCrmCustomSettings();null!=i&&null!=i.NoPlaysMessage&&(t.customMessage=i.NoPlaysMessage,t.showCustomMessage=!0)}]),angular.module("mainApp.leads.controllers.LeadDetailsController",["mainApp.appCommon.utilities.WidgetConfigUtility","mainApp.appCommon.services.WidgetFrameworkService","common.utilities.browserstorage","mainApp.core.controllers.MainHeaderController","mainApp.core.services.DanteWidgetService","mainApp.core.services.NotionService"]).controller("LeadDetailsController",["$scope","BrowserStorageUtility","WidgetConfigUtility","DanteWidgetService","WidgetFrameworkService","NotionService",function(t,e,n,i,r,a){var o=e.getCurrentRootObject(),s=e.getMetadata(),l=i.GetApplicationWidgetConfig(),u=n.GetWidgetConfig(l,"leadDetailsTileWidget");if(null!=u&&null!=o){var c=$(".js-dante-lead-details-nav-tiles-container");r.CreateWidget({element:c,widgetConfig:u,metadata:s,data:o})}}]),angular.module("mainApp.purchaseHistory.controllers.PurchaseHistoryController",["mainApp.appCommon.utilities.WidgetConfigUtility","mainApp.appCommon.services.WidgetFrameworkService","common.utilities.browserstorage","mainApp.core.services.DanteWidgetService"]).controller("PurchaseHistoryController",["$scope","$rootScope","WidgetConfigUtility","BrowserStorageUtility","WidgetFrameworkService","DanteWidgetService",function(t,e,n,i,r,a){var o=i.getMetadata(),s=a.GetApplicationWidgetConfig(),l=i.getCurrentRootObject(),u=n.GetWidgetConfig(s,"purchaseHistoryTabWidget"),c=$("#purchaseHistoryScreen");r.CreateWidget({element:c,widgetConfig:u,metadata:o,data:l})}]),angular.module("templates-main",["app/AppCommon/widgets/analyticAttributeListWidget/AnalyticAttributeListWidgetTemplate.html","app/AppCommon/widgets/analyticAttributeTileWidget/AnalyticAttributeTileWidgetTemplate.html","app/AppCommon/widgets/arcChartWidget/ArcChartWidgetTemplate.html","app/AppCommon/widgets/collapsiblePanelWidget/CollapsiblePanelWidgetTemplate.html","app/AppCommon/widgets/leadDetailsTileWidget/LeadDetailsTileWidgetTemplate.html","app/AppCommon/widgets/modelDetailsWidget/ModelDetailsWidgetTemplate.html","app/AppCommon/widgets/modelListTileWidget/ModelListTileWidgetTemplate.html","app/AppCommon/widgets/playDetailsTileWidget/PlayDetailsTileWidgetTemplate.html","app/AppCommon/widgets/playListTileWidget/PlayListTileWidgetTemplate.html","app/AppCommon/widgets/purchaseHistoryWidget/PurchaseHistoryWidgetTemplate.html","app/AppCommon/widgets/purchaseHistoryWidget/templates/purchaseHistoryNavTemplate.html","app/AppCommon/widgets/purchaseHistoryWidget/templates/purchaseHistorySegmentTableTemplate.html","app/AppCommon/widgets/purchaseHistoryWidget/templates/purchaseHistorySpendTableTemplate.html","app/AppCommon/widgets/purchaseHistoryWidget/templates/purchaseHistoryTimelineTemplate.html","app/AppCommon/widgets/purchaseHistoryWidget/templates/purchaseHistoryYearTableTemplate.html","app/AppCommon/widgets/repeaterWidget/RepeaterWidgetTemplate.html","app/AppCommon/widgets/screenHeaderWidget/ScreenHeaderWidgetTemplate.html","app/AppCommon/widgets/screenWidget/ScreenWidgetTemplate.html","app/AppCommon/widgets/tabWidget/TabWidgetTemplate.html","app/AppCommon/widgets/talkingPointWidget/TalkingPointWidgetTemplate.html","app/AppCommon/widgets/thresholdExplorerWidget/ThresholdExplorerWidgetTemplate.html","app/core/views/InitialView.html","app/core/views/MainHeaderView.html","app/core/views/MainView.html","app/core/views/NoAssociationView.html","app/core/views/NoNotionView.html","app/core/views/ServiceErrorView.html","app/leads/views/LeadDetailsView.html","app/plays/views/NoPlaysView.html","app/plays/views/PlayDetailsView.html","app/plays/views/PlayListView.html","app/purchaseHistory/views/PurchaseHistoryView.html"]),angular.module("app/AppCommon/widgets/analyticAttributeListWidget/AnalyticAttributeListWidgetTemplate.html",[]).run(["$templateCache",function(t){t.put("app/AppCommon/widgets/analyticAttributeListWidget/AnalyticAttributeListWidgetTemplate.html",'<div data-ng-controller="AnalyticAttributeListWidgetController"> <div data-ng-show="!hasAttributes"> <div class="empty-analytic-list-container"> <span class="empty-analytic-list-description"> {{ResourceUtility.getString(\'DANTE_LEAD_NO_INSIGHTS_DESCRIPTION\')}}&nbsp; <a class="tooltip fa fa-info-circle" href="#" title="{{learnMoreTooltip}}" data-ng-click="learnMoreClicked($event)"> </a> </span> </div> </div> <div class="js-analytic-attribute-list analytic-attribute-list"> </div> </div>')}]),angular.module("app/AppCommon/widgets/analyticAttributeTileWidget/AnalyticAttributeTileWidgetTemplate.html",[]).run(["$templateCache",function(t){t.put("app/AppCommon/widgets/analyticAttributeTileWidget/AnalyticAttributeTileWidgetTemplate.html",'<div class="analytic-attribute-tile {{aboveAverageLift ? \'attr-lift-positive\': \'attr-lift-negative\'}}" data-ng-controller="AnalyticAttributeTileWidgetController"> <img class="analytic-attribute-tile-icon" src="assets/images/{{icon}}.png"> <div class="analytic-attribute-tile-position"> <div class="float-right" data-ng-show="data.Lift"> <div class="lift-container" data-ng-show="showLift"> <div class="lift-super-label">CONVERTS</div> <div class="lift">{{data.Lift}}</div> <div class="lift-sub-label">{{ResourceUtility.getString(\'LIFT_SUB_LABEL\')}}</div> </div> <div data-ng-show="!showLift"> <div class="lift-indicator-above" data-ng-show="aboveAverageLift"> <div class="lift-image fa fa-caret-up"></div> <div class="lift-image-description">{{ResourceUtility.getString(\'LIFT_ABOVE_AVERAGE\')}}</div> </div> <div class="lift-indicator-below" data-ng-show="!aboveAverageLift"> <div class="lift-image fa fa-caret-down"></div> <div class="lift-image-description">{{ResourceUtility.getString(\'LIFT_BELOW_AVERAGE\')}}</div> </div> </div> </div> <div class="analytic-attribute-heading">{{data.DisplayName}}</div> <div class="analytic-attribute-description" data-ng-show="data.Description"> {{data.Description}} </div> <div class="analytic-attribute-title">{{data.BucketName}}</div> </div> </div>')}]),angular.module("app/AppCommon/widgets/arcChartWidget/ArcChartWidgetTemplate.html",[]).run(["$templateCache",function(t){t.put("app/AppCommon/widgets/arcChartWidget/ArcChartWidgetTemplate.html",'<div data-ng-controller="ArcChartWidgetController"> <div data-arc-chart data-chart-size="{{ChartSize}}" data-chart-value="{{ChartValue}}" data-chart-total="{{ChartTotal}}" data-chart-color="{{ChartColor}}" data-chart-label="{{ChartLabel}}"></div> </div>')}]),angular.module("app/AppCommon/widgets/collapsiblePanelWidget/CollapsiblePanelWidgetTemplate.html",[]).run(["$templateCache",function(t){t.put("app/AppCommon/widgets/collapsiblePanelWidget/CollapsiblePanelWidgetTemplate.html",'<div data-ng-controller="CollapsiblePanelWidgetController"> <div class="collapsible-panel-container"> <div class="collapsible-panel-header" data-ng-click="panelClicked()"> <span class="collapsible-panel-title-container">{{panelTitle}}</span> <span class="collapsible-panel-button float-left fa {{panelOpen ? \'fa-chevron-up\' : \'fa-chevron-down\'}}"></span> </div> <div class="js-collapsible-panel-content collapsible-panel-content"></div> </div> </div>')}]),angular.module("app/AppCommon/widgets/leadDetailsTileWidget/LeadDetailsTileWidgetTemplate.html",[]).run(["$templateCache",function(t){t.put("app/AppCommon/widgets/leadDetailsTileWidget/LeadDetailsTileWidgetTemplate.html",'<div data-ng-controller="LeadDetailsTileWidgetController" class="dante-play-details-nav-tile dante-play-details-nav-tile-selected dante-lead-details-tile" ng-style="style()"> <div class="dante-play-tile-header"> {{header}} </div> <div class="js-dante-lead-tile-score dante-lead-details-tile-score"> </div> </div>')}]),angular.module("app/AppCommon/widgets/modelDetailsWidget/ModelDetailsWidgetTemplate.html",[]).run(["$templateCache",function(t){t.put("app/AppCommon/widgets/modelDetailsWidget/ModelDetailsWidgetTemplate.html",'<div class="col-md-12" data-ng-controller="ModelDetailsWidgetController"> <section class="panel"> <div class="panel-body"> <div class="model-details-header"> <div class="mdh-lt"> <div class="panel-model-scorerating"> <div class="model-score-circ"> <span>{{score}}</span> </div> <div class="model-rating"><span class="fa fa-star active"></span><span class="fa fa-star active"></span><span class="fa fa-star active"></span><span class="fa fa-star"></span> </div> </div> </div> <div class="mdh-mid"> <h1 class="h1-h2"><a href="#" id="editable-model-name" data-type="text" data-placement="right" data-title="Enter Model Name" class="editable editable-click" style="display:inline">{{displayName}}</a></h1> <div class="mdh-datapoints" id="base-datapoints"> <div class="value-pair"> <span class="title-label">{{ResourceUtility.getString(\'MODEL_TILE_STATUS_LABEL\')}}</span> <span class="title-value"><span class="fa fa-check-circle active"></span> Active</span> </div> <div class="value-pair"> <span class="title-label">{{ResourceUtility.getString(\'MODEL_TILE_EXTERNAL_LABEL\')}}</span> <span class="title-value">{{externalAttributes}}</span> </div> <div class="value-pair"> <span class="title-label">{{ResourceUtility.getString(\'MODEL_TILE_INTERNAL_LABEL\')}}</span> <span class="title-value">{{internalAttributes}}</span> </div> <div class="value-pair"> <span class="title-label">{{ResourceUtility.getString(\'MODEL_TILE_CREATED_DATE_LABEL\')}}</span> <span class="title-value">{{createdDate}}</span> </div> </div> <div id="link-showmore"><a href="" class="btn"><i class="fa fa-angle-down"></i> {{ResourceUtility.getString(\'MODEL_DETAILS_SHOW_MORE_BUTTON\')}} <i class="fa fa-angle-down"></i></a></div> <div class="mdh-datapoints sub" id="more-datapoints" style="display:block"> <div class="value-pair"> <span class="title-label">{{ResourceUtility.getString(\'MODEL_DETAILS_TOTAL_LEADS_LABEL\')}}</span> <span class="title-value">{{totalLeads}}</span> </div> <div class="value-pair"> <span class="title-label">{{ResourceUtility.getString(\'MODEL_DETAILS_TEST_SET_LABEL\')}}</span> <span class="title-value">{{testSet}}</span> </div> <div class="value-pair"> <span class="title-label">{{ResourceUtility.getString(\'MODEL_DETAILS_TRAINING_SET_LABEL\')}}</span> <span class="title-value">{{trainingSet}}</span> </div> <div class="value-pair"> <span class="title-label">{{ResourceUtility.getString(\'MODEL_DETAILS_SUCCESS_EVENTS_LABEL\')}}</span> <span class="title-value">{{totalSuccessEvents}}</span> </div> <div class="value-pair"> <span class="title-label">{{ResourceUtility.getString(\'MODEL_DETAILS_CONVERSION_RATE_LABEL\')}}</span> <span class="title-value">{{conversionRate}}%</span> </div> <div class="mdh-datapoints sub" id="more-datapoints-2"> <div class="value-pair"> <span class="title-label">{{ResourceUtility.getString(\'MODEL_DETAILS_LEAD_SOURCE_LABEL\')}}</span> <span class="title-value">{{leadSource}}</span> </div> <div class="value-pair"> <span class="title-label">{{ResourceUtility.getString(\'MODEL_DETAILS_OPPORTUNITY_LABEL\')}}</span> <span class="title-value">{{opportunity}}</span> </div> </div> </div> </div> <div class="mdh-rt"> <div class="btn-group"> <a class="btn btn-primary" data-toggle="modal" href="#score-modal">{{ResourceUtility.getString(\'BUTTON_ACTIVATE_LABEL\')}}</a> </div> <div class="btn-group"> <a class="btn btn-secondary" data-toggle="modal" href="#delete-modal"><i class="fa fa-trash-o"></i></a> </div> </div> </div> </div> </section> </div>')}]),angular.module("app/AppCommon/widgets/modelListTileWidget/ModelListTileWidgetTemplate.html",[]).run(["$templateCache",function(t){t.put("app/AppCommon/widgets/modelListTileWidget/ModelListTileWidgetTemplate.html",'<div class="col-md-4 model-list-tile-widget" data-ng-controller="ModelListTileWidgetController" data-ng-click="tileClick()"> <section class="panel panel-model-fancy" id="panel-model-1"> <div class="fancy-header model-bg-1"> <div class="model-header-txt"><span class="fa fa-check-circle"></span> {{displayName}}</div> <div class="panel-model-scorerating"> <div class="model-score-circ"> <span>{{score}}</span> </div> <div class="model-rating"><span class="fa fa-star active"></span><span class="fa fa-star active"></span><span class="fa fa-star active"></span><span class="fa fa-star"></span> </div> </div> <ul class="tile-datapoints-primary"> <li> <span class="tile-label">{{ResourceUtility.getString(\'MODEL_TILE_STATUS_LABEL\')}}</span> <span class="tile-value">{{status}}</span> </li> </ul> </div> <div class="tile-datapoints"> <ul> <li> <span class="tile-label">{{ResourceUtility.getString(\'MODEL_TILE_EXTERNAL_LABEL\')}}</span> <span class="tile-value">{{externalAttributes}}</span> </li> <li> <span class="tile-label">{{ResourceUtility.getString(\'MODEL_TILE_INTERNAL_LABEL\')}}</span> <span class="tile-value">{{internalAttributes}}</span> </li> <li> <span class="tile-label">{{ResourceUtility.getString(\'MODEL_TILE_CREATED_DATE_LABEL\')}}</span> <span class="tile-value">{{createdDate}}</span> </li> </ul> </div> </section> </div>')}]),angular.module("app/AppCommon/widgets/playDetailsTileWidget/PlayDetailsTileWidgetTemplate.html",[]).run(["$templateCache",function(t){t.put("app/AppCommon/widgets/playDetailsTileWidget/PlayDetailsTileWidgetTemplate.html",'<div data-ng-controller="PlayDetailsTileWidgetController" class="dante-play-details-nav-tile {{isSelected ? \'dante-play-details-nav-tile-selected\' : \'\'}}" data-ng-show="tileData.IsActive" data-ng-click="playNameClicked()"> <div class="dante-play-tile-header"> <span> </span> <div class="icon pt-{{tileData.PlayType}} play-type-icon"></div> {{tileData.Name}} </div> <div class="js-dante-play-details-nav-tile-score dante-play-details-nav-tile-score float-left" data-ng-show="showScore"> </div> <div class="dante-play-details-nav-tile-selected-arrow float-right" data-ng-show="isSelected"></div> <div class="float-right"> <div class="dante-play-details-tile-metric-container" data-ng-show="tileData.Lift"> <div class="dante-play-tile-metric"> <p class="dante-play-tile-metric-value"> {{tileData.Lift}} </p> <p class="dante-play-tile-metric-label"> {{tileData.LiftDisplayKey}} </p> </div> </div> <div class="dante-play-details-tile-metric-container" data-ng-show="tileData.ActiveDays"> <div class="dante-play-tile-metric"> <p class="dante-play-tile-metric-value"> {{tileData.ActiveDays}} </p> <p class="dante-play-tile-metric-label"> {{tileData.ActiveDaysDisplayKey}} </p> </div> </div> <div class="dante-play-details-tile-metric-container" data-ng-show="tileData.Revenue"> <div class="dante-play-tile-metric"> <p class="dante-play-tile-metric-value"> {{tileData.Revenue}} </p> <p class="dante-play-tile-metric-label"> {{tileData.RevenueDisplayKey}} </p> </div> </div> </div> </div>')}]),angular.module("app/AppCommon/widgets/playListTileWidget/PlayListTileWidgetTemplate.html",[]).run(["$templateCache",function(t){t.put("app/AppCommon/widgets/playListTileWidget/PlayListTileWidgetTemplate.html",'<section data-ng-controller="PlayListTileWidgetController" class="tile-flip-container dante-play-tile-container" data-ng-click="playNameClicked()"> <div class="tile-flipper"> <div class="dante-play-tile"> <div class="dante-play-tile-content"> <div class="dante-play-tile-header"> <span> </span> <div class="icon pt-{{tileData.PlayType}} play-type-icon" data-ng-show="tileData.PlayType"></div> {{tileData.Name}} </div> <div class="js-dante-play-tile-score dante-play-tile-score" data-ng-class="noScoreClass"> </div> <div> <div class="dante-play-tile-metric-container" data-ng-show="showLift && tileData.Lift"> <div class="dante-play-tile-metric"> <p class="dante-play-tile-metric-value"> {{tileData.Lift}} </p> <p class="dante-play-tile-metric-label uppercase"> {{tileData.LiftDisplayKey}} </p> </div> </div> <div class="dante-play-tile-metric-container" data-ng-show="tileData.ActiveDays"> <div class="dante-play-tile-metric"> <p class="dante-play-tile-metric-value"> {{tileData.ActiveDays}} </p> <p class="dante-play-tile-metric-label uppercase"> {{tileData.ActiveDaysDisplayKey}} </p> </div> </div> <div class="dante-play-tile-metric-container" data-ng-show="tileData.Revenue"> <div class="dante-play-tile-metric"> <p class="dante-play-tile-metric-value"> {{tileData.Revenue}} </p> <p class="dante-play-tile-metric-label uppercase"> {{tileData.RevenueDisplayKey}} </p> </div> </div> </div> <p class="dante-play-tile-description"> {{tileData.Objective}} </p> </div> </div> </div> </section>')}]),angular.module("app/AppCommon/widgets/purchaseHistoryWidget/PurchaseHistoryWidgetTemplate.html",[]).run(["$templateCache",function(t){t.put("app/AppCommon/widgets/purchaseHistoryWidget/PurchaseHistoryWidgetTemplate.html",'<div data-ng-controller="PurchaseHistoryWidgetController" class="purchase-history"> <div class="initial-loading-spinner-container" style="height:250px"> <div style="color:#a0cadb;display:inline" class="la-line-scale-party la-dark la-2x"> <div></div> <div></div> <div></div> <div></div> <div></div> </div> <div style="color:#a0cadb;display:inline" class="la-line-scale-party la-dark la-2x"> <div></div> <div></div> <div></div> <div></div> <div></div> </div> </div> <div id="purchaseHistoryHeader"></div> <div id="purchaseHistoryMain"></div> </div> ')}]),angular.module("app/AppCommon/widgets/purchaseHistoryWidget/templates/purchaseHistoryNavTemplate.html",[]).run(["$templateCache",function(t){t.put("app/AppCommon/widgets/purchaseHistoryWidget/templates/purchaseHistoryNavTemplate.html",'<div ng-controller="PurchaseHistoryNavCtrl as vm"> <div class="ph-filter"> <span class="ph-filter-group"> Date Range: <div class="datepicker" dropdown-select="periodIdStartOptions" dropdown-model="periodIdStartSelected" dropdown-onchange="vm.selectStartPeriodId(selected)"></div> to <div class="datepicker" dropdown-select="periodIdEndOptions" dropdown-model="periodIdEndSelected" dropdown-onchange="vm.selectEndPeriodId(selected)"></div> </span> <span class="ph-filter-group"> Show: <div dropdown-select="periodOptions" dropdown-model="periodSelected" dropdown-onchange="vm.selectPeriod(selected)"></div> </span> <span class="ph-filter-group"> Show: <div dropdown-select="filterOptions" dropdown-model="filterSelected" dropdown-onchange="vm.selectFilter(selected)"></div> </span> </div> <div class="ph-nav"> <div ng-repeat="view in views" class="ph-nav-item" ng-class="{selected: view.selected, disabled: view.disabled}" ng-click="vm.handleViewChange(view)"> <div class="ph-nav-content"> <div ng-bind-html="view.titleHtml"></div> <div ng-bind-html="headerContents[view.contentKey].textHtml"></div> </div> <div class="ph-header-icon {{::view.icon}}"></div> </div> </div> </div>')}]),angular.module("app/AppCommon/widgets/purchaseHistoryWidget/templates/purchaseHistorySegmentTableTemplate.html",[]).run(["$templateCache",function(t){t.put("app/AppCommon/widgets/purchaseHistoryWidget/templates/purchaseHistorySegmentTableTemplate.html",'<div class="ph-segment-table" ng-controller="PurchaseHistorySegmentTableCtrl as vm"> <script type="text/ng-template" id="segment_table_tree_renderer.html"> <tbody>\n\t\t\t<tr class="ph-table-row" ng-init="marginLeft={marginLeft:(tree.levelsId.length-1)*20+(tree.data.hasChildren?0:20)+\'px\'}">\n\t\t\t\t<td title="{{::tree.data.displayName}}">\n\t\t\t\t\t<span ng-style="marginLeft">\n\t\t\t\t\t\t<span ng-if="::tree.data.hasChildren" class="toggle" ng-class="tree.expanded ? \'expanded\' : \'collapsed\'" ng-click="vm.toggleNode(tree)"></span>\n\t\t\t\t\t\t{{::tree.data.displayName}}\n\t\t\t\t\t</span>\n\t\t\t\t</td>\n\t\t\t\t<td>\n\t\t\t\t\t{{tree.data.accountProductTotalSpend | formatDollar}}\n\t\t\t\t</td>\n\t\t\t\t<td>\n\t\t\t\t\t{{tree.data.segmentProductTotalAverageSpend | formatDollar}}\n\t\t\t\t</td>\n\t\t\t\t<td>\n\t\t\t\t\t<div class="ph-segment-bar" ng-if="tree.data.segmentDiff !== null && tree.data.segmentDiff < 0">\n\t\t\t\t\t\t<span>{{tree.data.segmentDiff | formatDollar}}</span>\n\t\t\t\t\t\t<div ng-style="tree.data.segmentBarStyle"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</td> \n\t\t\t\t<td>\n\t\t\t\t\t<div class="ph-segment-bar" ng-if="tree.data.segmentDiff !== null && tree.data.segmentDiff > 0">\n\t\t\t\t\t\t<div ng-style="tree.data.segmentBarStyle"></div>\n\t\t\t\t\t\t<span>+ {{tree.data.segmentDiff | formatDollar}}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</td> \n\t\t\t</tr>\n\t\t\t<tr ng-if="tree.expanded">\n\t\t\t\t<td class="ph-table-tree-row" colspan="5">\n\t\t\t\t\t<table ng-repeat="tree in tree.nodes | filter:vm.spendFilter | filter:vm.searchProduct | sortWithNulls:sortKey:sortReverse" ng-include="\'segment_table_tree_renderer.html\'"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</tbody> <\/script> <div class="ph-sub-header"> <div class="ph-search-group"> <input name="search-input" type="text" placeholder="Search Products" ng-model="searchProduct"> <label for="search-input"></label> </div> </div> <div class="ph-table-container"> <div class="ph-table-header"> <table> <tbody> <tr> <td ng-click="sortBy(\'displayName\')"> <div class="ph-sortable" ng-class="{\'ph-sort\':sortKey===\'displayName\', \'ph-sort-reverse\':sortReverse}">Products </div> </td> <td ng-click="sortBy(\'data.accountProductTotalSpend\')"> <div class="ph-sortable" ng-class="{\'ph-sort\':sortKey===\'data.accountProductTotalSpend\', \'ph-sort-reverse\':sortReverse}">Spend</div> </td> <td ng-click="sortBy(\'data.segmentProductTotalAverageSpend\')"> <div class="ph-sortable" ng-class="{\'ph-sort\':sortKey===\'data.segmentProductTotalAverageSpend\', \'ph-sort-reverse\':sortReverse}">Benchmark</div> </td> <td> <span class="float-left">Less Than Average</span><span class="wrap-arrow">Benchmark</span><span class="float-right">More than Average</span> </td> </tr> </tbody> </table> </div> <div class="ph-tree-table-container"> <table ng-repeat="tree in tree.nodes | filter:vm.spendFilter | filter:vm.searchProduct | sortWithNulls:sortKey:sortReverse" ng-include="\'segment_table_tree_renderer.html\'"></table> </div> </div> </div>')}]),angular.module("app/AppCommon/widgets/purchaseHistoryWidget/templates/purchaseHistorySpendTableTemplate.html",[]).run(["$templateCache",function(t){t.put("app/AppCommon/widgets/purchaseHistoryWidget/templates/purchaseHistorySpendTableTemplate.html",'<div class="ph-spend-table" ng-controller="PurchaseHistorySpendTableCtrl as vm"> <script type="text/ng-template" id="spend_table_tree_renderer.html"> <tbody>\n\t\t\t<tr class="ph-table-row" ng-init="marginLeft={marginLeft:(tree.levelsId.length-1)*20+(tree.data.hasChildren?0:20)+\'px\'}">\n\t\t\t\t<td title="{{::tree.data.displayName}}">\n\t\t\t\t\t<span ng-style="marginLeft">\n\t\t\t\t\t\t<span ng-if="::tree.data.hasChildren" class="toggle" ng-class="tree.expanded ? \'expanded\' : \'collapsed\'" ng-click="vm.toggleNode(tree)"></span>\n\t\t\t\t\t\t{{::tree.data.displayName}}\n\t\t\t\t\t</span>\n\t\t\t\t</td>\n\t\t\t\t<td data-ng-repeat="periodData in tree.data.periods | startFrom: periodStartIndex | limitTo: colsize">\n\t\t\t\t\t<div ng-if="::periodData.accountTotalSpend !== null || periodData.accountPrevYearSpend !== null"\n\t\t\t\t\t\tng-mouseenter="vm.showTooltip($event, periodData)"\n\t\t\t\t\t\tng-mouseleave="vm.hideTooltip()"\n\t\t\t\t\t\tclass="ph-cell-arrow {{::periodData.yoyStat}}">{{::periodData.accountTotalSpend | formatDollar}}\n\t\t\t\t\t</div>\n\t\t\t\t</td>\n\t\t\t\t<td>\n\t\t\t\t\t<div class="ph-cell-arrow {{tree.data.yoyStat}}">{{tree.data.accountProductTotalSpend | formatDollar}}</div>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t\t<tr ng-if="tree.expanded">\n\t\t\t\t<td class="ph-table-tree-row" colspan="{{colsize+2}}">\n\t\t\t\t\t<table ng-repeat="tree in tree.nodes | filter:vm.spendFilter | filter:vm.searchProduct | sortWithNulls:sortKey:sortReverse" ng-include="\'spend_table_tree_renderer.html\'"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</tbody> <\/script> <div class="ph-sub-header"> <div class="ph-search-group"> <input name="search-input" type="text" placeholder="Search Products" ng-model="searchProduct"> <label for="search-input"></label> </div> <div class="float-right ph-legend"> <span class="ph-legend-group"> <div class="square blue"></div> <div>Account</div> </span> <span class="ph-legend-group"> <div class="circle orange"></div> <div>YoY</div> </span> </div> </div> <div class="ph-table-container"> <div class="ph-chart-table"> <table> <tbody> <tr> <td></td> <td> <div data-purchase-history-timeline period-start-index="periodStartIndex" colsize="colsize"></div> </td> <td></td> </tr> </tbody> </table> </div> <div class="ph-table-header"> <table> <tbody> <tr> <td ng-click="sortBy(\'displayName\')"> <div class="ph-sortable" ng-class="{\'ph-sort\':sortKey===\'displayName\', \'ph-sort-reverse\':sortReverse}">Products </div> </td> <td data-ng-repeat="periodId in formattedPeriodRange | startFrom: periodStartIndex | limitTo: colsize">{{::periodId}}</td> <td ng-click="sortBy(\'data.accountProductTotalSpend\')"> <div class="ph-sortable" ng-class="{\'ph-sort\':sortKey===\'data.accountProductTotalSpend\', \'ph-sort-reverse\':sortReverse}">Total</div> </td> </tr> </tbody> </table> </div> <div class="ph-tree-table-container"> <table ng-repeat="tree in tree.nodes | filter:vm.spendFilter | filter:vm.searchProduct | sortWithNulls:sortKey:sortReverse" ng-include="\'spend_table_tree_renderer.html\'"></table> <ul class="ph-tooltip" id="ph-tooltip"></ul> </div> </div> </div> ')}]),angular.module("app/AppCommon/widgets/purchaseHistoryWidget/templates/purchaseHistoryTimelineTemplate.html",[]).run(["$templateCache",function(t){t.put("app/AppCommon/widgets/purchaseHistoryWidget/templates/purchaseHistoryTimelineTemplate.html",'<div class="ph-chart-container"> <button type="button" class="prev-button" ng-click="PurchaseHistoryTimelineVm.handlePeriodRangeClick(-1)" ng-disabled="periodStartIndex === 0"> <span>Previous</span> </button> <div id="ph-chart" class="ph-chart"></div> <button type="button" class="next-button" ng-click="PurchaseHistoryTimelineVm.handlePeriodRangeClick(1)" ng-disabled="(periodStartIndex + 1) > max"> <span>Next</span> </button> </div> ')}]),angular.module("app/AppCommon/widgets/purchaseHistoryWidget/templates/purchaseHistoryYearTableTemplate.html",[]).run(["$templateCache",function(t){t.put("app/AppCommon/widgets/purchaseHistoryWidget/templates/purchaseHistoryYearTableTemplate.html",'<div class="ph-year-table" ng-controller="PurchaseHistoryYearTableCtrl as vm"> <script type="text/ng-template" id="year_table_tree_renderer.html"> <tbody>\n\t\t\t<tr class="ph-table-row" ng-init="marginLeft={marginLeft:(tree.levelsId.length-1)*20+(tree.data.hasChildren?0:20)+\'px\'}">\n\t\t\t\t<td title="{{::tree.data.displayName}}">\n\t\t\t\t\t<span ng-style="marginLeft">\n\t\t\t\t\t\t<span ng-if="::tree.data.hasChildren" class="toggle" ng-class="tree.expanded ? \'expanded\' : \'collapsed\'" ng-click="vm.toggleNode(tree)"></span>\n\t\t\t\t\t\t{{::tree.data.displayName}}\n\t\t\t\t\t</span>\n\t\t\t\t</td>\n\t\t\t\t<td>\n\t\t\t\t\t<div class="ph-year-bar">\n\t\t\t\t\t\t<div class="ph-year-cur" ng-style="tree.data.currentYearBarStyle"></div>\n\t\t\t\t\t\t<span>{{tree.data.accountProductTotalSpend | formatDollar}}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="ph-year-bar">\n\t\t\t\t\t\t<div class="ph-year-prev" ng-style="tree.data.prevYearBarStyle"></div>\n\t\t\t\t\t\t<span>{{tree.data.accountProductTotalPrevYearSpend | formatDollar}}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</td>\n\t\t\t\t<td>\n\t\t\t\t\t<span class="ph-cell-arrow {{tree.data.yoyStat}}">\n\t\t\t\t\t\t{{tree.data.yoyDiff | formatDollar}}\n\t\t\t\t\t</span>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t\t<tr ng-if="tree.expanded">\n\t\t\t\t<td class="ph-table-tree-row" colspan="3">\n\t\t\t\t\t<table ng-repeat="tree in tree.nodes | filter:vm.spendFilter | filter:vm.searchProduct | sortWithNulls:sortKey:sortReverse" ng-include="\'year_table_tree_renderer.html\'"></table>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</tbody> <\/script> <div class="ph-sub-header"> <div class="ph-search-group"> <input name="search-input" type="text" placeholder="Search Products" ng-model="searchProduct"> <label for="search-input"></label> </div> <div class="float-right ph-legend"> <span class="ph-legend-group"> <div class="square blue"></div> <div>This Year</div> </span> <span class="ph-legend-group"> <div class="square gray"></div> <div>Last Year</div> </span> </div> </div> <div class="ph-table-container"> <div class="ph-table-header"> <table> <tbody> <tr> <td ng-click="sortBy(\'displayName\')"> <div class="ph-sortable" ng-class="{\'ph-sort\':sortKey===\'displayName\', \'ph-sort-reverse\':sortReverse}">Products </div> </td> <td>Year over Year Spend</td> <td ng-click="sortBy(\'data.yoyDiff\')"> <div class="ph-sortable" ng-class="{\'ph-sort\':sortKey===\'data.yoyDiff\', \'ph-sort-reverse\':sortReverse}">Change</div> </td> </tr> </tbody> </table> </div> <div class="ph-tree-table-container"> <table ng-repeat="tree in tree.nodes | filter:vm.spendFilter | filter:vm.searchProduct | sortWithNulls:sortKey:sortReverse" ng-include="\'year_table_tree_renderer.html\'"></table> </div> </div> </div>')}]),angular.module("app/AppCommon/widgets/repeaterWidget/RepeaterWidgetTemplate.html",[]).run(["$templateCache",function(t){t.put("app/AppCommon/widgets/repeaterWidget/RepeaterWidgetTemplate.html",'<div data-ng-controller="RepeaterWidgetController"> </div>')}]),angular.module("app/AppCommon/widgets/screenHeaderWidget/ScreenHeaderWidgetTemplate.html",[]).run(["$templateCache",function(t){t.put("app/AppCommon/widgets/screenHeaderWidget/ScreenHeaderWidgetTemplate.html",'<div data-ng-controller="ScreenHeaderWidgetController"> <h1 class="screen-header-widget-title"> {{title}} </h1> <h2 class="screen-header-widget-subtitle"> {{subtitle}} </h2> </div>')}]),angular.module("app/AppCommon/widgets/screenWidget/ScreenWidgetTemplate.html",[]).run(["$templateCache",function(t){t.put("app/AppCommon/widgets/screenWidget/ScreenWidgetTemplate.html",'<div data-ng-controller="ScreenWidgetController"> </div>')}]),angular.module("app/AppCommon/widgets/tabWidget/TabWidgetTemplate.html",[]).run(["$templateCache",function(t){t.put("app/AppCommon/widgets/tabWidget/TabWidgetTemplate.html",'<div data-ng-controller="TabWidgetController" class="tab-container"> <ul class="nav nav-tabs"> <li class="{{tab.IsActive ? \'active\' : \'\'}}" data-ng-repeat="tab in tabs"> <a href="#{{tab.ID}}" data-ng-click="tabClicked($event, tab)">{{tab.Title}}</a> </li> </ul> <div class="tab-content"> <div class="tab-pane {{tab.IsActive ? \'active\' : \'\'}}" id="{{tab.ID}}" data-ng-repeat="tab in tabs"> <div data-ng-show="!tab.HasData"> <div class="empty-analytic-list-container"> <img class="empty-analytic-list-image" src="assets/images/gray_line_chart_icon.png"> <span class="empty-analytic-list-description"> {{tab.NoDataString}} </span> </div> </div> </div> </div> </div>')}]),angular.module("app/AppCommon/widgets/talkingPointWidget/TalkingPointWidgetTemplate.html",[]).run(["$templateCache",function(t){t.put("app/AppCommon/widgets/talkingPointWidget/TalkingPointWidgetTemplate.html",'<div data-ng-controller="TalkingPointWidgetController" class="talking-point-container"> <div data-ng-bind-html="talkingPointText"></div> </div>')}]),angular.module("app/AppCommon/widgets/thresholdExplorerWidget/ThresholdExplorerWidgetTemplate.html",[]).run(["$templateCache",function(t){t.put("app/AppCommon/widgets/thresholdExplorerWidget/ThresholdExplorerWidgetTemplate.html",'<div data-ng-controller="ThresholdExplorerWidgetController" class="col-md-12"> <section class="panel"> <div class="panel-body"> <div data-threshold-explorer-chart data-chart-data="{{chartData}}"></div> </div> </section> </div>')}]),angular.module("app/core/views/InitialView.html",[]).run(["$templateCache",function(t){t.put("app/core/views/InitialView.html",'<div class="initial-loading-spinner-container"> <img class="centered" width="80" height="80" src="assets/CommonAssets/images/loading_spinner.gif"> </div>')}]),angular.module("app/core/views/MainHeaderView.html",[]).run(["$templateCache",function(t){t.put("app/core/views/MainHeaderView.html",'<div> <div class="float-left" data-ng-show="showSellingIdeas"> <ul class="dropdown-navigation"> <li id="dantePlaysTabLink"> <a href="#" class="dante-main-header-link" data-ng-click="handlePlayListClick($event)"> <i class="fa fa-angle-double-left"></i> <span>{{ResourceUtility.getString(\'MAIN_HEADER_PLAY_LABEL\')}}</span> </a> </li> </ul> </div> <div class="float-left"> <div class="dante-header-account-name"> {{headerLabel}} </div> </div> <div class="float-right dante-main-header-logo-container"> <img class="dante-main-header-logo" src="assets/images/lattice_logo_white.png" width="76" height="20"> </div> <div class="float-right salesprism-link-container" data-ng-show="showSalesprismButton"> <a class="btn-salesprism-link" data-ng-click="handleViewInSalesprismClick()"> {{ResourceUtility.getString(\'MAIN_HEADER_SALESPRISM_LABEL\')}} </a> </div> </div>')}]),angular.module("app/core/views/MainView.html",[]).run(["$templateCache",function(t){t.put("app/core/views/MainView.html",'<div data-ng-controller="MainViewController"> <div data-ng-controller="MainHeaderController" data-ng-include data-src="\'app/core/views/MainHeaderView.html\'" data-ng-if="showMainHeader" class="row dante-main-header"> </div> <div id="mainContentView" class="content"> </div> </div>')}]),angular.module("app/core/views/NoAssociationView.html",[]).run(["$templateCache",function(t){t.put("app/core/views/NoAssociationView.html",'<div data-ng-controller="NoAssociationController" class="no-association-parent-container"> <div class="no-association-container"> <div class="no-notion-body"> <br> <div class="no-association-message"> {{message1}} </div> <br> <div class="no-association-message"> {{supportEmailMessage}}&nbsp;<a href="mailto:{{supportEmail}}">{{supportEmail}}</a>. </div> </div> </div> </div>')}]),angular.module("app/core/views/NoNotionView.html",[]).run(["$templateCache",function(t){t.put("app/core/views/NoNotionView.html",'<div data-ng-controller="NoNotionController" class="no-notion-container"> <div class="no-notion-title"> {{title}} </div> <div class="no-notion-body"> <img width="117" height="145" class="no-notion-image float-left" src="assets/images/lattice_mark.png"> {{message1}} <br><br> {{message2}} </div> </div>')}]),angular.module("app/core/views/ServiceErrorView.html",[]).run(["$templateCache",function(t){t.put("app/core/views/ServiceErrorView.html",'<div data-ng-controller="ServiceErrorController" class="service-error-container"> <div class="alert alert-error"> {{serviceErrorTitle}} </div> <p class="service-error-message-container"> {{serviceErrorMessage}} </p> </div>')}]),angular.module("app/leads/views/LeadDetailsView.html",[]).run(["$templateCache",function(t){t.put("app/leads/views/LeadDetailsView.html",'<div data-ng-controller="LeadDetailsController"> <div class="js-dante-lead-details-container dante-play-details-container"> <div class="js-dante-lead-details-nav-container dante-play-details-nav-container scroll-y"> <div class="js-dante-lead-details-nav-tiles-container dante-play-details-nav-tiles-container"></div> </div> <div class="dante-play-details-content-container"> <div class="js-lead-details-external-container lead-details-insights-container"> </div> <div class="js-lead-details-internal-container lead-details-insights-container"> </div> </div> </div> </div> ')}]),angular.module("app/plays/views/NoPlaysView.html",[]).run(["$templateCache",function(t){t.put("app/plays/views/NoPlaysView.html",'<div data-ng-controller="NoPlaysController"> <div class="no-plays-message"> <p data-ng-show="showCustomMessage">{{customMessage}}</p> <p data-ng-show="!showCustomMessage">{{noPlaysMessage}} <b>{{accountName}}</b>.</p> </div> </div>')}]),angular.module("app/plays/views/PlayDetailsView.html",[]).run(["$templateCache",function(t){t.put("app/plays/views/PlayDetailsView.html",'<div data-ng-controller="PlayDetailsController"> <div class="dante-play-details-container"> <div class="dante-play-details-content-container"> <div id="playDetailsContent" class="dante-play-details-tab-container"> </div> </div> </div></div>')}]),angular.module("app/plays/views/PlayListView.html",[]).run(["$templateCache",function(t){t.put("app/plays/views/PlayListView.html",'<div data-ng-controller="PlayListController"> <div id="playListScreen"> </div> </div> ')}]),angular.module("app/purchaseHistory/views/PurchaseHistoryView.html",[]).run(["$templateCache",function(t){t.put("app/purchaseHistory/views/PurchaseHistoryView.html",'<div data-ng-controller="PurchaseHistoryController"> <div id="purchaseHistoryScreen"></div> </div>')}]);