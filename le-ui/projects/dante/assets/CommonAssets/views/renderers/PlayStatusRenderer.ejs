<%== $.View('assets/CommonAssets/views/renderers/BaseRenderer.ejs',{itemValue: portfolioPlay.Status.IsLive, renderType: RenderWorker.PORTFOLIO_MANAGER_PLAY_STATUS_RENDERER}) %>

<%  var status = "";
    var message = "";
	var liveStatusString = ResourceUtil.getString('PLAYMAKER_LAUNCH_GRID_STATUS_LIVE');
	var newStatusString = ResourceUtil.getString('PLAYMAKER_LAUNCH_GRID_STATUS_NEW');
	
	var leadLaunchDestination = BrowserStorage.getAppModelDoc().LeadLaunchDestination;
	// Indicates wheter or not the leads will be launched into salesPRISM, or Synchrhonizable APIs
	// This drives the display string for the status
	if (leadLaunchDestination && leadLaunchDestination === ConfigConstantUtil.LeadLaunchDestination.SynchronizationApis) {
		liveStatusString = ResourceUtil.getString('PLAYMAKER_LAUNCH_GRID_STATUS_LAUNCHED');
		newStatusString = ResourceUtil.getString('PLAYMAKER_LAUNCH_GRID_STATUS_NOT_LAUNCHED');	
	}

    if (portfolioPlay.Status != null && portfolioPlay.Status.IsUnavailable == true) {
        status = portfolioPlay.Status.CurrentProcessDisplayString;
        message = portfolioPlay.DisplayName + " " + ResourceUtil.getString('PLAYMAKER_READ_ONLY_MESSAGE');
    } else if (portfolioPlay.Status.IsLive) { 
        status = liveStatusString; 
        if (portfolioPlay.IsApproved) {
            message = ResourceUtil.getString('PLAYMAKER_LAUNCH_GRID_LIVE_APPROVED'); 
        } else {
            message = ResourceUtil.getString('PLAYMAKER_LAUNCH_GRID_LIVE_NOT_APPROVED'); 
        }	
    } else { 
        status = newStatusString;
        if (portfolioPlay.IsApproved) {
            message = ResourceUtil.getString('PLAYMAKER_LAUNCH_GRID_NEW_APPROVED'); 
        } else {
            message = ResourceUtil.getString('PLAYMAKER_LAUNCH_GRID_NEW_NOT_APPROVED'); 
        }
    }
%>
<div class='portfolio-manager-status tipped' title='<%= message %>'><%= status %></div>