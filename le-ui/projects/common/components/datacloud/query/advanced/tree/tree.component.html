<div ng-if="vm.tree.name" class="row query-helper-text-one">
    <span ng-if="vm.tree.name == 'accounts'">
        Build a segment with <strong>accounts</strong> that have:
    </span>

    <span ng-if="vm.tree.name == 'contacts'">
        And <strong>contacts</strong> that have:
    </span>
</div>

<div    ng-if="vm.tree.type && !vm.tree.item"
        class="row query-section noselect-children"
        ng-class="{
            'query-section-all': vm.tree.type == 'and',
            'query-section-any': vm.tree.type == 'or'
        }">
    
    <div class="query-section-operator label-operator">{{ vm.operator == 'and' ? 'or' : 'and' }}</div>
    
    <div class="query-section-type-dotline"></div>
    
    <div class="query-section-label">
        <span class="query-section-label-text" ng-if="vm.tree.type == 'or'">
            <strong>Any</strong> of the selected attribute value combinations (OR)
            <i class="fa fa-chevron-down"></i>
        </span>

        <span class="query-section-label-text" ng-if="vm.tree.type == 'and'">
            <strong>All</strong> of the selected attribute value combinations (AND)
            <i class="fa fa-chevron-down"></i>
        </span>

        <div class="query-section-controls pull-right">
            <i class="fa fa-minus"></i>
            <i class="fa fa-close"></i>
    
        </div>
    </div>
</div>

<div class="query-section-item noselect-children category-{{ data.Category.replace(' ','_') | lowercase }}" ng-if="vm.tree.item" ng-init="data = vm.items[vm.tree.item]">
    <div class="query-section-operator item-operator">{{ vm.operator }}</div>

    <div class="query-section-item-label">
        <strong>{{data.label}}</strong>
    </div>

    <div class="query-section-item-content">
        <span class="query-section-item-category">{{data.Category}}{{data.Subcategory != 'Other' ? ' - ' + data.Subcategory : ''}}</span>
        <span class="query-section-item-displayname">
            <span class="query-section-item-name"><strong>{{data.DisplayName}}</strong></span>
            <span class="query-section-item-operation">has a value of</span>
            <span class="query-section-item-value"><strong>{{data.Value}}</strong></span>
        </span>
    </div>

    <div class="query-section-item-records">
        <span class="query-section-item-records-label">RECORDS</span>
        <span class="query-section-item-records-number">{{data.RecordsCount}}</span>
        <i class="fa fa-close"></i>
    </div>
</div>

<ul ng-if="vm.tree.items">
    <li     class="query-section-item-box" 
            ng-class="{'query-section-item-box-subtree':item.items}" 
            ng-repeat="item in vm.tree.items"
            ng-if="vm.operator = item.type || vm.operator">
        <query-tree-directive items="vm.items" tree="item" operator="{{ vm.operator }}"></query-tree-directive>
    </li>

    <li class="query-section-item-box query-section-item-end" ng-repeat-end>
        <div class="query-section-item query-section-item-end noselect-children">
            <span>
                <i class="fa fa-plus"></i> Add <a href="#">attribute / operator</a>
            </span>
        </div>
    </li>
</ul>
