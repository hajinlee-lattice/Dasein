<!-- In time frame (Txn)-->
<div class="transaction-container">
    <div class="query-section-item-operation transaction-row">
        <div class="transaction-element-title">in timeframe</div>
        <div class="transaction-element">
            <select ng-model="vm.timeCmp" ng-change="vm.changeCmp(vm.timeCmp, 'Time')">
                <option ng-repeat="(key, value) in vm.cmpsList" value="{{value.name}}">{{value.displayName}}</option>
            </select>
        </div>

        <!--  -->
        <div class="transaction-element" ng-if="(vm.showFromPeriod || vm.showToPeriod) && vm.showTimeframePeriod()">

            <numerical-range-directive  
                                    ng-if="vm.showFromPeriod || vm.showToPeriod" 
                                    config ="{{vm.getPeriodNumericalConfString()}}"
                                    showmessage="false"
                                    showfrom="vm.showFromPeriod"
                                    showto="vm.showToPeriod"
                                    vm="vm" 
                                    form="vm.form"
                                    type="{{vm.type}}" 
                                    bucketrestriction="vm.bucketrestriction"
                                    changed="vm.callbackChangedValue(type, position, value)">
            </numerical-range-directive>
        </div>
        <div class="transaction-element" ng-if="vm.showTimeframePeriod()">
            <select ng-model="vm.timeframePeriod" ng-change="vm.changeTimeFramePeriod()">
                <option ng-repeat="(key, value) in vm.periodList" value="{{value.name}}">{{value.displayName}}</option>
            </select>
            <span class="error-message" ng-if="!vm.isPeriodRangeValid()"><i class="fa fa-exclamation-circle"></i> Please enter a valid numerical range.</span>
        </div>

        <!--  -->
        <div class="transaction-element" ng-if="vm.showTimeFrameDate()">
            <input type="text" id="{{vm.getFromDateId()}}" ng-if="vm.showTimeFrom()">
            <span ng-if="vm.showTimeFrom() && vm.showTimeTo()"> - </span>
            <input type="text" id="{{vm.getToDateId()}}" ng-if="vm.showTimeTo()">
        </div>
    </div>

    <!-- Units purchased  (Qty)-->
    <div class="query-section-item-operation transaction-row">
        <div class="transaction-element-title">units purchased</div>
        <div class="transaction-element">
            <select ng-model="vm.unitPurchasedCmp" ng-change="vm.changeCmp(vm.unitPurchasedCmp, 'Qty')">
                <option ng-repeat="row in vm.unitPurchasedCmpChoises" value="{{row.name}}">{{row.displayName}}</option>
            </select>
        </div>
        <numerical-range-directive class="transaction-element" 
                                    ng-if="vm.showFromUnit || vm.showToUnit" 
                                    config ="{{vm.getQtyConfigString()}}"
                                    showfrom="vm.showFromUnit"
                                    showto="vm.showToUnit"
                                    vm="vm" 
                                    form="vm.form"
                                    type="{{vm.type}}" 
                                    bucketrestriction="vm.bucketrestriction"
                                    changed="vm.callbackChangedValue(type, position, value)">
        </numerical-range-directive>
    </div>

    <!-- Amount Spent (Amt)-->
    <div class="query-section-item-operation transaction-row">
        <div class="transaction-element-title">amount spent</div>
        <div class="transaction-element">
            <select ng-model="vm.amtCmp" ng-change="vm.changeCmp(vm.amtCmp, 'Amt')">
                <option ng-repeat="row in vm.amountSpentCmpChoises" value="{{row.name}}">{{row.displayName}}</option>
            </select>
        </div>
        <numerical-range-directive class="transaction-element" 
                                    ng-if="vm.showFromAmt || vm.showToAmt" 
                                    config ="{{vm.getAmtConfigString()}}"
                                    showfrom="vm.showFromAmt"
                                    showto="vm.showToAmt"
                                    vm="vm" 
                                    form="vm.form"
                                    type="{{vm.type}}" 
                                    bucketrestriction="vm.bucketrestriction"
                                    changed="vm.callbackChangedValue(type, position, value)"
                                    fromlabel="$"
                                    tolabel="$">
        </numerical-range-directive>
    </div>
</div>