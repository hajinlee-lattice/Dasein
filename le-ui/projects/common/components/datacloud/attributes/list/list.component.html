<div class="attr-results-container">
    <ul class="attr-pagination-top" ng-if="$ctrl.subcategory || filteredList.length > $ctrl.filters.pagesize">
        <li class="attr-back-text pull-left" ng-if="$ctrl.subcategory">
            <a href="#" ng-click="$ctrl.back()">Back</a> | {{$ctrl.subcategory}}
        </li>

        <li class="attr-pagination" ng-if="filteredList.length > $ctrl.filters.pagesize">
            <pd-pagination-controls
                    current="$ctrl.filters.page"
                    max="$ctrl.max = filteredList.length / $ctrl.filters.pagesize">
            </pd-pagination-controls>
        </li>
    </ul>

    <div class="attr-list-noresults" ng-if="!filteredList || filteredList.length === 0">
        No Results.
    </div>

    <ul class="attr-list-results noselect-children">
        <li ng-if="filteredList && filteredList.length > 0">
            <div class="attr-result-checkbox" ng-click="$ctrl.toggleAll()">
                <input ng-checked="$ctrl.isAllChecked()" name="{{$ctrl.checkboxName()}}" type="checkbox" />
            </div>
            <div class="attr-result-label" ng-click="$ctrl.toggleAll()">
                <label for="check_all">Attribute</label>
                <span>({{$ctrl.getCount()|number}})</span>
            </div>
        </li>
        <li ng-repeat="item in (filteredList = ($ctrl.getResults()
                        | filter: { 'DisplayName': $ctrl.filters.queryText }))
                        | orderBy: [ $ctrl.filters.sortPrefix + 'DisplayName' ]
                        | startFrom: ($ctrl.filters.page - 1) * $ctrl.filters.pagesize
                        | limitTo: $ctrl.filters.pagesize"
            ng-class="{ 'category': item.Attributes }">
            <div class="attr-result-checkbox" ng-click="$ctrl.checked(item)">
                <input  ng-checked="$ctrl.isChecked(item)" 
                        ng-disabled="$ctrl.isDisabled(item)"
                        ng-if="!item.IsFrozen"
                        name="{{item.DisplayName}}" 
                        type="checkbox" />
                <i class="fa fa-exclamation-triangle show-tooltip delay top left" ng-if="item.IsFrozen">
                    <div class="tooltip_" ng-if="item.IsFrozen">
                        <div class="cover">
                            <em>Frozen Attribute:</em>
                            <p>Attribute is Frozen and can not be altered</p>
                        </div>
                    </div>
                </i>
            </div>
            <div class="attr-result-label" ng-click="$ctrl.click(item)">
                <label for="{{item.DisplayName}}" class="show-tooltip delay top left">
                    <i class="fa fa-exclamation-circle show-tooltip delay top left"ng-if="item.HasFrozenAttrs">
                        <div class="tooltip_" ng-if="item.HasFrozenAttrs">
                            <div class="cover">
                                <em>Frozen Attributes:</em>
                                <p>This category contains some Frozen Attributes that can not be altered</p>
                            </div>
                        </div>
                    </i>
                    <div class="tooltip_" ng-if="item.Description">
                        <div class="cover">
                            <em>Description:</em>
                            <p>{{item.Description}}</p>
                        </div>
                    </div>
                    {{item.DisplayName}}
                </label>
                <span ng-if="item.TotalAttrs">({{item.TotalAttrs|number}})</span>
                <i class="fa fa-chevron-right" ng-if="item.Attributes"></i>
            </div>
        </li>
    </ul>

    <ul class="attr-pagination-bottom" ng-if="filteredList.length > $ctrl.filters.pagesize">
        <li class="attr-pagination pull-right">
            <pd-pagination-controls
                    current="$ctrl.filters.page"
                    max="$ctrl.max = filteredList.length / $ctrl.filters.pagesize">
            </pd-pagination-controls>
        </li>
    </ul>
</div>