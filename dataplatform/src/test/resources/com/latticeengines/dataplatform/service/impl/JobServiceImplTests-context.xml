<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:yarn="http://www.springframework.org/schema/yarn"
   xmlns:context="http://www.springframework.org/schema/context"
   xsi:schemaLocation="http://www.springframework.org/schema/yarn http://www.springframework.org/schema/yarn/spring-yarn.xsd
      http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
      http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd
      http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd">

	<bean id="jobService"
          class="com.latticeengines.dataplatform.service.impl.JobServiceImpl">
    </bean>

   <!-- Better use annotation @MiniYarnCluster, this is another way to define your MiniYarnCluster
        One benefit is to allow not auto start mini cluster -->
   <!-- 
	<bean id="yarnCluster" class="org.springframework.yarn.test.support.YarnClusterFactoryBean">
	  <property name="clusterId" value="LocalTestYarnClusterTests"/>
	  <property name="autoStart" value="true"/>
	  <property name="nodes" value="1"/>
	</bean>
	
	<bean id="yarnConfiguration" class="org.springframework.yarn.test.support.ConfigurationDelegatingFactoryBean">
     <property name="cluster" ref="yarnCluster"/>
   </bean>
   -->
   <yarn:localresources>
      <yarn:copy src="file:target/dependency/*" dest="/lib/"/>
      <yarn:copy src="file:target/*.jar" dest="/app/kill-application/"/>
      <yarn:hdfs path="/app/kill-application/*.jar"/>
      <yarn:hdfs path="/lib/*"/>
   </yarn:localresources>
  
   <yarn:environment include-system-env="false">
      <yarn:classpath/>
   </yarn:environment>

   <yarn:client app-name="kill-application">
      <yarn:master-runner context-file="com/latticeengines/dataplatform/service/impl/appmaster-context.xml"/>
   </yarn:client>   

   <yarn:client app-name="another-kill-application" id="anotherYarnClient">
      <yarn:master-runner context-file="com/latticeengines/dataplatform/service/impl/appmaster-context.xml"/>
   </yarn:client>   
</beans>
