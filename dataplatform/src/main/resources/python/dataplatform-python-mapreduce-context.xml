<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
	xmlns:yarn="http://www.springframework.org/schema/yarn"
	xmlns:hdp="http://www.springframework.org/schema/hadoop"
	xmlns:context="http://www.springframework.org/schema/context"
	xsi:schemaLocation="
	  http://www.springframework.org/schema/yarn http://www.springframework.org/schema/yarn/spring-yarn.xsd
      http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
      http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd
      http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd
      http://www.springframework.org/schema/hadoop http://www.springframework.org/schema/hadoop/spring-hadoop.xsd">

   <hdp:configuration id="hadoopConfiguration">
        fs.defaultFS=${SHDP_HD_FS}
        yarn.resourcemanager.address=${SHDP_HD_RM}
        yarn.resourcemanager.scheduler.address=${SHDP_HD_SCHEDULER}
        mapred.job.tracker=${dataplatform.mapred.job.tracker}
        mapreduce.job.queuename=default
        yarn.app.mapreduce.am.resource.cpu-vcores=2
        mapreduce.map.memory.mb=2048
        mapreduce.map.cpu.vcores=2
   </hdp:configuration>
   
   <hdp:cache create-symlink="true">
      <hdp:classpath value="/app/dataplatform/le-dataplatform-1.0.0-SNAPSHOT.jar" />
   </hdp:cache>
 
   <!-- Configures the word count job. -->
   <hdp:job id="pythonMRJob"
            input-path="/input"
            output-path="/output"
            mapper="com.latticeengines.dataplatform.runtime.mapreduce.EventDataMapper"
            reducer="com.latticeengines.dataplatform.runtime.mapreduce.EventDataReducer"/>
   
</beans>
