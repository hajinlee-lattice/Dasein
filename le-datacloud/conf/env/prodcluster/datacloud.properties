# match
datacloud.match.matcher.default.client=PD126
datacloud.match.matcher.available.clients=PD126,PD131,PD144

datacloud.manage.url=jdbc:mysql://${AWS_AURORA_ENDPOINT}/LDC_ManageDB?autoReconnect=true&useSSL=false
datacloud.manage.reader.url=jdbc:mysql://${AWS_AURORA_READER_ENDPOINT}/LDC_ManageDB?autoReconnect=true&useSSL=false
datacloud.manage.driver=com.mysql.jdbc.Driver
datacloud.manage.dialect=org.hibernate.dialect.MySQLInnoDBDialect
datacloud.manage.user=${AWS_AURORA_USER}
datacloud.manage.password.encrypted=${AWS_AURORA_PASSWORD}
datacloud.manage.poolsize.max=16
datacloud.manage.poolsize.max.webapp=16
datacloud.manage.poolsize.max.appmaster=8

datacloud.match.block.interval.sec=5
datacloud.match.average.block.size=10000
datacloud.match.max.num.blocks=24
datacloud.match.num.threads=8
datacloud.match.bulk.group.size=20
datacloud.match.realtime.group.size=20
datacloud.match.num.fetchers=32
datacloud.match.num.slowfetchers=8
datacloud.match.realtime.fetchers.enable=true
datacloud.match.cascading.partitions=8
datacloud.match.cascading.rows.threshold=100000000
datacloud.match.public_domain.path=/Pods/Production/Services/PropData/MatchService/PublicDomain/*.avro
datacloud.match.retention.days=7
datacloud.match.bulk.snappy.compress=true

datacloud.match.latest.data.cloud.major.version=2.0
datacloud.match.default.decision.graph=Gingerbread

datacloud.match.dnbLookupActor.actor.cardinality=3
datacloud.match.dnbCacheLookupActor.actor.cardinality=8
datacloud.match.dynamoLookupActor.actor.cardinality=16
datacloud.match.dunsGuideBookLookupActor.actor.cardinality=8
datacloud.match.metricActor.actor.cardinality=4

datacloud.match.actor.datasource.default.threadpool.count.min=16
datacloud.match.actor.datasource.default.threadpool.count.max=64
datacloud.match.actor.datasource.default.threadpool.queue.size=1024

datacloud.match.actor.datasource.dnb.threadpool.count.min=2
datacloud.match.actor.datasource.dnb.threadpool.count.max=8
datacloud.match.actor.datasource.dnb.api.call.maxwait=90

datacloud.match.dynamo.fetchers.num=32
datacloud.match.num.dynamo.fetchers.batch.num=32
datacloud.match.dynamo.fetchers.chunk.size=25

datacloud.match.publish.match.history=true

datacloud.yarn.container.mem.mb=8192
datacloud.yarn.container.vcores=2
datacloud.yarn.container.mem.mb.actors=16384
datacloud.yarn.container.vcores.actors=2
datacloud.yarn.actors.num.threads=256
datacloud.yarn.actors.group.size=16

datacloud.ga.username=propdata-service@lattice-engines.com
datacloud.ga.password.hash=EETAlfvFzCdm6/t3Ro8g89vzZo6EDCbucJMTPhYgWiE=
datacloud.ga.password.encrypted=8WurN7eex7f2oY01mZ9C0w==

datacloud.source.db.json=source_dbs_prod.json
datacloud.target.db.json=source_dbs_prod.json

datacloud.core.accountmasterstats.locationbased=false

#collector
datacloud.collector.enabled=true

# etl
datacloud.collection.host=bodcprodvsql230.prod.lattice.local
datacloud.collection.port=1433
datacloud.collection.db=CollectionDB

datacloud.test.host=bodcprodvsql230.prod.lattice.local
datacloud.test.port=1433
datacloud.test.db=LDC_TestDB

datacloud.bulk.host=bodcprodvsql228.prod.lattice.local
datacloud.bulk.port=1433
datacloud.bulk.db=LEDataDB_30

datacloud.user=DLTransfer
datacloud.password.encrypted=Q1nh4HIYGkg4OnQIEbEuiw==

datacloud.collection.sqoop.mapper.number=16
datacloud.collection.cascading.partitions=32
datacloud.collection.cascading.platform=tez

datacloud.etl.cascading.platform=tez
datacloud.etl.cascading.partitions=72
datacloud.etl.workflow.mem.mb=2048
datacloud.etl.cascading.tez.task.mem.gb=4
datacloud.etl.cascading.tez.task.mem.vcores=1
datacloud.etl.hive.enabled=true
datacloud.etl.profile.encode.bit=64
datacloud.etl.profile.attrs=1000
datacloud.etl.am.max.decode.num=100

datacloud.slack.webhook.url=https://hooks.slack.com/services/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

#dnb
datacloud.dnb.use.remote.global=true
datacloud.dnb.bulk.api.key=P10000049C6AC8A0D4743FF86CAE9F6E
datacloud.dnb.realtime.api.key=P100000B35EE924CE024DA5B70BD55D1
datacloud.dnb.bulk.password.encrypted=1wNHSttB4lCZ9tueZRlIAw==
datacloud.dnb.realtime.password.encrypted=1wNHSttB4lCZ9tueZRlIAw==
datacloud.dnb.user.header=x-dnb-user
datacloud.dnb.password.header=x-dnb-pwd
datacloud.dnb.authority.url=https://direct.dnb.com/Authentication/V2.0/
datacloud.dnb.application.id.header=ApplicationId
datacloud.dnb.application.id=37
datacloud.dnb.authorization.header=Authorization
datacloud.dnb.token.cache.expiration.duration.minute=20
datacloud.dnb.authentication.token.jsonpath=$.AuthenticationDetail.Token
datacloud.dnb.dispatcher.frequency.sec=30
datacloud.dnb.status.frequency.sec=120
datacloud.dnb.batch.fetcher.num=4
datacloud.dnb.confidencecode.threshold=6
datacloud.dnb.retry.maxattempts=10

#dnb cache
datacloud.dnb.cache.version=2.0.1
datacloud.dnb.cache.white.expire.days=180
datacloud.dnb.cache.black.expire.days=30
datacloud.dnb.cache.notinam.expire.days=10
datacloud.dnb.cache.expire.factor=0.1
datacloud.dnb.cache.queue.size=50000

#dnb real time
datacloud.dnb.realtime.url.prefix=https://direct.dnb.com/V5.0/organizations?
datacloud.dnb.realtime.email.lookup.url.format=https://direct.dnb.com/V6.3/organizations?findcontact=true&ContactEmailAddress=%s&SearchModeDescription=EmailLookup
datacloud.dnb.realtime.duns.jsonpath=$.GetCleanseMatchResponse.GetCleanseMatchResponseDetail.MatchResponseDetail.MatchCandidate[0].DUNSNumber
datacloud.dnb.realtime.name.jsonpath=$.GetCleanseMatchResponse.GetCleanseMatchResponseDetail.MatchResponseDetail.MatchCandidate[0].OrganizationPrimaryName.OrganizationName.$
datacloud.dnb.realtime.street.jsonpath=$.GetCleanseMatchResponse.GetCleanseMatchResponseDetail.MatchResponseDetail.MatchCandidate[0].PrimaryAddress.StreetAddressLine[0].LineText
datacloud.dnb.realtime.city.jsonpath=$.GetCleanseMatchResponse.GetCleanseMatchResponseDetail.MatchResponseDetail.MatchCandidate[0].PrimaryAddress.PrimaryTownName
datacloud.dnb.realtime.state.jsonpath=$.GetCleanseMatchResponse.GetCleanseMatchResponseDetail.MatchResponseDetail.MatchCandidate[0].PrimaryAddress.TerritoryAbbreviatedName
datacloud.dnb.realtime.countrycode.jsonpath=$.GetCleanseMatchResponse.GetCleanseMatchResponseDetail.MatchResponseDetail.MatchCandidate[0].PrimaryAddress.CountryISOAlpha2Code
datacloud.dnb.realtime.zipcode.jsonpath=$.GetCleanseMatchResponse.GetCleanseMatchResponseDetail.MatchResponseDetail.MatchCandidate[0].PrimaryAddress.PostalCode
datacloud.dnb.realtime.phonenumber.jsonpath=$.GetCleanseMatchResponse.GetCleanseMatchResponseDetail.MatchResponseDetail.MatchCandidate[0].TelephoneNumber.TelecommunicationNumber
datacloud.dnb.realtime.confidencecode.jsonpath=$.GetCleanseMatchResponse.GetCleanseMatchResponseDetail.MatchResponseDetail.MatchCandidate[0].MatchQualityInformation.ConfidenceCodeValue
datacloud.dnb.realtime.matchgrade.jsonpath=$.GetCleanseMatchResponse.GetCleanseMatchResponseDetail.MatchResponseDetail.MatchCandidate[0].MatchQualityInformation.MatchGradeText
datacloud.dnb.realtime.operatingstatus.jsonpath=$.GetCleanseMatchResponse.GetCleanseMatchResponseDetail.MatchResponseDetail.MatchCandidate[0].OperatingStatusText.$
datacloud.dnb.realtime.operatingstatus.outofbusiness=Out of Business
datacloud.dnb.realtime.email.duns.jsonpath=$.FindContactResponse.FindContactResponseDetail.FindCandidate[0].DUNSNumber
datacloud.dnb.realtime.resultid.jsonpath=$..TransactionResult.ResultID
datacloud.dnb.realtime.reasoncode.de=6332
datacould.dnb.realtime.timeout.minute=10

#dnb bulk lookup
datacloud.dnb.bulk.url=https://direct.dnb.com:8443/V3.0/Batches
datacloud.dnb.bulk.servicebatchid.xpath=//ServiceBatchID
datacloud.dnb.bulk.receive.timestamp.xpath=//BatchReceivedTimeStamp
datacloud.dnb.bulk.complete.timestamp.xpath=//ActualProcessCompletionTimestamp
datacloud.dnb.bulk.output.content.object.xpath=//GetBatchResultsResponseDetail/OutputDetail/OutputObjectDetail[%s]/ContentObject
datacloud.dnb.bulk.result.id.xpath=//GetBatchResultsResponseDetail/BatchResult/ResultID
datacloud.dnb.bulk.input.record.format=,"%s",,,,,,,,"%s",,,,"%s","%s","%s",,"%s",,"%s",,
datacloud.dnb.bulk.getresult.url.format=https://direct.dnb.com:8443/V3.0/Batches/%s?SubmittingOfficeID=%s&ServiceVersionNumber=%s&ApplicationTransactionID=123456789&TransactionTimestamp=%s
datacloud.dnb.bulk.office.id=333
datacloud.dnb.bulk.service.number=3
datacloud.dnb.bulk.timeout.minute=180
datacloud.dnb.bulk.request.maximum=10000
datacloud.dnb.bulk.requests.per.second=5
datacloud.dnb.bulk.requests.per.hour=300
datacloud.dnb.bulk.rows.per.hour=500000
datacloud.dnb.bulk.status.request.per.second=5
datacloud.dnb.bulk.status.request.per.hour=300
datacloud.dnb.bulk.retry.times=1
datacloud.dnb.bulk.retry.wait.minute=45
datacloud.dnb.bulk.retry.pendingrecord.threshold=100000
datacloud.dnb.bulk.redirect.realtime.threshold=100

# dnb bulk status lookup
datacloud.dnb.bulk.getstatus.url.format=https://direct.dnb.com:8443/V1.0/Batches?ServiceBatchID=%s&SubmittingOfficeID=333&ServiceVersionNumber=3&ApplicationTransactionID=123456789&TransactionTimestamp=%s&ServiceBatchID-2=1018
datacloud.dnb.bulk.getstatus.batchsize=50
datacloud.dnb.bulk.getstatus.transactioncode.xpath=//TransactionResult/ResultID
datacloud.dnb.bulk.getstatus.servicebatchid.xpath=//ListBatchResponseDetail/Batch[%s]/BatchDetail/ServiceBatchID
datacloud.dnb.bulk.getstatus.status.xpath=//ListBatchResponseDetail/Batch[%s]/BatchResult/ResultID

# aws creds
datacloud.aws.qa.access.key=bi0mpJJNxiYpEka5C6JO4oHwKjKDDkN1OtGcSx6m3TOO20J0JJzWTzNWB0kOXR4yM8mGlBYofKHAUPsb0U92MA==
datacloud.aws.qa.secret.key=bi0mpJJNxiYpEka5C6JO4uuyFoO8IiKpLn5ZS/LmNslND9h+pMMRbh58ZB/qVA0jn/08q5MnTQjhcH9bt9zwsBvRTvUEOR1YcOPWgg8Cs24=
datacloud.aws.prod.access.key=bi0mpJJNxiYpEka5C6JO4iZCri9OL8Z+xrD9An4YnSi3eRDEDU6XCPYmGsB9SxsfDvcaF1rj/gF+PsqrcXGRhA==
datacloud.aws.prod.secret.key=bi0mpJJNxiYpEka5C6JO4k6DQFG6dKs3IRJglYQq5x72PnN/w4zi2cmTvgAqgol4QUZX0pFov2GRYTLkAbKycUtLWZJFjmfZRd78uDYw9Ns=

#Madison Logic
propdata.jobs.enabled=true
propdata.basedir=/user/propdata
propdata.data.source.dir=madison

propdata.madison.datasource.dialect=org.hibernate.dialect.SQLServerDialect
propdata.madison.datasource.driver=com.microsoft.sqlserver.jdbc.SQLServerDriver
propdata.madison.datasource.url=jdbc:sqlserver://bodcprodvsql244.prod.lattice.local;databaseName=MadisonLogic;
propdata.madison.datasource.user=DLTransfer
propdata.madison.datasource.password.encrypted=Q1nh4HIYGkg4OnQIEbEuiw==
propdata.madison.mapper.number=16
propdata.madison.split.columns=ID
propdata.madison.num.past.days=28
propdata.madison.datasource.data.url=jdbc:sqlserver://bodcprodvsql244.prod.lattice.local;databaseName=MadisonLogic;
propdata.madison.datasource.data.host=bodcprodvsql244.prod.lattice.local
propdata.madison.datasource.data.port=1433
propdata.madison.datasource.data.dbname=MadisonLogic
propdata.madison.datasource.data.type=SQLServer
propdata.madison.datasource.data.user=DLTransfer
propdata.madison.datasource.data.password.encrypted=Q1nh4HIYGkg4OnQIEbEuiw==

propdata.madison.target.raw.table=MadisonLogicDepivoted
propdata.madison.target.table=MadisonLogicAggregated_Source
propdata.madison.datatarget.url=jdbc:sqlserver://bodcprodvsql230.prod.lattice.local;databaseName=CollectionDB;
propdata.madison.datatarget.host=bodcprodvsql230.prod.lattice.local
propdata.madison.datatarget.port=1433
propdata.madison.datatarget.dbname=CollectionDB
propdata.madison.datatarget.type=SQLServer
propdata.madison.datatarget.user=DLTransfer
propdata.madison.datatarget.password.encrypted=Q1nh4HIYGkg4OnQIEbEuiw==

propdata.madison.download.schedule=0 0 * * * ?
propdata.madison.upload.schedule=0 0 2/7 * * ?
propdata.madison.use.default.job.properties=false
propdata.madison.cascading.engine=tez

# test
datacloud.test.env=prodcluster
datacloud.test.match.client=PD131
datacloud.test.match.correctness.rows=1000

# collection
datacloud.collection.s3bucket=latticeengines-prod-datacloud
datacloud.collection.s3bucket.prefix=collectors/workers/

datacloud.collection.ecr.image.name=latticeengines/collector
datacloud.collection.ecs.cluster.name=datacloud-collector
datacloud.collection.ecs.task.def.name=datacloud-collector-task-def
datacloud.collection.ecs.task.cpu=512
datacloud.collection.ecs.task.memory=1024
datacloud.collection.ecs.task.subnets=subnet-87cdd6ad,subnet-b80a12e0,subnet-ad7db6e4


#collection test
datacloud.collection.test.domains=

#ingestion of collected data
datacloud.collection.bw.timestamp=CollectedAt
#3600 second
datacloud.collection.ingestion.partion.period=3600
