alias cplfresh='rm -Rf $HOME/.m2/repository/com/latticeengines && mvn -Pgenerate -DskipTests clean install'
alias leversion='cat ../le-parent/pom.xml | grep \<version\> | head -n 1 | cut -d \< -f 2 | cut -d \> -f 2'

alias dfdplnobld='hadoop fs -rm -r -f "/app/dataflow/*" && hadoop fs -mkdir -p /app/dataflow/lib && hadoop fs -put $WSHOME/le-dataflow/target/le-dataflow*shaded.jar /app/dataflow/lib && hadoop fs -put conf/env/dev/dataflow.properties /app/dataflow'
alias dfdpl='mvn -Pshaded-yarn -DskipTests clean install && dfdplnobld'

alias wfdplnobld='hadoop fs -rm -r -f "/app/workflow/*" && hadoop fs -mkdir -p /app/workflow && hadoop fs -put conf/env/dev/workflow.properties /app/workflow'
alias wfdpl='mvn -Pshaded-yarn -DskipTests clean install && wfdplnobld'

alias dfapidplnobld='hadoop fs -rm -r /app/dataflowapi || true && hadoop fs -mkdir -p /app/dataflowapi/lib && hadoop fs -copyFromLocal $WSHOME/le-dataflowapi/target/le-dataflowapi*shaded.jar /app/dataflowapi/lib && hadoop fs -copyFromLocal conf/env/dev/dataflowapi.properties /app/dataflowapi'
alias createpod='cd $WSHOME/le-baton && mvn -f pom-batontool.xml -DskipTests clean install && java -jar target/le-baton-tool-*-shaded.jar --podId Default --connectionString localhost:2181 createPod'

alias dfapidpl='mvn -Pshaded-yarn -DskipTests clean install && dfapidplnobld'

alias wfapidplnobld='hadoop fs -rm -r /app/workflowapi || true && hadoop fs -mkdir -p /app/workflowapi/lib && hadoop fs -copyFromLocal $WSHOME/le-workflowapi/target/le-workflowapi*shaded.jar /app/workflowapi/lib && hadoop fs -copyFromLocal conf/env/dev/workflowapi.properties /app/workflowapi'
alias wfapidpl='mvn -Pshaded-yarn -DskipTests clean install && wfapidplnobld'

alias scoringdplnobld='hadoop fs -rm -r /app/scoring || true && hadoop fs -mkdir -p /app/scoring/lib  && hadoop fs -mkdir -p /app/scoring/scripts && hadoop fs -copyFromLocal $WSHOME/le-scoring/target/le-scoring*shaded.jar /app/scoring/lib && hadoop fs -copyFromLocal conf/env/dev/scoring.properties /app/scoring  && hadoop fs -copyFromLocal src/main/python/scoring.py /app/scoring/scripts'
alias scoringdpl='mvn -Pshaded-yarn -DskipTests clean install && scoringdplnobld'

alias pddplnobld='hadoop fs -rm -r /app/propdata || true && hadoop fs -mkdir -p /app/propdata/lib && hadoop fs -copyFromLocal $WSHOME/le-propdata/target/le-propdata*shaded.jar /app/propdata/lib && hdfs dfs -put $WSHOME/le-propdata/conf/env/dev/propdata.properties /app/propdata'
alias pddpl='pushd $WSHOME/le-propdata && mvn -Pshaded-yarn -DskipTests clean install && popd && pddplnobld'

alias dpdplnobld='hadoop fs -rm -r /app/dataplatform || true && hadoop fs -mkdir -p /app/dataplatform/lib && hadoop fs -copyFromLocal $WSHOME/le-dataplatform/target/le-dataplatform*shaded.jar /app/dataplatform/lib && hadoop fs -copyFromLocal $WSHOME/le-dataplatform/conf/env/dev/dataplatform.properties /app/dataplatform && bash $WSHOME/le-dataplatform/bin/deployPythonHDFS.sh'
alias dpdpl='mvn -Pshaded-yarn -DskipTests clean install && dpdplnobld'

alias dedplnobld='hadoop fs -rm -r /app/dellebi || true && hadoop fs -mkdir -p /app/dellebi/lib && hadoop fs -copyFromLocal $WSHOME/le-dellebi/target/le-dellebi*shaded.jar /app/dellebi/lib && hadoop fs -copyFromLocal $WSHOME/le-dellebi/conf/env/dev/dellebi.properties /app/dellebi'
alias dedpl='mvn -Pshaded-yarn -DskipTests clean install && dedplnobld'

alias fwkdpl='hadoop fs -rm -r /app/proxy || true && hadoop fs -rm -r /app/db || true && hadoop fs -rm -r /app/security || true && hadoop fs -rm -r /app/monitor || true && hadoop fs -rm -r /app/camille || true && hadoop fs -mkdir -p /app/proxy || true && hadoop fs -mkdir -p /app/db || true && hadoop fs -mkdir -p /app/camille || true && hadoop fs -mkdir -p /app/monitor || true && hadoop fs -mkdir -p /app/security || true && hadoop fs -copyFromLocal $WSHOME/le-proxy/conf/env/dev/proxy.properties /app/proxy && hadoop fs -copyFromLocal $WSHOME/le-db/conf/env/dev/db.properties /app/db && hadoop fs -copyFromLocal $WSHOME/le-security/conf/env/dev/security.properties /app/security && hdfs dfs -put $WSHOME/le-monitor/conf/env/dev/monitor.properties /app/monitor && hdfs dfs -put $WSHOME/le-camille/conf/env/dev/camille.properties /app/camille '

alias eaidplnobld='hadoop fs -rm -r /app/eai || true && hadoop fs -mkdir -p /app/eai/lib && hadoop fs -copyFromLocal $WSHOME/le-eai/target/le-eai*shaded.jar /app/eai/lib && hadoop fs -copyFromLocal $WSHOME/le-eai/conf/env/dev/eai.properties /app/eai'
alias eaidpl='mvn -Pshaded-yarn -DexcludeArtifactIds=jetty-servlets,jetty-continuation -DskipTests clean install && eaidplnobld'

alias apidpl='mvn -DskipTests clean dependency:copy-dependencies deploy && cp target/le-api-*-SNAPSHOT.war $JETTY_HOME/webapps'
alias scoringapidpl='mvn -DskipTests clean dependency:copy-dependencies deploy && cp target/le-scoringapi-*-SNAPSHOT.war $JETTY_HOME/webapps'
alias secdpl='mvn -Pgenerate -DskipTests -Djavax.net.ssl.trustStore=certificates/laca-ldap.dev.lattice.local.jks clean install'
alias scheddpl='mvn -DskipTests clean dependency:copy-dependencies deploy && cp target/le-scheduler-*-SNAPSHOT.jar $HADOOP_HOME/share/hadoop/yarn'
alias perfdpl='mvn -DskipTests clean dependency:copy-dependencies deploy && cp target/le-perf-*-SNAPSHOT.jar $HADOOP_HOME/share/hadoop/yarn'

alias microservicedplnobld='bash -c "rm -f $JETTY_HOME/webapps/*" && cp eai/target/le-eai-*.war $JETTY_HOME/webapps && cp dataflowapi/target/le-dataflowapi-*.war $JETTY_HOME/webapps && cp metadata/target/le-metadata-*.war $JETTY_HOME/webapps && cp propdata/target/le-propdata-*.war $JETTY_HOME/webapps && cp core/target/le-microservice-*.war $JETTY_HOME/webapps && cp modeling/target/le-modeling-*.war $JETTY_HOME/webapps && cp workflowapi/target/le-workflowapi-*.war $JETTY_HOME/webapps && cp scoring/target/le-scoring-*.war $JETTY_HOME/webapps'
alias microservicedpl='mvn -DskipTests clean package && microservicedplnobld'

alias swlibdpl='hadoop fs -rm -r /app/swlib || true && bin/deployToSwlib.sh -o install -m dataflowapi -g com.latticeengines -a le-serviceflows-prospectdiscovery -i com.latticeengines.prospectdiscovery.Initializer -f ../le-serviceflows/prospectdiscovery/target/le-serviceflows-prospectdiscovery-*-shaded.jar && bin/deployToSwlib.sh -o install -m dataflowapi -g com.latticeengines -a le-serviceflows-leadprioritization -i com.latticeengines.leadprioritization.Initializer -f ../le-serviceflows/leadprioritization/target/le-serviceflows-leadprioritization-*-shaded.jar'

alias runtest='python $WSHOME/le-dev/scripts/runtest.py'
alias pytests='mvn -Pcc-python clean test'
alias mdstests='mvn -Pfunctional -DargLine="" verify'
alias dftests='mvn -Pfunctional -DargLine="" verify'
alias dfapitests='mvn -Pfunctional -DargLine="" verify'
alias dfapidptests='mvn -Pdeployment -DargLine="" verify'
alias dptests='mvn -Pfunctional -DargLine="" verify'
alias eaitests='mvn -Pfunctional -DargLine="" verify'
alias schedtests='mvn -Pfunctional -DargLine="" verify'
alias schedtests-dc='mvn -Pfunctional -DargLine="" verify'
alias dptestscc='mvn -Pcc -Pfunctional verify'
alias apitests='mvn -Pfunctional -DargLine="" -Djetty.class.path=$JAVA_HOME/lib/tools.jar:$HADOOP_HOME/share/hadoop/common/hadoop-common-2.4.0.jar:$HADOOP_HOME/etc/hadoop clean verify'
alias scoringapitests='MAVEN_OPTS="-Xmx1024m -XX:MaxPermSize=256m" mvn -Pfunctional -DargLine="" -Djetty.port=8077 clean verify'
alias scoringapidptests='MAVEN_OPTS="-Xmx1024m -XX:MaxPermSize=256m" mvn -Pdeployment -DargLine="" -Djetty.port=8011 clean verify'
alias mtrtests='mvn -Pfunctional -DargLine="" verify'
alias admindpltests='mvn -Pdeployment -DargLine= -DGMAIL_APP_PASSWORD=puntdwffotmrruwu -Djavax.net.ssl.trustStore=certificates/laca-ldap.dev.lattice.local.jks -Djava.util.logging.config.file=../le-dev/test-logging.properties verify'
alias admintests='MAVEN_OPTS="-Xmx1024m -XX:MaxPermSize=256m" mvn -Pfunctional -Pgenerate -DargLine="" -Djetty.port=8085 clean verify'
alias sectests='MAVEN_OPTS="-Xmx1024m -XX:MaxPermSize=256m" mvn -Pfunctional -Pgenerate -DargLine="" -Djavax.net.ssl.trustStore=certificates/laca-ldap.dev.lattice.local.jks clean verify'
alias plsdeptests='MAVEN_OPTS="-Xmx1024m -XX:MaxPermSize=256m" mvn -Pdeployment -DargLine="" -Djetty.port=8081 clean verify'
alias plstests='MAVEN_OPTS="-Xmx1024m -XX:MaxPermSize=256m" mvn -Pfunctional -DargLine="" -Djavax.net.ssl.trustStore=certificates/laca-ldap.dev.lattice.local.jks -Djetty.port=8081 verify'
alias wftests='mvn -Pfunctional -DargLine="" verify'
alias wfdptests='mvn -Pdeployment -DargLine="" verify'
alias wfapitests='mvn -Pfunctional -DargLine="" verify'
alias wfapidptests='mvn -Pdeployment -DargLine="" verify'
alias plstestscc='mvn -Pcc -Pfunctional -Djavax.net.ssl.trustStore=certificates/laca-ldap.dev.lattice.local.jks -Djetty.port=8081 -DPLS_PROPDIR=conf/env/dev verify'
alias apidpltests='mvn -Pdeployment -DargLine="" -Djetty.class.path=$JAVA_HOME/lib/tools.jar:$HADOOP_HOME/share/hadoop/common/hadoop-common-2.4.0.jar:$HADOOP_HOME/etc/hadoop verify'
alias scoringtests='mvn -Pfunctional -DargLine="" verify'
alias pdtests='mvn -Pfunctional -DargLine="" clean verify'
alias pdapitests='mvn -Papi.functional -DargLine="" -DPROPDATA_MADISON_QUARTZ_ENABLED=disabled -DDPDL_QUARTZ_ENABLED=disabled clean verify'
alias svcflowtests='mvn -Pfunctional -DargLine="" verify'
alias svcflowtestscluster='SERVICEFLOWS_LOCAL=false mvn -Pfunctional-cluster -DargLine="" verify'
alias recordtransformertest='MAVEN_OPTS="-Xmx2048m -XX:MaxPermSize=256m" mvn -Pfunctional -Djetty.port=8016 -DTENANT=tenant10 -Dtest=RecordTransformerTestNG verify &> /tmp/test.log'
alias cleanuptesttenants='python $WSHOME/le-dev/scripts/cleanup.py'

alias runjettyapi='MAVEN_OPTS="-Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,address=4002,server=y,suspend=n -Xmx1024m -XX:MaxPermSize=256m" mvn -Djetty.class.path=$JAVA_HOME/lib/tools.jar:$HADOOP_HOME/etc/hadoop:$HADOOP_HOME/share/hadoop/common/hadoop-common-$HADOOP_VERSION.$HDP_VERSION.jar -Pfunctional -Djetty.port=8074 jetty:run'
alias runjettysec='rm -f /var/log/ledp/le-pls*.log && MAVEN_OPTS="-Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,address=4003,server=y,suspend=n -Xmx1024m -XX:MaxPermSize=256m" mvn -Pfunctional -Pgenerate clean jetty:run'
alias runjettypls='bash -c "rm -f /var/log/ledp/le-pls*.log" && MAVEN_OPTS="-Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,address=4003,server=y,suspend=n -Xmx1024m -XX:MaxPermSize=256m" mvn -o -Djavax.net.ssl.trustStore=certificates/laca-ldap.dev.lattice.local.jks -Djetty.port=8081 -Pfunctional -DLOCAL_MODEL_DL_QUARTZ_ENABLED=enabled -Djava.util.logging.config.file=../le-dev/test-logging.properties jetty:run'
alias runjettyplsnodl='bash -c "rm -f /var/log/ledp/le-pls*.log" && MAVEN_OPTS="-Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,address=4003,server=y,suspend=n -Xmx1024m -XX:MaxPermSize=256m" mvn -o -Djavax.net.ssl.trustStore=certificates/laca-ldap.dev.lattice.local.jks -Djetty.port=8081 -Pfunctional -DLOCAL_MODEL_DL_QUARTZ_ENABLED=disabled -Djava.util.logging.config.file=../le-dev/test-logging.properties jetty:run'
export runjettypls='bash -c "rm -f /var/log/ledp/le-pls*.log" && MAVEN_OPTS="-Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,address=4003,server=y,suspend=n -Xmx1024m -XX:MaxPermSize=256m" mvn -Djavax.net.ssl.trustStore=certificates/laca-ldap.dev.lattice.local.jks -Djetty.port=8081 -Pfunctional -DLOCAL_MODEL_DL_QUARTZ_ENABLED=enabled jetty:run'
alias runjettyadmin='bash -c "rm -f /var/log/ledp/le-admin*.log" && MAVEN_OPTS="-Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,address=4005,server=y,suspend=n -Xmx1024m -XX:MaxPermSize=256m" mvn -o -Pfunctional -Djetty.port=8085 -Djavax.net.ssl.trustStore=../le-security/certificates/laca-ldap.dev.lattice.local.jks -Djava.util.logging.config.file=../le-dev/test-logging.properties jetty:run'
alias runjettyjob='bash -c "rm -f /var/log/ledp/le-job*.log" && MODEL_DL_QUARTZ_ENABLED=enabled mvn -Djetty.port=8082 -Pfunctional -Pgenerate clean jetty:run'
export runjettyjob='bash -c "rm -f /var/log/ledp/le-job*.log" && MODEL_DL_QUARTZ_ENABLED=enabled mvn -Djetty.port=8082 -Pfunctional -Pgenerate clean jetty:run'
alias runjettyeai='bash -c "rm -f /var/log/ledp/le-eai*.log" && MAVEN_OPTS="-Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,address=4003,server=y,suspend=n -Xmx1024m -XX:MaxPermSize=256m" mvn -DexcludeArtifactIds=jetty-servlets,jetty-continuation -Pfunctional jetty:run'
alias runjettymds='MAVEN_OPTS="-Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,address=4003,server=y,suspend=n -Xmx1024m -XX:MaxPermSize=256m" mvn -DexcludeArtifactIds=jetty-servlets,jetty-continuation -Pfunctional jetty:run'
alias runjettydfapi='MAVEN_OPTS="-Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,address=4003,server=y,suspend=n -Xmx1024m -XX:MaxPermSize=256m" mvn -Pfunctional -DargLine="" -DexcludeArtifactIds=jetty-servlets,jetty-continuation clean jetty:run'
alias runjettyscoringapi='bash -c "rm -f /var/log/ledp/le-scoringapi*.log" && MAVEN_OPTS="-Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,address=4004,server=y,suspend=n -Xmx4048m -XX:MaxPermSize=512m" mvn -Djetty.port=8073 jetty:run'
alias runjettyjobpd='source $WSHOME/le-dev/latticerc && cd $WSHOME/le-job && bash -c "rm -f /var/log/ledp/le-job*.log" && CLASSPATH=$HADOOP_CONF_DIR:$TEZ_CONF_DIR:$HADOOP_COMMON_JAR mvn -Ppropdata jetty:run'

alias runprecheckintest='$WSHOME/le-dev/scripts/runPreCheckInTest.sh'

alias replacePropertyTokens='python $WSHOME/le-config/updateProperty.py'

alias dpltc='python $WSHOME/le-dev/scripts/tcdpl.py'
alias runtc='bash $WSHOME/le-dev/scripts/run-tomcat.sh'

alias runoauth='mvn spring-boot:run -DOAUTH2_PROPDIR=conf/env/dev -DOAUTH2_DB_PROPDIR=../le-oauth2db/conf/env/dev/ -Dserver.port=8072'
alias runplay='mvn spring-boot:run -DOAUTH2_PROPDIR=../le-oauth2/conf/env/dev -DPLAYMAKER_PROPDIR=conf/env/dev -Dserver.port=8071 -DOAUTH2_DB_PROPDIR=../le-oauth2db/conf/env/dev/'
