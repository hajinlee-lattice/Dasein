<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
      http://www.springframework.org/schema/beans/spring-beans-4.0.xsd">

      
    <bean id="commonMbeanExporter" class="org.springframework.jmx.export.MBeanExporter"
        lazy-init="false">
        <property name="autodetect" value="true" />
        <property name="namingStrategy" ref="commonNamingStrategy" />
        <property name="assembler" ref="commonAssembler" />
        <property name="server" ref="commonMbeanServer" />
    </bean>
    
    <bean id="commonAttributeSource" class="org.springframework.jmx.export.annotation.AnnotationJmxAttributeSource"/>

    <bean id="commonAssembler" class="org.springframework.jmx.export.assembler.MetadataMBeanInfoAssembler">
        <property name="attributeSource" ref="commonAttributeSource" />
    </bean>

    <bean id="commonNamingStrategy" class="org.springframework.jmx.export.naming.MetadataNamingStrategy">
        <property name="attributeSource" ref="commonAttributeSource" />
    </bean>

    <bean id="commonMbeanServer" 
          class="java.lang.management.ManagementFactory"
          factory-method="getPlatformMBeanServer" />
</beans>